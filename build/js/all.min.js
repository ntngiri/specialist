var specialist = angular.module('specialist', ['ui.router']).config(['$stateProvider', '$locationProvider', '$urlRouterProvider', function ($stateProvider, $locationProvider, $urlRouterProvider) {
	$urlRouterProvider.otherwise('/');
	$stateProvider.state('home', {
		url: '/',
		templateUrl: './build/html/main.html',
		controller: 'mainController'
	}).state('search', {
		url: '/search',
		templateUrl: './build/html/search.html',
		controller: 'SearchCtrl'
	}).state('doctorPortal', {
		url: '/doctorPortal',
		templateUrl: './build/html/doctorPortal.html',
		controller: 'doctorPortalCtrl'
	}).state('ques', {
		url: '/ques',
		templateUrl: './build/html/quesans.html'
	}).state('docSignup', {
		url: '/docSignup',
		templateUrl: './build/html/docSignup.html',
		controller: 'docSignupCtrl'
	}).state('doctorProfile', {
		url: '/doctorProfile',
		templateUrl: './build/html/docProfile.html',
		controller: 'docProfileCtrl',
		abstract: true
	}).state('doctorProfile.dashboard', {
		url: '',
		templateUrl: './build/html/docprofileDashboard.html'
	}).state('doctorProfile.faq', {
		url: '/faq',
		templateUrl: './build/html/docFaq.html'
	}).state('doctorProfile.plans', {
		url: '/plans',
		templateUrl: './build/html/docPlans.html'
	}).state('doctorProfile.profile', {
		url: '/profile',
		templateUrl: './build/html/docUserProfile.html',
		controller: 'docProfileCtrl'
	}).state('doctor', {
		url: '/doctor',
		templateUrl: './build/html/docBooking.html'
	});
	$locationProvider.html5Mode(true);
}]);
//angular.module("ui.rCalendar.tpls", ["../template/rcalendar/calender.html","../template/rcalendar/day.html","../template/rcalendar/month.html","../template/rcalendar/week.html"]);
//angular.module('ui.rCalendar', [])
specialist.constant('calendarConfig', {
    formatDay: 'dd',
    formatDayHeader: 'EEE',
    formatDayTitle: 'MMMM dd, yyyy',
    formatWeekTitle: 'MMMM yyyy, Week w',
    formatMonthTitle: 'MMMM yyyy',
    formatWeekViewDayHeader: 'EEE d',
    formatHourColumn: 'ha',
    calendarMode: 'month',
    showWeeks: false,
    showEventDetail: true,
    startingDay: 0,
    eventSource: null,
    queryMode: 'local'
}).controller('ui.rCalendar.CalendarController', ['$scope', '$attrs', '$parse', '$interpolate', '$log', 'dateFilter', 'calendarConfig', function ($scope, $attrs, $parse, $interpolate, $log, dateFilter, calendarConfig) {
    'use strict';

    var self = this,
        ngModelCtrl = { $setViewValue: angular.noop }; // nullModelCtrl;

    // Configuration attributes
    angular.forEach(['formatDay', 'formatDayHeader', 'formatDayTitle', 'formatWeekTitle', 'formatMonthTitle', 'formatWeekViewDayHeader', 'formatHourColumn', 'showWeeks', 'showEventDetail', 'startingDay', 'eventSource', 'queryMode'], function (key, index) {
        self[key] = angular.isDefined($attrs[key]) ? index < 7 ? $interpolate($attrs[key])($scope.$parent) : $scope.$parent.$eval($attrs[key]) : calendarConfig[key];
    });

    $scope.$parent.$watch($attrs.eventSource, function (value) {
        self.onEventSourceChanged(value);
    });

    $scope.calendarMode = $scope.calendarMode || calendarConfig.calendarMode;
    if (angular.isDefined($attrs.initDate)) {
        self.currentCalendarDate = $scope.$parent.$eval($attrs.initDate);
    }
    if (!self.currentCalendarDate) {
        self.currentCalendarDate = new Date();
        if ($attrs.ngModel && !$scope.$parent.$eval($attrs.ngModel)) {
            $parse($attrs.ngModel).assign($scope.$parent, self.currentCalendarDate);
        }
    }

    self.init = function (ngModelCtrl_) {
        ngModelCtrl = ngModelCtrl_;

        ngModelCtrl.$render = function () {
            self.render();
        };
    };

    self.render = function () {
        if (ngModelCtrl.$modelValue) {
            var date = new Date(ngModelCtrl.$modelValue),
                isValid = !isNaN(date);

            if (isValid) {
                this.currentCalendarDate = date;
            } else {
                $log.error('"ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
            }
            ngModelCtrl.$setValidity('date', isValid);
        }
        this.refreshView();
    };

    self.refreshView = function () {
        if (this.mode) {
            this.range = this._getRange(this.currentCalendarDate);
            this._refreshView();
            this.rangeChanged();
        }
    };

    // Split array into smaller arrays
    self.split = function (arr, size) {
        var arrays = [];
        while (arr.length > 0) {
            arrays.push(arr.splice(0, size));
        }
        return arrays;
    };

    self.onEventSourceChanged = function (value) {
        self.eventSource = value;
        if (self._onDataLoaded) {
            self._onDataLoaded();
        }
    };

    $scope.move = function (direction) {
        var step = self.mode.step,
            currentCalendarDate = self.currentCalendarDate,
            year = currentCalendarDate.getFullYear() + direction * (step.years || 0),
            month = currentCalendarDate.getMonth() + direction * (step.months || 0),
            date = currentCalendarDate.getDate() + direction * (step.days || 0),
            firstDayInNextMonth;

        currentCalendarDate.setFullYear(year, month, date);
        if ($scope.calendarMode === 'month') {
            firstDayInNextMonth = new Date(year, month + 1, 1);
            if (firstDayInNextMonth.getTime() <= currentCalendarDate.getTime()) {
                self.currentCalendarDate = new Date(firstDayInNextMonth - 24 * 60 * 60 * 1000);
            }
        }
        ngModelCtrl.$setViewValue(self.currentCalendarDate);
        self.refreshView();
    };

    self.move = function (direction) {
        $scope.move(direction);
    };

    self.rangeChanged = function () {
        if (self.queryMode === 'local') {
            if (self.eventSource && self._onDataLoaded) {
                self._onDataLoaded();
            }
        } else if (self.queryMode === 'remote') {
            if ($scope.rangeChanged) {
                $scope.rangeChanged({
                    startTime: this.range.startTime,
                    endTime: this.range.endTime
                });
            }
        }
    };

    function overlap(event1, event2) {
        return !(event1.endIndex <= event2.startIndex || event2.endIndex <= event1.startIndex);
    }

    function calculatePosition(events) {
        var i,
            j,
            len = events.length,
            maxColumn = 0,
            col,
            isForbidden = new Array(len);

        for (i = 0; i < len; i += 1) {
            for (col = 0; col < maxColumn; col += 1) {
                isForbidden[col] = false;
            }
            for (j = 0; j < i; j += 1) {
                if (overlap(events[i], events[j])) {
                    isForbidden[events[j].position] = true;
                }
            }
            for (col = 0; col < maxColumn; col += 1) {
                if (!isForbidden[col]) {
                    break;
                }
            }
            if (col < maxColumn) {
                events[i].position = col;
            } else {
                events[i].position = maxColumn++;
            }
        }
    }

    function calculateWidth(orderedEvents) {
        var cells = new Array(24),
            event,
            index,
            i,
            j,
            len,
            eventCountInCell,
            currentEventInCell;

        //sort by position in descending order, the right most columns should be calculated first
        orderedEvents.sort(function (eventA, eventB) {
            return eventB.position - eventA.position;
        });
        for (i = 0; i < 24; i += 1) {
            cells[i] = {
                calculated: false,
                events: []
            };
        }
        len = orderedEvents.length;
        for (i = 0; i < len; i += 1) {
            event = orderedEvents[i];
            index = event.startIndex;
            while (index < event.endIndex) {
                cells[index].events.push(event);
                index += 1;
            }
        }

        i = 0;
        while (i < len) {
            event = orderedEvents[i];
            if (!event.overlapNumber) {
                var overlapNumber = event.position + 1;
                event.overlapNumber = overlapNumber;
                var eventQueue = [event];
                while (event = eventQueue.shift()) {
                    index = event.startIndex;
                    while (index < event.endIndex) {
                        if (!cells[index].calculated) {
                            cells[index].calculated = true;
                            if (cells[index].events) {
                                eventCountInCell = cells[index].events.length;
                                for (j = 0; j < eventCountInCell; j += 1) {
                                    currentEventInCell = cells[index].events[j];
                                    if (!currentEventInCell.overlapNumber) {
                                        currentEventInCell.overlapNumber = overlapNumber;
                                        eventQueue.push(currentEventInCell);
                                    }
                                }
                            }
                        }
                        index += 1;
                    }
                }
            }
            i += 1;
        }
    }

    self.placeEvents = function (orderedEvents) {
        calculatePosition(orderedEvents);
        calculateWidth(orderedEvents);
    };

    self.placeAllDayEvents = function (orderedEvents) {
        calculatePosition(orderedEvents);
    };
}]).directive('calendar', function () {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './specialist/build/html/calender.html',
        scope: {
            calendarMode: '=',
            rangeChanged: '&',
            eventSelected: '&',
            timeSelected: '&'
        },
        require: ['calendar', '?^ngModel'],
        controller: 'ui.rCalendar.CalendarController',
        link: function (scope, element, attrs, ctrls) {
            var calendarCtrl = ctrls[0],
                ngModelCtrl = ctrls[1];

            if (ngModelCtrl) {
                calendarCtrl.init(ngModelCtrl);
            }

            scope.$on('changeDate', function (event, direction) {
                calendarCtrl.move(direction);
            });

            scope.$on('eventSourceChanged', function (event, value) {
                calendarCtrl.onEventSourceChanged(value);
            });
        }
    };
}).directive('monthview', ['dateFilter', function (dateFilter) {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './specialist/build/html/month.html',
        require: ['^calendar', '?^ngModel'],
        link: function (scope, element, attrs, ctrls) {
            var ctrl = ctrls[0],
                ngModelCtrl = ctrls[1];
            scope.showWeeks = ctrl.showWeeks;
            scope.showEventDetail = ctrl.showEventDetail;

            ctrl.mode = {
                step: { months: 1 }
            };

            function getDates(startDate, n) {
                var dates = new Array(n),
                    current = new Date(startDate),
                    i = 0;
                current.setHours(12); // Prevent repeated dates because of timezone bug
                while (i < n) {
                    dates[i++] = new Date(current);
                    current.setDate(current.getDate() + 1);
                }
                return dates;
            }

            scope.select = function (selectedDate) {
                var rows = scope.rows;
                if (rows) {
                    var currentCalendarDate = ctrl.currentCalendarDate;
                    var currentMonth = currentCalendarDate.getMonth();
                    var currentYear = currentCalendarDate.getFullYear();
                    var selectedMonth = selectedDate.getMonth();
                    var selectedYear = selectedDate.getFullYear();
                    var direction = 0;
                    if (currentYear === selectedYear) {
                        if (currentMonth !== selectedMonth) {
                            direction = currentMonth < selectedMonth ? 1 : -1;
                        }
                    } else {
                        direction = currentYear < selectedYear ? 1 : -1;
                    }

                    ctrl.currentCalendarDate = selectedDate;
                    if (ngModelCtrl) {
                        ngModelCtrl.$setViewValue(selectedDate);
                    }
                    if (direction === 0) {
                        for (var row = 0; row < 6; row += 1) {
                            for (var date = 0; date < 7; date += 1) {
                                var selected = ctrl.compare(selectedDate, rows[row][date].date) === 0;
                                rows[row][date].selected = selected;
                                if (selected) {
                                    scope.selectedDate = rows[row][date];
                                }
                            }
                        }
                    } else {
                        ctrl.refreshView();
                    }

                    if (scope.timeSelected) {
                        scope.timeSelected({ selectedTime: selectedDate });
                    }
                }
            };

            ctrl._refreshView = function () {
                var startDate = ctrl.range.startTime,
                    date = startDate.getDate(),
                    month = (startDate.getMonth() + (date !== 1 ? 1 : 0)) % 12,
                    year = startDate.getFullYear() + (date !== 1 && month === 0 ? 1 : 0);

                var days = getDates(startDate, 42);
                for (var i = 0; i < 42; i++) {
                    days[i] = angular.extend(createDateObject(days[i], ctrl.formatDay), {
                        secondary: days[i].getMonth() !== month
                    });
                }

                scope.labels = new Array(7);
                for (var j = 0; j < 7; j++) {
                    scope.labels[j] = dateFilter(days[j].date, ctrl.formatDayHeader);
                }

                var headerDate = new Date(year, month, 1);
                scope.$parent.title = dateFilter(headerDate, ctrl.formatMonthTitle);
                scope.rows = ctrl.split(days, 7);

                if (scope.showWeeks) {
                    scope.weekNumbers = [];
                    var thursdayIndex = (4 + 7 - ctrl.startingDay) % 7,
                        numWeeks = scope.rows.length;
                    for (var curWeek = 0; curWeek < numWeeks; curWeek++) {
                        scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));
                    }
                }
            };

            function createDateObject(date, format) {
                return {
                    date: date,
                    label: dateFilter(date, format),
                    selected: ctrl.compare(date, ctrl.currentCalendarDate) === 0,
                    current: ctrl.compare(date, new Date()) === 0
                };
            }

            function compareEvent(event1, event2) {
                if (event1.allDay) {
                    return 1;
                } else if (event2.allDay) {
                    return -1;
                } else {
                    return event1.startTime.getTime() - event2.startTime.getTime();
                }
            }

            ctrl._onDataLoaded = function () {
                var eventSource = ctrl.eventSource,
                    len = eventSource ? eventSource.length : 0,
                    startTime = ctrl.range.startTime,
                    endTime = ctrl.range.endTime,
                    utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),
                    utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),
                    rows = scope.rows,
                    oneDay = 86400000,
                    eps = 0.001,
                    row,
                    date,
                    hasEvent = false;

                if (rows.hasEvent) {
                    for (row = 0; row < 6; row += 1) {
                        for (date = 0; date < 7; date += 1) {
                            if (rows[row][date].hasEvent) {
                                rows[row][date].events = null;
                                rows[row][date].hasEvent = false;
                            }
                        }
                    }
                }

                for (var i = 0; i < len; i += 1) {
                    var event = eventSource[i];
                    var eventStartTime = new Date(event.startTime);
                    var eventEndTime = new Date(event.endTime);
                    var st;
                    var et;

                    if (event.allDay) {
                        if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {
                            continue;
                        } else {
                            st = utcStartTime;
                            et = utcEndTime;
                        }
                    } else {
                        if (eventEndTime <= startTime || eventStartTime >= endTime) {
                            continue;
                        } else {
                            st = startTime;
                            et = endTime;
                        }
                    }

                    var timeDiff;
                    var timeDifferenceStart;
                    if (eventStartTime <= st) {
                        timeDifferenceStart = 0;
                    } else {
                        timeDiff = eventStartTime - st;
                        if (!event.allDay) {
                            timeDiff = timeDiff - (eventStartTime.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;
                        }
                        timeDifferenceStart = timeDiff / oneDay;
                    }

                    var timeDifferenceEnd;
                    if (eventEndTime >= et) {
                        timeDiff = et - st;
                        if (!event.allDay) {
                            timeDiff = timeDiff - (et.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;
                        }
                        timeDifferenceEnd = timeDiff / oneDay;
                    } else {
                        timeDiff = eventEndTime - st;
                        if (!event.allDay) {
                            timeDiff = timeDiff - (eventEndTime.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;
                        }
                        timeDifferenceEnd = timeDiff / oneDay;
                    }

                    var index = Math.floor(timeDifferenceStart);
                    var eventSet;
                    while (index < timeDifferenceEnd - eps) {
                        var rowIndex = Math.floor(index / 7);
                        var dayIndex = Math.floor(index % 7);
                        rows[rowIndex][dayIndex].hasEvent = true;
                        eventSet = rows[rowIndex][dayIndex].events;
                        if (eventSet) {
                            eventSet.push(event);
                        } else {
                            eventSet = [];
                            eventSet.push(event);
                            rows[rowIndex][dayIndex].events = eventSet;
                        }
                        index += 1;
                    }
                }

                for (row = 0; row < 6; row += 1) {
                    for (date = 0; date < 7; date += 1) {
                        if (rows[row][date].hasEvent) {
                            hasEvent = true;
                            rows[row][date].events.sort(compareEvent);
                        }
                    }
                }
                rows.hasEvent = hasEvent;

                var findSelected = false;
                for (row = 0; row < 6; row += 1) {
                    for (date = 0; date < 7; date += 1) {
                        if (rows[row][date].selected) {
                            scope.selectedDate = rows[row][date];
                            findSelected = true;
                            break;
                        }
                    }
                    if (findSelected) {
                        break;
                    }
                }
            };

            ctrl.compare = function (date1, date2) {
                return new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());
            };

            ctrl._getRange = function getRange(currentDate) {
                var year = currentDate.getFullYear(),
                    month = currentDate.getMonth(),
                    firstDayOfMonth = new Date(year, month, 1),
                    difference = ctrl.startingDay - firstDayOfMonth.getDay(),
                    numDisplayedFromPreviousMonth = difference > 0 ? 7 - difference : -difference,
                    startDate = new Date(firstDayOfMonth),
                    endDate;

                if (numDisplayedFromPreviousMonth > 0) {
                    startDate.setDate(-numDisplayedFromPreviousMonth + 1);
                }

                endDate = new Date(startDate);
                endDate.setDate(endDate.getDate() + 42);

                return {
                    startTime: startDate,
                    endTime: endDate
                };
            };

            function getISO8601WeekNumber(date) {
                var checkDate = new Date(date);
                checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday
                var time = checkDate.getTime();
                checkDate.setMonth(0); // Compare with Jan 1
                checkDate.setDate(1);
                return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
            }

            ctrl.refreshView();
        }
    };
}]).directive('weekview', ['dateFilter', '$timeout', function (dateFilter, $timeout) {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './specialist/build/html/week.html',
        require: '^calendar',
        link: function (scope, element, attrs, ctrl) {
            scope.formatWeekViewDayHeader = ctrl.formatWeekViewDayHeader;
            scope.formatHourColumn = ctrl.formatHourColumn;

            $timeout(function () {
                updateScrollGutter();
            });

            ctrl.mode = {
                step: { days: 7 }
            };

            function updateScrollGutter() {
                var children = element.children();
                var allDayEventBody = children[1].children[1];
                var allDayEventGutterWidth = allDayEventBody.offsetWidth - allDayEventBody.clientWidth;
                var normalEventBody = children[2];
                var normalEventGutterWidth = normalEventBody.offsetWidth - normalEventBody.clientWidth;
                var gutterWidth = allDayEventGutterWidth || normalEventGutterWidth || 0;
                if (gutterWidth > 0) {
                    scope.gutterWidth = gutterWidth;
                    if (allDayEventGutterWidth <= 0) {
                        scope.allDayEventGutterWidth = gutterWidth;
                    } else {
                        scope.allDayEventGutterWidth = 0;
                    }
                    if (normalEventGutterWidth <= 0) {
                        scope.normalGutterWidth = gutterWidth;
                    } else {
                        scope.normalGutterWidth = 0;
                    }
                }
            }

            function getDates(startTime, n) {
                var dates = new Array(n),
                    current = new Date(startTime),
                    i = 0;
                current.setHours(12); // Prevent repeated dates because of timezone bug
                while (i < n) {
                    dates[i++] = {
                        date: new Date(current)
                    };
                    current.setDate(current.getDate() + 1);
                }
                return dates;
            }

            function createDateObjects(startTime) {
                var times = [],
                    row,
                    time,
                    currentHour = startTime.getHours(),
                    currentDate = startTime.getDate();

                for (var hour = 0; hour < 24; hour += 1) {
                    row = [];
                    for (var day = 0; day < 7; day += 1) {
                        time = new Date(startTime.getTime());
                        time.setHours(currentHour + hour);
                        time.setDate(currentDate + day);
                        row.push({
                            time: time
                        });
                    }
                    times.push(row);
                }
                return times;
            }

            scope.select = function (selectedTime) {
                if (scope.timeSelected) {
                    scope.timeSelected({ selectedTime: selectedTime });
                }
            };

            ctrl._onDataLoaded = function () {
                var eventSource = ctrl.eventSource,
                    len = eventSource ? eventSource.length : 0,
                    startTime = ctrl.range.startTime,
                    endTime = ctrl.range.endTime,
                    utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),
                    utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),
                    rows = scope.rows,
                    dates = scope.dates,
                    oneHour = 3600000,
                    oneDay = 86400000,

                //add allday eps
                eps = 0.016,
                    eventSet,
                    allDayEventInRange = false,
                    normalEventInRange = false,
                    day,
                    hour;

                if (rows.hasEvent) {
                    for (day = 0; day < 7; day += 1) {
                        for (hour = 0; hour < 24; hour += 1) {
                            if (rows[hour][day].events) {
                                rows[hour][day].events = null;
                            }
                        }
                    }
                    rows.hasEvent = false;
                }

                if (dates.hasEvent) {
                    for (day = 0; day < 7; day += 1) {
                        if (dates[day].events) {
                            dates[day].events = null;
                        }
                    }
                    dates.hasEvent = false;
                }

                for (var i = 0; i < len; i += 1) {
                    var event = eventSource[i];
                    var eventStartTime = new Date(event.startTime);
                    var eventEndTime = new Date(event.endTime);

                    if (event.allDay) {
                        if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {
                            continue;
                        } else {
                            allDayEventInRange = true;

                            var allDayStartIndex;
                            if (eventStartTime <= utcStartTime) {
                                allDayStartIndex = 0;
                            } else {
                                allDayStartIndex = Math.floor((eventStartTime - utcStartTime) / oneDay);
                            }

                            var allDayEndIndex;
                            if (eventEndTime >= utcEndTime) {
                                allDayEndIndex = Math.ceil((utcEndTime - utcStartTime) / oneDay);
                            } else {
                                allDayEndIndex = Math.ceil((eventEndTime - utcStartTime) / oneDay);
                            }

                            var displayAllDayEvent = {
                                event: event,
                                startIndex: allDayStartIndex,
                                endIndex: allDayEndIndex
                            };

                            eventSet = dates[allDayStartIndex].events;
                            if (eventSet) {
                                eventSet.push(displayAllDayEvent);
                            } else {
                                eventSet = [];
                                eventSet.push(displayAllDayEvent);
                                dates[allDayStartIndex].events = eventSet;
                            }
                        }
                    } else {
                        if (eventEndTime <= startTime || eventStartTime >= endTime) {
                            continue;
                        } else {
                            normalEventInRange = true;

                            var timeDiff;
                            var timeDifferenceStart;
                            if (eventStartTime <= startTime) {
                                timeDifferenceStart = 0;
                            } else {
                                timeDiff = eventStartTime - startTime - (eventStartTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                                timeDifferenceStart = timeDiff / oneHour;
                            }

                            var timeDifferenceEnd;
                            if (eventEndTime >= endTime) {
                                timeDiff = endTime - startTime - (endTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                                timeDifferenceEnd = timeDiff / oneHour;
                            } else {
                                timeDiff = eventEndTime - startTime - (eventEndTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                                timeDifferenceEnd = timeDiff / oneHour;
                            }

                            var startIndex = Math.floor(timeDifferenceStart);
                            var endIndex = Math.ceil(timeDifferenceEnd - eps);
                            var startRowIndex = startIndex % 24;
                            var dayIndex = Math.floor(startIndex / 24);
                            var endOfDay = dayIndex * 24;
                            var endRowIndex;

                            do {
                                endOfDay += 24;
                                if (endOfDay <= endIndex) {
                                    endRowIndex = 24;
                                } else {
                                    endRowIndex = endIndex % 24;
                                }
                                var displayEvent = {
                                    event: event,
                                    startIndex: startRowIndex,
                                    endIndex: endRowIndex
                                };
                                eventSet = rows[startRowIndex][dayIndex].events;
                                if (eventSet) {
                                    eventSet.push(displayEvent);
                                } else {
                                    eventSet = [];
                                    eventSet.push(displayEvent);
                                    rows[startRowIndex][dayIndex].events = eventSet;
                                }
                                startRowIndex = 0;
                                dayIndex += 1;
                            } while (endOfDay < endIndex);
                        }
                    }
                }

                if (normalEventInRange) {
                    for (day = 0; day < 7; day += 1) {
                        var orderedEvents = [];
                        for (hour = 0; hour < 24; hour += 1) {
                            if (rows[hour][day].events) {
                                orderedEvents = orderedEvents.concat(rows[hour][day].events);
                            }
                        }
                        if (orderedEvents.length > 0) {
                            rows.hasEvent = true;
                            ctrl.placeEvents(orderedEvents);
                        }
                    }
                }

                if (allDayEventInRange) {
                    var orderedAllDayEvents = [];
                    for (day = 0; day < 7; day += 1) {
                        if (dates[day].events) {
                            orderedAllDayEvents = orderedAllDayEvents.concat(dates[day].events);
                        }
                    }
                    if (orderedAllDayEvents.length > 0) {
                        dates.hasEvent = true;
                        ctrl.placeAllDayEvents(orderedAllDayEvents);
                    }
                }

                $timeout(function () {
                    updateScrollGutter();
                });
            };

            ctrl._refreshView = function () {
                var firstDayOfWeek = ctrl.range.startTime,
                    dates = getDates(firstDayOfWeek, 7),
                    weekNumberIndex,
                    weekFormatPattern = 'w',
                    title;

                scope.rows = createDateObjects(firstDayOfWeek);
                scope.dates = dates;
                weekNumberIndex = ctrl.formatWeekTitle.indexOf(weekFormatPattern);
                title = dateFilter(firstDayOfWeek, ctrl.formatWeekTitle);
                if (weekNumberIndex !== -1) {
                    title = title.replace(weekFormatPattern, getISO8601WeekNumber(firstDayOfWeek));
                }
                scope.$parent.title = title;
            };

            ctrl._getRange = function getRange(currentDate) {
                var year = currentDate.getFullYear(),
                    month = currentDate.getMonth(),
                    date = currentDate.getDate(),
                    day = currentDate.getDay(),
                    firstDayOfWeek = new Date(year, month, date - day),
                    endTime = new Date(year, month, date - day + 7);

                return {
                    startTime: firstDayOfWeek,
                    endTime: endTime
                };
            };

            //This can be decomissioned when upgrade to Angular 1.3
            function getISO8601WeekNumber(date) {
                var checkDate = new Date(date);
                checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday
                var time = checkDate.getTime();
                checkDate.setMonth(0); // Compare with Jan 1
                checkDate.setDate(1);
                return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
            }

            ctrl.refreshView();
        }
    };
}]).directive('dayview', ['dateFilter', '$timeout', function (dateFilter, $timeout) {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './specialist/build/html/day.html',
        require: '^calendar',
        link: function (scope, element, attrs, ctrl) {
            scope.formatHourColumn = ctrl.formatHourColumn;

            $timeout(function () {
                updateScrollGutter();
            });

            ctrl.mode = {
                step: { days: 1 }
            };

            function updateScrollGutter() {
                var children = element.children();
                var allDayEventBody = children[0].children[1];
                var allDayEventGutterWidth = allDayEventBody.offsetWidth - allDayEventBody.clientWidth;
                var normalEventBody = children[1];
                var normalEventGutterWidth = normalEventBody.offsetWidth - normalEventBody.clientWidth;
                var gutterWidth = allDayEventGutterWidth || normalEventGutterWidth || 0;
                if (gutterWidth > 0) {
                    if (allDayEventGutterWidth <= 0) {
                        scope.allDayEventGutterWidth = gutterWidth;
                    } else {
                        scope.allDayEventGutterWidth = 0;
                    }
                    if (normalEventGutterWidth <= 0) {
                        scope.normalGutterWidth = gutterWidth;
                    } else {
                        scope.normalGutterWidth = 0;
                    }
                }
            }

            function createDateObjects(startTime) {
                var rows = [],
                    time,
                    currentHour = startTime.getHours(),
                    currentDate = startTime.getDate();

                for (var hour = 0; hour < 24; hour += 1) {
                    time = new Date(startTime.getTime());
                    time.setHours(currentHour + hour);
                    time.setDate(currentDate);
                    rows.push({
                        time: time
                    });
                }
                return rows;
            }

            scope.select = function (selectedTime) {
                if (scope.timeSelected) {
                    scope.timeSelected({ selectedTime: selectedTime });
                }
            };

            ctrl._onDataLoaded = function () {
                var eventSource = ctrl.eventSource,
                    len = eventSource ? eventSource.length : 0,
                    startTime = ctrl.range.startTime,
                    endTime = ctrl.range.endTime,
                    utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),
                    utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),
                    rows = scope.rows,
                    allDayEvents = [],
                    oneHour = 3600000,
                    eps = 0.016,
                    eventSet,
                    normalEventInRange = false,
                    hour;

                if (rows.hasEvent) {
                    for (hour = 0; hour < 24; hour += 1) {
                        if (rows[hour].events) {
                            rows[hour].events = null;
                        }
                    }
                    rows.hasEvent = false;
                }

                for (var i = 0; i < len; i += 1) {
                    var event = eventSource[i];
                    var eventStartTime = new Date(event.startTime);
                    var eventEndTime = new Date(event.endTime);

                    if (event.allDay) {
                        if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {
                            continue;
                        } else {
                            allDayEvents.push({
                                event: event
                            });
                        }
                    } else {
                        if (eventEndTime <= startTime || eventStartTime >= endTime) {
                            continue;
                        } else {
                            normalEventInRange = true;
                        }

                        var timeDiff;
                        var timeDifferenceStart;
                        if (eventStartTime <= startTime) {
                            timeDifferenceStart = 0;
                        } else {
                            timeDiff = eventStartTime - startTime - (eventStartTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                            timeDifferenceStart = timeDiff / oneHour;
                        }

                        var timeDifferenceEnd;
                        if (eventEndTime >= endTime) {
                            timeDiff = endTime - startTime - (endTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                            timeDifferenceEnd = timeDiff / oneHour;
                        } else {
                            timeDiff = eventEndTime - startTime - (eventEndTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                            timeDifferenceEnd = timeDiff / oneHour;
                        }

                        var startIndex = Math.floor(timeDifferenceStart);
                        var endIndex = Math.ceil(timeDifferenceEnd - eps);

                        var displayEvent = {
                            event: event,
                            startIndex: startIndex,
                            endIndex: endIndex
                        };

                        eventSet = rows[startIndex].events;
                        if (eventSet) {
                            eventSet.push(displayEvent);
                        } else {
                            eventSet = [];
                            eventSet.push(displayEvent);
                            rows[startIndex].events = eventSet;
                        }
                    }
                }

                if (normalEventInRange) {
                    var orderedEvents = [];
                    for (hour = 0; hour < 24; hour += 1) {
                        if (rows[hour].events) {
                            orderedEvents = orderedEvents.concat(rows[hour].events);
                        }
                    }
                    if (orderedEvents.length > 0) {
                        rows.hasEvent = true;
                        ctrl.placeEvents(orderedEvents);
                    }
                }

                scope.allDayEvents = allDayEvents;

                $timeout(function () {
                    updateScrollGutter();
                });
            };

            ctrl._refreshView = function () {
                var startingDate = ctrl.range.startTime;

                scope.rows = createDateObjects(startingDate);
                scope.allDayEvents = [];
                scope.dates = [startingDate];
                scope.$parent.title = dateFilter(startingDate, ctrl.formatDayTitle);
            };

            ctrl._getRange = function getRange(currentDate) {
                var year = currentDate.getFullYear(),
                    month = currentDate.getMonth(),
                    date = currentDate.getDate(),
                    startTime = new Date(year, month, date),
                    endTime = new Date(year, month, date + 1);

                return {
                    startTime: startTime,
                    endTime: endTime
                };
            };

            ctrl.refreshView();
        }
    };
}]);
angular.module("template/rcalendar/calendar.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/calendar.html", "<div ng-switch=\"calendarMode\">\n" + "    <div class=\"row calendar-navbar\">\n" + "        <div class=\"nav-left col-xs-2\">\n" + "            <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"move(-1)\"><i\n" + "                    class=\"glyphicon glyphicon-chevron-left\"></i></button>\n" + "        </div>\n" + "        <div class=\"calendar-header col-xs-8\">{{title}}</div>\n" + "        <div class=\"nav-right col-xs-2\">\n" + "            <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"move(1)\"><i\n" + "                    class=\"glyphicon glyphicon-chevron-right\"></i></button>\n" + "        </div>\n" + "    </div>\n" + "    <dayview ng-switch-when=\"day\"></dayview>\n" + "    <monthview ng-switch-when=\"month\"></monthview>\n" + "    <weekview ng-switch-when=\"week\"></weekview>\n" + "</div>\n" + "");
}]);

angular.module("template/rcalendar/day.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/day.html", "<div>\n" + "    <div class=\"dayview-allday-table\">\n" + "        <div class=\"dayview-allday-label\">\n" + "            all day\n" + "        </div>\n" + "        <div class=\"dayview-allday-content-wrapper\">\n" + "            <table class=\"table table-bordered dayview-allday-content-table\">\n" + "                <tbody>\n" + "                <tr>\n" + "                    <td class=\"calendar-cell\" ng-class=\"{'calendar-event-wrap':allDayEvents}\"\n" + "                        ng-style=\"{height: 25*allDayEvents.length+'px'}\">\n" + "                        <div ng-repeat=\"displayEvent in allDayEvents\" class=\"calendar-event\"\n" + "                             ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                             ng-style=\"{top: 25*$index+'px',width: '100%',height:'25px'}\">\n" + "                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                        </div>\n" + "                    </td>\n" + "                    <td ng-if=\"allDayEventGutterWidth>0\" class=\"gutter-column\"\n" + "                        ng-style=\"{width:allDayEventGutterWidth+'px'}\"></td>\n" + "                </tr>\n" + "                </tbody>\n" + "            </table>\n" + "        </div>\n" + "    </div>\n" + "    <div class=\"scrollable\" style=\"height: 400px\">\n" + "        <table class=\"table table-bordered table-fixed\">\n" + "            <tbody>\n" + "            <tr ng-repeat=\"tm in rows track by $index\">\n" + "                <td class=\"calendar-hour-column text-center\">\n" + "                    {{tm.time | date: formatHourColumn}}\n" + "                </td>\n" + "                <td class=\"calendar-cell\" ng-click=\"select(tm.time)\">\n" + "                    <div ng-class=\"{'calendar-event-wrap': tm.events}\" ng-if=\"tm.events\">\n" + "                        <div ng-repeat=\"displayEvent in tm.events\" class=\"calendar-event\"\n" + "                             ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                             ng-style=\"{left: 100/displayEvent.overlapNumber*displayEvent.position+'%', width: 100/displayEvent.overlapNumber+'%', height: 37*(displayEvent.endIndex-displayEvent.startIndex)+'px'}\">\n" + "                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                        </div>\n" + "                    </div>\n" + "                </td>\n" + "            </tr>\n" + "            </tbody>\n" + "        </table>\n" + "    </div>\n" + "</div>");
}]);

angular.module("template/rcalendar/month.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/month.html", "<div>\n" + "    <table class=\"table table-bordered table-fixed monthview-datetable monthview-datetable\">\n" + "        <thead>\n" + "        <tr>\n" + "            <th ng-show=\"showWeeks\" class=\"calendar-week-column text-center\">#</th>\n" + "            <th ng-repeat=\"label in labels track by $index\" class=\"text-center\">\n" + "                <small>{{label}}</small>\n" + "            </th>\n" + "        </tr>\n" + "        </thead>\n" + "        <tbody>\n" + "        <tr ng-repeat=\"row in rows track by $index\">\n" + "            <td ng-show=\"showWeeks\" class=\"calendar-week-column text-center\">\n" + "                <small><em>{{ weekNumbers[$index] }}</em></small>\n" + "            </td>\n" + "            <td ng-repeat=\"dt in row track by dt.date\" class=\"monthview-dateCell\" ng-click=\"select(dt.date)\"\n" + "                ng-class=\"{'text-center':true, 'monthview-current': dt.current&&!dt.selected&&!dt.hasEvent,'monthview-secondary-with-event': dt.secondary&&dt.hasEvent, 'monthview-primary-with-event':!dt.secondary&&dt.hasEvent&&!dt.selected, 'monthview-selected': dt.selected}\">\n" + "                <div ng-class=\"{'text-muted':dt.secondary}\">\n" + "                    {{dt.label}}\n" + "                </div>\n" + "            </td>\n" + "        </tr>\n" + "        </tbody>\n" + "    </table>\n" + "    <div ng-if=\"showEventDetail\" class=\"event-detail-container\">\n" + "        <div class=\"scrollable\" style=\"height: 200px\">\n" + "            <table class=\"table table-bordered table-striped table-fixed\">\n" + "                <tr ng-repeat=\"event in selectedDate.events\" ng-if=\"selectedDate.events\">\n" + "                    <td ng-if=\"!event.allDay\" class=\"monthview-eventdetail-timecolumn\">{{event.startTime|date: 'HH:mm'}}\n" + "                        -\n" + "                        {{event.endTime|date: 'HH:mm'}}\n" + "                    </td>\n" + "                    <td ng-if=\"event.allDay\" class=\"monthview-eventdetail-timecolumn\">All day</td>\n" + "                    <td class=\"event-detail\" ng-click=\"eventSelected({event:event})\">{{event.title}}</td>\n" + "                </tr>\n" + "                <tr ng-if=\"!selectedDate.events\"><td class=\"no-event-label\">No Events</td></tr>\n" + "            </table>\n" + "        </div>\n" + "    </div>\n" + "</div>");
}]);

angular.module("template/rcalendar/week.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/week.html", "<div>\n" + "    <table class=\"table table-bordered table-fixed weekview-header\">\n" + "        <thead>\n" + "        <tr>\n" + "            <th class=\"calendar-hour-column\"></th>\n" + "            <th ng-repeat=\"dt in dates\" class=\"text-center weekview-header-label\">{{dt.date| date:\n" + "                formatWeekViewDayHeader}}\n" + "            </th>\n" + "            <th ng-if=\"gutterWidth>0\" class=\"gutter-column\" ng-style=\"{width: gutterWidth+'px'}\"></th>\n" + "        </tr>\n" + "        </thead>\n" + "    </table>\n" + "    <div class=\"weekview-allday-table\">\n" + "        <div class=\"weekview-allday-label\">\n" + "            all day\n" + "        </div>\n" + "        <div class=\"weekview-allday-content-wrapper\">\n" + "            <table class=\"table table-bordered table-fixed weekview-allday-content-table\">\n" + "                <tbody>\n" + "                <tr>\n" + "                    <td ng-repeat=\"day in dates track by day.date\" class=\"calendar-cell\">\n" + "                        <div ng-class=\"{'calendar-event-wrap': day.events}\" ng-if=\"day.events\"\n" + "                             ng-style=\"{height: 25*day.events.length+'px'}\">\n" + "                            <div ng-repeat=\"displayEvent in day.events\" class=\"calendar-event\"\n" + "                                 ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                                 ng-style=\"{top: 25*displayEvent.position+'px', width: 100*(displayEvent.endIndex-displayEvent.startIndex)+'%', height: '25px'}\">\n" + "                                <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                            </div>\n" + "                        </div>\n" + "                    </td>\n" + "                    <td ng-if=\"allDayEventGutterWidth>0\" class=\"gutter-column\"\n" + "                        ng-style=\"{width: allDayEventGutterWidth+'px'}\"></td>\n" + "                </tr>\n" + "                </tbody>\n" + "            </table>\n" + "        </div>\n" + "    </div>\n" + "    <div class=\"scrollable\" style=\"height: 400px\">\n" + "        <table class=\"table table-bordered table-fixed\">\n" + "            <tbody>\n" + "            <tr ng-repeat=\"row in rows track by $index\">\n" + "                <td class=\"calendar-hour-column text-center\">\n" + "                    {{row[0].time | date: formatHourColumn}}\n" + "                </td>\n" + "                <td ng-repeat=\"tm in row track by tm.time\" class=\"calendar-cell\" ng-click=\"select(tm.time)\">\n" + "                    <div ng-class=\"{'calendar-event-wrap': tm.events}\" ng-if=\"tm.events\">\n" + "                        <div ng-repeat=\"displayEvent in tm.events\" class=\"calendar-event\"\n" + "                             ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                             ng-style=\"{left: 100/displayEvent.overlapNumber*displayEvent.position+'%', width: 100/displayEvent.overlapNumber+'%', height: 37*(displayEvent.endIndex-displayEvent.startIndex)+'px'}\">\n" + "                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                        </div>\n" + "                    </div>\n" + "                </td>\n" + "                <td ng-if=\"normalGutterWidth>0\" class=\"gutter-column\" ng-style=\"{width: normalGutterWidth+'px'}\"></td>\n" + "            </tr>\n" + "            </tbody>\n" + "        </table>\n" + "    </div>\n" + "</div>");
}]);
specialist.factory('dataService', ['$http', function ($http) {
    var signUpDocObj = {};
    return {
        getFullDoctorList: function () {
            return $http.get('http://0.0.0.0:8081/doctor/list').then(function (resp) {
                return resp.data;
            });
        },
        checkUserExistance: function () {},
        signUpDoctor: function (obj) {
            return $http.post('http://0.0.0.0:8081/doctor/add', obj).then(function (resp) {
                setSession(resp);
                return resp;
            });
            // var obj = {
            //     'sessionId': '23458863',
            //     'docData': { 'name': 'nitin', 'email': 'ntngiri@gmail.com', 'address': 'ksjdnv skvnj', 'city': 'Gurgaon', 'state': 'haryana', 'mob': '70412992873', 'clinic': 'ksjbd', 'fee': '699', 'hv_fee': '7365' }
            // };
            // signUpDocObj = obj;
            // console.log('dataService',signUpDocObj);
            //return signUpDocObj;
        },
        setSession: function (user) {
            sessionStorage.user = JSON.stringify($scope.user);
        },
        getSession: function () {
            return sessionStorage.user;
        },
        getDoctorData: function (id) {
            return $http.get('http://0.0.0.0:8081/doctor/' + id).then(function (resp) {
                return resp.data;
            });
        }
    };
}]);
specialist.controller('docProfileCtrl', ['$scope', 'dataService', function ($scope, dataService) {
    var doctorId = 4;
    $scope.editProfile2 = false;
    $scope.editProfile = true;
    // dataService.getDoctorData(doctorId).then(function(data) {
    //     console.log(data);
    //     $scope.doctorData = data[0];
    // });
    $scope.docJson;
    dataService.getDoctorData('14').then(function (resp) {
        $scope.docJson = resp[0];
        console.log('doctor data', $scope.docJson);
    });

    $scope.showEditForm = function (tabId) {
        if (tabId == '1') {
            $scope.editProfile2 = false;
            $scope.editProfile = true;
            document.getElementById("1").classList.add("active");
            document.getElementById("2").classList.remove("active");
        } else if (tabId == '2') {
            $scope.editProfile2 = true;
            $scope.editProfile = false;
            document.getElementById("2").classList.add("active");
            document.getElementById("1").classList.remove("active");
            //document.getElementById('2').className += 'active';
        }
    };

    $scope.mode = 'week';
    $scope.eventSource = createRandomEvents();
    $scope.selected = 0;
    $scope.select = function (index) {
        $scope.selected = index;
    };
    $scope.navProfileList = [{ 'sref': 'dashboard', 'title': 'Dashboard' }, { 'sref': 'faq', 'title': 'FAQ' }, { 'sref': 'plans', 'title': 'Pricing Plans' }, { 'sref': 'profile', 'title': 'User Account' }];

    function createRandomEvents() {
        var events = [];
        for (var i = 0; i < 50; i += 1) {
            var date = new Date();
            var eventType = Math.floor(Math.random() * 2);
            var startDay = Math.floor(Math.random() * 90) - 45;
            var endDay = Math.floor(Math.random() * 2) + startDay;
            var startTime;
            var endTime;
            if (eventType === 0) {
                startTime = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate() + startDay));
                if (endDay === startDay) {
                    endDay += 1;
                }
                endTime = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate() + endDay));
                events.push({
                    title: 'All Day - ' + i,
                    startTime: startTime,
                    endTime: endTime,
                    allDay: true
                });
            } else {
                var startMinute = Math.floor(Math.random() * 24 * 60);
                var endMinute = Math.floor(Math.random() * 180) + startMinute;
                startTime = new Date(date.getFullYear(), date.getMonth(), date.getDate() + startDay, 0, date.getMinutes() + startMinute);
                endTime = new Date(date.getFullYear(), date.getMonth(), date.getDate() + endDay, 0, date.getMinutes() + endMinute);
                events.push({
                    title: i + 'Mr Nitin',
                    startTime: startTime,
                    endTime: endTime,
                    allDay: false
                });
            }
        }
        return events;
    }
}]);
specialist.controller('docSignupCtrl', ['$scope', '$state', 'dataService', function ($scope, $state, dataService) {
	$scope.secondForm = false;
	$scope.firstForm = true;
	$scope.email_err = false;
	$scope.pwd_err = false;
	$scope.err_msg = false;
	$scope.mobileRegEx = "/^[0-9]{10,10}$/;";
	$scope.pinCodeRegEx = "/^[0-9]{6,6}$/;";
	var signUpData = {};
	$scope.checkEmailPwdValidity = function (value) {
		if (value == 'email') {
			if ($scope.email !== $scope.confEmail) {
				$scope.email_err = true;
				$scope.email_err_msg = 'Email did not match';
			} else {
				$scope.email_err = false;
				$scope.email_err_msg = '';
			}
		} else if (value == 'pwd') {
			if ($scope.pass !== $scope.confPass) {
				$scope.pass_err = true;
			} else {
				$scope.pass_err = false;
			}
		}
	};
	$scope.bringSecondForm = function (isValid) {
		if (isValid) {
			$scope.err_msg = false;
			signUpData.name = $scope.fname + " " + $scope.lname;
			if ($scope.email == $scope.confEmail) {
				signUpData.email = $scope.email;
			} else {
				$scope.email_err = true;
			}
			if ($scope.pass == $scope.confPass) {
				signUpData.password = $scope.pass;
			} else {
				$scope.pass_err = true;
			}
			if (!$scope.pass_err && !$scope.email_err) {
				$scope.secondForm = true;
				$scope.firstForm = false;
			}
		} else if (!isValid) {
			$scope.err_msg = true;
		}
	};

	$scope.sendSignupDoc = function (isValid) {
		if (isValid) {
			$scope.err_msg = false;
			signUpData.address = $scope.address1 + ' ' + $scope.address2;
			signUpData.pin = $scope.pinCode;
			signUpData.city = $scope.city;
			signUpData.state = $scope.state;
			signUpData.mobile = $scope.mobileNo;
			signUpData.clinic_name = $scope.clinicName;
			signUpData.fee = $scope.clinicFee;
			signUpData.hv_fee = $scope.homeVisit;
			dataService.signUpDoctor(signUpData).then(function (resp) {
				if (resp) {
					$state.go('doctorProfile.dashboard');
				}
			});
			//to be removed
			// dataService.signUpDoctor(signUpData).then(function(resp){
			// 	$state.go('doctorProfile.dashboard');
			// });
		} else if (!isValid) {
			$scope.err_msg = true;
		}
	};
}]);
specialist.controller('doctorPortalCtrl', ['$scope', function ($scope) {}]);
angular.module('specialist.tagit', []).directive('tagIt', function () {
    return {
        restrict: 'EA',
        scope: {
            tags: "=",
            remove: "&"
        },
        template: '<div><ul class="tags"><li  class="tagit" ng-repeat="tag in tags "><span class="tagText">{{::tag.name}}</span><a  ng-click="remove({idx:tag.id})" class="dCross" href="javascript:;">x</a></li></ul></div>',

        link: function ($scope, $element, $attrs, $ctrl) {
            // console.log($scope, $attrs);
        }
    };
});

angular.module('specialist.listing', []).directive('ngRepeatDoneNotification', function () {
    return function (scope, element, attrs) {

        if (!scope.$parent.multiSelect) {

            if (scope.selectedId && scope.selectedId.length != 0 && scope.$last && !scope.$parent.firstReapet) {
                scope.$parent.firstReapet = 1;
                scope.callback({
                    'item': {
                        id: scope.selectedId[0],
                        name: scope.data[scope.idHash.indexOf(scope.selectedId[0])].name,
                        allSelected: scope.selectedId,
                        checked: null,
                        first: true
                    }
                });
            }
        }
        //console.log(scope.$parent.idHash);
    };
}).directive('listing', function () {
    return {
        restrict: 'E',
        transclude: true,
        replace: true,
        scope: {
            'data': '=',
            'tupleCount': '@',
            'selectedId': '=',
            'maxHeight': '@',
            'callback': '&listingCallback',
            'multiSelect': '@',
            'filterName': "=",
            'active': '='
        },

        //template: '<ul><li ng-repeat="item in data|limitTo:tupleCount" ng-repeat-done-notification={{item.id}} ng-click="checkItem(this)"><input ng-if="multiSelect" type="checkbox" ng-model=item.checked><div style="display:inline-block;" ng-transclude></div></li></ul>',
        template: '<ul><li ng-repeat="item in data" ng-repeat-done-notification={{item.id}} ng-click="checkItem(this)" ng-class="{active:item.active, notSelectable:item.notSelectable}"><input ng-if="multiSelect == \'true\' && !item.notSelectable" type="checkbox" ng-model=item.checked>{{selectedName}}<div style="display:inline-block; width:auto;" ng-transclude></div></li></ul>',

        link: function (scope, iElement, iAttr, controllers) {
            scope.firstReapet = 0;
            scope.selObj = {};
            scope.idHash = [];
            if (scope.data) {
                scope.data.forEach(function (x) {
                    scope.idHash.push(x.id);
                });
            }
            scope.$on('select', function (event, someData, flag) {
                var elemToSel;
                if (flag) {
                    elemToSel = scope.data[scope.idHash.indexOf(flag)];
                } else {
                    elemToSel = scope.data[scope.active];
                }

                scope.checkItem({
                    'item': elemToSel
                });
            });
            scope.$on('deSelect', function (event, id) {});

            scope.isActive = function (matchIdx) {
                if (scope.active < iElement.find('li').length) {
                    return scope.active === matchIdx;
                } else {
                    scope.active = 0;
                    //  return scope.active === matchIdx;
                }
            };

            scope.checkItem = function (_this) {
                var arr = [];
                scope.attr = iAttr;

                if (_this.item.notSelectable) {
                    //iElement.addClass('notSelectable');
                    return;
                }

                scope.checkSelection(_this);

                scope.callback({
                    'item': {
                        id: _this.item.id,
                        name: _this.item.name,
                        allSelected: scope.selectedId,
                        checked: _this.item.checked
                    }
                });
            };

            scope.checkSelection = function (t) {
                // array and selectedId will be the same after this, 
                var id = t.item.id;
                scope.selectedId = scope.selectedId || [];
                if (scope.attr.multiSelect) {
                    var index = scope.selectedId.indexOf(id);
                    if (index == -1) {
                        scope.selectedId.push(id);
                        scope.selObj[id] = t.item.name;
                        t.item.checked = true;
                    } else {
                        scope.selectedId.splice(index, 1);
                        delete scope.selObj[id];
                        t.item.checked = false;
                    }
                } else {
                    scope.selectedId = [];
                    scope.selectedId.push(id);
                    //t.item.checked = true;
                }
            };
        }
    };
});

angular.module('specialist.droope', ['specialist.listing', 'specialist.tagit']).directive('droope', ["$document", function ($document) {
    // Runs during compile
    return {
        scope: {
            option: "=",
            callback: "&droopeCallback",
            data: "=",
            selectedId: "=",
            api: "="
        },
        // controller: function($scope, $element, $attrs, $transclude) {},
        restrict: 'E', // E = Element, A = Attribute, C = Class, M = Comment
        template: '<div class="ddwn">' + '<div class="DDwrap">' + '<ul class="DDsearch">' + '<li class="frst" style="float: none;">' + '<div class="DDinputWrap">' + '<span class="ddIcon srchTxt" ng-click="showDrop()"></span>' + '<input type="text" ng-click="showDrop()" id="" class="srchTxt" autocomplete="off" style="color: rgb(68, 68, 68);" ng-model="selectedName">' + '</div>' + '</li>' + '</ul>' + '</div>' + '<div class="dd_dwn" ng-show="show">' + '<listing tuplecount="10" multi-select="{{option.multiselect}}" active="activeIndex" selected-id ="selectedId" listing-callback="listingCallback(item)" data="data" filter-name="selectedName">' + '<div><span>{{$parent.item.name}}</span></div>' + '</listing>' + '</div>' + '</div>',
        replace: true,
        transclude: true,
        compile: function (tElement, tAttrs) {
            var __options__ = {
                fieldAttr: {
                    placeholder: 'Enter your Values'
                }

            };
            return function linking(scope, iElm, iAttrs, controller) {
                scope.activeIndex = 0;
                //console.log(iElm);
                //bind keyboard events: arrows up(38) / down(40), enter(13) and tab(9), esc(27)
                iElm.find('input').on('keydown', function (evt) {
                    var target;
                    switch (evt.which) {
                        case 8:
                            if (scope.selectedName == "") {
                                scope.show = true;
                            }
                            scope.$digest();
                            break;
                        case 9:
                            scope.blurOut();
                            break;
                        case 13:
                            evt.stopPropagation();
                            scope.$broadcast('select', this);
                            scope.$digest();
                            break;
                        case 38:
                            scope.data[scope.activeIndex].active = false;
                            scope.activeIndex--;
                            scope.data[scope.activeIndex].active = true;
                            scope.$digest();
                            break;
                        case 40:
                            scope.data[scope.activeIndex].active = false;
                            scope.activeIndex++;
                            scope.data[scope.activeIndex].active = true;
                            scope.$digest();
                            break;
                    }
                });
                scope.options = angular.merge(__options__, scope.option);
                scope.tags = [];
                iElm.find('input').attr(scope.options.fieldAttr);
                /**
                 * [function called on list click- after listing callback]
                 * @param  {[type]} retObj [object from listing callback]
                 * @return {[type]}      [tags object updated]
                 */
                scope.api = {
                    resetDroope: function () {
                        //scope.active = -1;
                        scope.selectedName = "", scope.selectedId = [];
                    },
                    selectItem: function (id) {
                        if (Object.prototype.toString.call(id) === '[object Array]') {
                            scope.$broadcast('select', this, id);
                        } else {
                            scope.$broadcast('select', this, id);
                        }
                    }
                };
                scope.listingCallback = function (retObj) {
                    var newTag = {
                        id: retObj.id,
                        name: retObj.name
                    };
                    scope.tagUpdate(newTag, retObj.checked);
                };

                scope.tagUpdate = function (tagObj, checked) {
                    if (scope.option.multiselect) {
                        if (checked) {
                            scope.tags.push(tagObj);
                        } else {
                            var index = scope.tags.indexOf(tagObj);
                            scope.tags.splice(index, 1);
                        }
                    } else {
                        scope.selectedName = tagObj.name;
                        scope.show = false;
                        scope.callback({
                            "item": tagObj
                        });
                    }

                    if (event) {
                        event.stopPropagation();
                    }
                };
                /**
                 * [called on input focus - will show the list]
                 */
                scope.showDrop = function () {
                    // if (scope.option.multiselect) {

                    // } else {
                    scope.lastSelected = scope.selectedName;
                    scope.selectedName = '';
                    scope.show = true;
                    //}
                    // var parElm = document.getElementById('meraDD');
                    // var scrollCont = document.getElementById('dd_dwn');
                    // var fstElm = document.getElementById('dd_dwn').getElementsByTagName("li")[0];
                    // scope.scrollHandler(parElm, scrollCont, fstElm, fstElm);
                };

                /**
                 * [removing all tags]
                 */
                scope.removeAllTags = function () {
                    scope.tags = [];
                    if (scope.option.multiselect) {
                        for (i = 0; i < scope.selectedId.length; i++) {
                            var index = scope.data.indexOf(scope.selectedId[i]);
                            scope.data[index].checked = false;
                        }
                    } else {
                        scope.selectedName = '';
                    }
                };

                scope.blurOut = function () {
                    var blurObj = {
                        id: "",
                        name: scope.selectedName,
                        checked: 'no'
                        //  scope.show = true;
                    };
                    scope.listingCallback(blurObj);
                };
                /**
                 * [hide list drop on document click]
                 */
                $document.on("click", function (event) {
                    if (!angular.element(event.target).hasClass('srchTxt')) {
                        scope.show = false;
                        if (scope.selectedName == "") {
                            scope.selectedName = scope.lastSelected;
                        }
                        //  scope.blurOut();
                    } else {}
                    scope.$apply();
                });
            };
        }
    };
}]);
specialist.controller('mainController', ['$scope', function ($scope) {
	var json = [{ 'name': 'Delhi' }, { 'name': 'Noida' }, { 'name': 'Gurgaon' }];
	$scope.options = {};
	$scope.options = {
		data: json,
		multiselect: true,
		maxHeight: 250
	};
	$scope.data = [{ 'name': 'Delhi' }, { 'name': 'Noida' }, { 'name': 'Gurgaon' }];
	$scope.selectedId = [];
	$scope.onClickFunc = function (obj1) {
		//$scope.cbObj = obj;
		console.log(obj1);
	};
	$scope.api = {};
}]);
specialist.controller('SearchCtrl', ['$scope', '$state', 'dataService', function ($scope, $state, dataService) {
	$scope.doctorId;
	dataService.getFullDoctorList().then(function (data) {
		console.log(data);
		$scope.doctorList = data;
		$scope.doctorId = data.id;
	});
	$scope.doctorBook = function (id) {
		$state.go('doctor');
	};
}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNhbGVuZGVyLmpzIiwiZGF0YVNlcnZpY2UuanMiLCJkb2NQcm9maWxlQ29udHJvbGxlci5qcyIsImRvY1NpZ251cENvbnRyb2xsZXIuanMiLCJkb2N0b3JQb3J0YWwuanMiLCJkcm9vcGUuanMiLCJtYWluQ29udHJvbGxlci5qcyIsInNlYXJjaENvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsic3BlY2lhbGlzdCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJhYnN0cmFjdCIsImh0bWw1TW9kZSIsImNvbnN0YW50IiwiZm9ybWF0RGF5IiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRXZWVrVGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwiZm9ybWF0V2Vla1ZpZXdEYXlIZWFkZXIiLCJmb3JtYXRIb3VyQ29sdW1uIiwiY2FsZW5kYXJNb2RlIiwic2hvd1dlZWtzIiwic2hvd0V2ZW50RGV0YWlsIiwic3RhcnRpbmdEYXkiLCJldmVudFNvdXJjZSIsInF1ZXJ5TW9kZSIsIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsIiRpbnRlcnBvbGF0ZSIsIiRsb2ciLCJkYXRlRmlsdGVyIiwiY2FsZW5kYXJDb25maWciLCJzZWxmIiwibmdNb2RlbEN0cmwiLCIkc2V0Vmlld1ZhbHVlIiwibm9vcCIsImZvckVhY2giLCJrZXkiLCJpbmRleCIsImlzRGVmaW5lZCIsIiRwYXJlbnQiLCIkZXZhbCIsIiR3YXRjaCIsInZhbHVlIiwib25FdmVudFNvdXJjZUNoYW5nZWQiLCJpbml0RGF0ZSIsImN1cnJlbnRDYWxlbmRhckRhdGUiLCJEYXRlIiwibmdNb2RlbCIsImFzc2lnbiIsImluaXQiLCJuZ01vZGVsQ3RybF8iLCIkcmVuZGVyIiwicmVuZGVyIiwiJG1vZGVsVmFsdWUiLCJkYXRlIiwiaXNWYWxpZCIsImlzTmFOIiwiZXJyb3IiLCIkc2V0VmFsaWRpdHkiLCJyZWZyZXNoVmlldyIsIm1vZGUiLCJyYW5nZSIsIl9nZXRSYW5nZSIsIl9yZWZyZXNoVmlldyIsInJhbmdlQ2hhbmdlZCIsInNwbGl0IiwiYXJyIiwic2l6ZSIsImFycmF5cyIsImxlbmd0aCIsInB1c2giLCJzcGxpY2UiLCJfb25EYXRhTG9hZGVkIiwibW92ZSIsImRpcmVjdGlvbiIsInN0ZXAiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJ5ZWFycyIsIm1vbnRoIiwiZ2V0TW9udGgiLCJtb250aHMiLCJnZXREYXRlIiwiZGF5cyIsImZpcnN0RGF5SW5OZXh0TW9udGgiLCJzZXRGdWxsWWVhciIsImdldFRpbWUiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwib3ZlcmxhcCIsImV2ZW50MSIsImV2ZW50MiIsImVuZEluZGV4Iiwic3RhcnRJbmRleCIsImNhbGN1bGF0ZVBvc2l0aW9uIiwiZXZlbnRzIiwiaSIsImoiLCJsZW4iLCJtYXhDb2x1bW4iLCJjb2wiLCJpc0ZvcmJpZGRlbiIsIkFycmF5IiwicG9zaXRpb24iLCJjYWxjdWxhdGVXaWR0aCIsIm9yZGVyZWRFdmVudHMiLCJjZWxscyIsImV2ZW50IiwiZXZlbnRDb3VudEluQ2VsbCIsImN1cnJlbnRFdmVudEluQ2VsbCIsInNvcnQiLCJldmVudEEiLCJldmVudEIiLCJjYWxjdWxhdGVkIiwib3ZlcmxhcE51bWJlciIsImV2ZW50UXVldWUiLCJzaGlmdCIsInBsYWNlRXZlbnRzIiwicGxhY2VBbGxEYXlFdmVudHMiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJzY29wZSIsImV2ZW50U2VsZWN0ZWQiLCJ0aW1lU2VsZWN0ZWQiLCJyZXF1aXJlIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsImN0cmxzIiwiY2FsZW5kYXJDdHJsIiwiJG9uIiwiY3RybCIsImdldERhdGVzIiwic3RhcnREYXRlIiwibiIsImRhdGVzIiwiY3VycmVudCIsInNldEhvdXJzIiwic2V0RGF0ZSIsInNlbGVjdCIsInNlbGVjdGVkRGF0ZSIsInJvd3MiLCJjdXJyZW50TW9udGgiLCJjdXJyZW50WWVhciIsInNlbGVjdGVkTW9udGgiLCJzZWxlY3RlZFllYXIiLCJyb3ciLCJzZWxlY3RlZCIsImNvbXBhcmUiLCJzZWxlY3RlZFRpbWUiLCJleHRlbmQiLCJjcmVhdGVEYXRlT2JqZWN0Iiwic2Vjb25kYXJ5IiwibGFiZWxzIiwiaGVhZGVyRGF0ZSIsInRpdGxlIiwid2Vla051bWJlcnMiLCJ0aHVyc2RheUluZGV4IiwibnVtV2Vla3MiLCJjdXJXZWVrIiwiZ2V0SVNPODYwMVdlZWtOdW1iZXIiLCJmb3JtYXQiLCJsYWJlbCIsImNvbXBhcmVFdmVudCIsImFsbERheSIsInV0Y1N0YXJ0VGltZSIsIlVUQyIsInV0Y0VuZFRpbWUiLCJvbmVEYXkiLCJlcHMiLCJoYXNFdmVudCIsImV2ZW50U3RhcnRUaW1lIiwiZXZlbnRFbmRUaW1lIiwic3QiLCJldCIsInRpbWVEaWZmIiwidGltZURpZmZlcmVuY2VTdGFydCIsImdldFRpbWV6b25lT2Zmc2V0IiwidGltZURpZmZlcmVuY2VFbmQiLCJNYXRoIiwiZmxvb3IiLCJldmVudFNldCIsInJvd0luZGV4IiwiZGF5SW5kZXgiLCJmaW5kU2VsZWN0ZWQiLCJkYXRlMSIsImRhdGUyIiwiZ2V0UmFuZ2UiLCJjdXJyZW50RGF0ZSIsImZpcnN0RGF5T2ZNb250aCIsImRpZmZlcmVuY2UiLCJnZXREYXkiLCJudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCIsImVuZERhdGUiLCJjaGVja0RhdGUiLCJ0aW1lIiwic2V0TW9udGgiLCJyb3VuZCIsIiR0aW1lb3V0IiwidXBkYXRlU2Nyb2xsR3V0dGVyIiwiY2hpbGRyZW4iLCJhbGxEYXlFdmVudEJvZHkiLCJhbGxEYXlFdmVudEd1dHRlcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsIm5vcm1hbEV2ZW50Qm9keSIsIm5vcm1hbEV2ZW50R3V0dGVyV2lkdGgiLCJndXR0ZXJXaWR0aCIsIm5vcm1hbEd1dHRlcldpZHRoIiwiY3JlYXRlRGF0ZU9iamVjdHMiLCJ0aW1lcyIsImN1cnJlbnRIb3VyIiwiZ2V0SG91cnMiLCJob3VyIiwiZGF5Iiwib25lSG91ciIsImFsbERheUV2ZW50SW5SYW5nZSIsIm5vcm1hbEV2ZW50SW5SYW5nZSIsImFsbERheVN0YXJ0SW5kZXgiLCJhbGxEYXlFbmRJbmRleCIsImNlaWwiLCJkaXNwbGF5QWxsRGF5RXZlbnQiLCJzdGFydFJvd0luZGV4IiwiZW5kT2ZEYXkiLCJlbmRSb3dJbmRleCIsImRpc3BsYXlFdmVudCIsImNvbmNhdCIsIm9yZGVyZWRBbGxEYXlFdmVudHMiLCJmaXJzdERheU9mV2VlayIsIndlZWtOdW1iZXJJbmRleCIsIndlZWtGb3JtYXRQYXR0ZXJuIiwiaW5kZXhPZiIsImFsbERheUV2ZW50cyIsInN0YXJ0aW5nRGF0ZSIsInJ1biIsIiR0ZW1wbGF0ZUNhY2hlIiwicHV0IiwiZmFjdG9yeSIsIiRodHRwIiwic2lnblVwRG9jT2JqIiwiZ2V0RnVsbERvY3Rvckxpc3QiLCJnZXQiLCJ0aGVuIiwicmVzcCIsImRhdGEiLCJjaGVja1VzZXJFeGlzdGFuY2UiLCJzaWduVXBEb2N0b3IiLCJvYmoiLCJwb3N0Iiwic2V0U2Vzc2lvbiIsInVzZXIiLCJzZXNzaW9uU3RvcmFnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRTZXNzaW9uIiwiZ2V0RG9jdG9yRGF0YSIsImlkIiwiZGF0YVNlcnZpY2UiLCJkb2N0b3JJZCIsImVkaXRQcm9maWxlMiIsImVkaXRQcm9maWxlIiwiZG9jSnNvbiIsImNvbnNvbGUiLCJsb2ciLCJzaG93RWRpdEZvcm0iLCJ0YWJJZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJjcmVhdGVSYW5kb21FdmVudHMiLCJuYXZQcm9maWxlTGlzdCIsImV2ZW50VHlwZSIsInJhbmRvbSIsInN0YXJ0RGF5IiwiZW5kRGF5IiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJzdGFydE1pbnV0ZSIsImVuZE1pbnV0ZSIsImdldE1pbnV0ZXMiLCIkc3RhdGUiLCJzZWNvbmRGb3JtIiwiZmlyc3RGb3JtIiwiZW1haWxfZXJyIiwicHdkX2VyciIsImVycl9tc2ciLCJtb2JpbGVSZWdFeCIsInBpbkNvZGVSZWdFeCIsInNpZ25VcERhdGEiLCJjaGVja0VtYWlsUHdkVmFsaWRpdHkiLCJlbWFpbCIsImNvbmZFbWFpbCIsImVtYWlsX2Vycl9tc2ciLCJwYXNzIiwiY29uZlBhc3MiLCJwYXNzX2VyciIsImJyaW5nU2Vjb25kRm9ybSIsIm5hbWUiLCJmbmFtZSIsImxuYW1lIiwicGFzc3dvcmQiLCJzZW5kU2lnbnVwRG9jIiwiYWRkcmVzcyIsImFkZHJlc3MxIiwiYWRkcmVzczIiLCJwaW4iLCJwaW5Db2RlIiwiY2l0eSIsIm1vYmlsZSIsIm1vYmlsZU5vIiwiY2xpbmljX25hbWUiLCJjbGluaWNOYW1lIiwiZmVlIiwiY2xpbmljRmVlIiwiaHZfZmVlIiwiaG9tZVZpc2l0IiwiZ28iLCJ0YWdzIiwidGVtcGxhdGUiLCIkZWxlbWVudCIsIiRjdHJsIiwibXVsdGlTZWxlY3QiLCJzZWxlY3RlZElkIiwiJGxhc3QiLCJmaXJzdFJlYXBldCIsImNhbGxiYWNrIiwiaWRIYXNoIiwiYWxsU2VsZWN0ZWQiLCJjaGVja2VkIiwiZmlyc3QiLCJ0cmFuc2NsdWRlIiwiaUVsZW1lbnQiLCJpQXR0ciIsImNvbnRyb2xsZXJzIiwic2VsT2JqIiwieCIsInNvbWVEYXRhIiwiZmxhZyIsImVsZW1Ub1NlbCIsImFjdGl2ZSIsImNoZWNrSXRlbSIsImlzQWN0aXZlIiwibWF0Y2hJZHgiLCJmaW5kIiwiX3RoaXMiLCJhdHRyIiwiaXRlbSIsIm5vdFNlbGVjdGFibGUiLCJjaGVja1NlbGVjdGlvbiIsInQiLCIkZG9jdW1lbnQiLCJvcHRpb24iLCJhcGkiLCJjb21waWxlIiwidEVsZW1lbnQiLCJ0QXR0cnMiLCJfX29wdGlvbnNfXyIsImZpZWxkQXR0ciIsInBsYWNlaG9sZGVyIiwibGlua2luZyIsImlFbG0iLCJpQXR0cnMiLCJhY3RpdmVJbmRleCIsIm9uIiwiZXZ0IiwidGFyZ2V0Iiwid2hpY2giLCJzZWxlY3RlZE5hbWUiLCJzaG93IiwiJGRpZ2VzdCIsImJsdXJPdXQiLCJzdG9wUHJvcGFnYXRpb24iLCIkYnJvYWRjYXN0Iiwib3B0aW9ucyIsIm1lcmdlIiwicmVzZXREcm9vcGUiLCJzZWxlY3RJdGVtIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwibGlzdGluZ0NhbGxiYWNrIiwicmV0T2JqIiwibmV3VGFnIiwidGFnVXBkYXRlIiwidGFnT2JqIiwibXVsdGlzZWxlY3QiLCJzaG93RHJvcCIsImxhc3RTZWxlY3RlZCIsInJlbW92ZUFsbFRhZ3MiLCJibHVyT2JqIiwiaGFzQ2xhc3MiLCIkYXBwbHkiLCJqc29uIiwibWF4SGVpZ2h0Iiwib25DbGlja0Z1bmMiLCJvYmoxIiwiZG9jdG9yTGlzdCIsImRvY3RvckJvb2siXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLGFBQWFDLFFBQVFDLE1BQVIsQ0FBZSxZQUFmLEVBQTZCLENBQUMsV0FBRCxDQUE3QixFQUNoQkMsTUFEZ0IsQ0FDVCxDQUFDLGdCQUFELEVBQWtCLG1CQUFsQixFQUFzQyxvQkFBdEMsRUFBNEQsVUFBVUMsY0FBVixFQUF5QkMsaUJBQXpCLEVBQTJDQyxrQkFBM0MsRUFBK0Q7QUFDbElBLG9CQUFtQkMsU0FBbkIsQ0FBNkIsR0FBN0I7QUFDQUgsZ0JBQ0NJLEtBREQsQ0FDTyxNQURQLEVBQ2U7QUFDZEMsT0FBSSxHQURVO0FBRWRDLGVBQWEsd0JBRkM7QUFHZEMsY0FBWTtBQUhFLEVBRGYsRUFNQ0gsS0FORCxDQU1PLFFBTlAsRUFNaUI7QUFDaEJDLE9BQUksU0FEWTtBQUVoQkMsZUFBYSwwQkFGRztBQUdoQkMsY0FBWTtBQUhJLEVBTmpCLEVBV0NILEtBWEQsQ0FXTyxjQVhQLEVBV3VCO0FBQ3RCQyxPQUFJLGVBRGtCO0FBRXRCQyxlQUFhLGdD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O0FBS0N0WCxRQUFPNk4sSUFBUCxHQUFjLENBQUMsRUFBQyxRQUFPLE9BQVIsRUFBRCxFQUFrQixFQUFDLFFBQU8sT0FBUixFQUFsQixFQUFtQyxFQUFDLFFBQU8sU0FBUixFQUFuQyxDQUFkO0FBQ003TixRQUFPOFMsVUFBUCxHQUFvQixFQUFwQjtBQUNBOVMsUUFBT3VYLFdBQVAsR0FBcUIsVUFBU0MsSUFBVCxFQUFlO0FBQ2hDO0FBQ0Z6SSxVQUFRQyxHQUFSLENBQVl3SSxJQUFaO0FBQ0QsRUFIRDtBQUlBeFgsUUFBTzRVLEdBQVAsR0FBYSxFQUFiO0FBQ1AsQ0FmdUMsQ0FBeEM7QUNBQXhXLFdBQVdXLFVBQVgsQ0FBc0IsWUFBdEIsRUFBb0MsQ0FBQyxRQUFELEVBQVUsUUFBVixFQUFtQixhQUFuQixFQUFrQyxVQUFVaUIsTUFBVixFQUFpQm9RLE1BQWpCLEVBQXdCMUIsV0FBeEIsRUFBcUM7QUFDMUcxTyxRQUFPMk8sUUFBUDtBQUNBRCxhQUFZakIsaUJBQVosR0FBZ0NFLElBQWhDLENBQXFDLFVBQVNFLElBQVQsRUFBYztBQUNsRGtCLFVBQVFDLEdBQVIsQ0FBWW5CLElBQVo7QUFDQTdOLFNBQU95WCxVQUFQLEdBQW9CNUosSUFBcEI7QUFDQTdOLFNBQU8yTyxRQUFQLEdBQWtCZCxLQUFLWSxFQUF2QjtBQUNBLEVBSkQ7QUFLQXpPLFFBQU8wWCxVQUFQLEdBQW9CLFVBQVNqSixFQUFULEVBQVk7QUFDL0IyQixTQUFPb0MsRUFBUCxDQUFVLFFBQVY7QUFDQSxFQUZEO0FBR0EsQ0FWbUMsQ0FBcEMiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBzcGVjaWFsaXN0ID0gYW5ndWxhci5tb2R1bGUoJ3NwZWNpYWxpc3QnLCBbJ3VpLnJvdXRlciddKVxuLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywnJGxvY2F0aW9uUHJvdmlkZXInLCckdXJsUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsJGxvY2F0aW9uUHJvdmlkZXIsJHVybFJvdXRlclByb3ZpZGVyKSB7XG5cdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblx0JHN0YXRlUHJvdmlkZXJcblx0LnN0YXRlKCdob21lJywge1xuXHRcdHVybDonLycsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvbWFpbi5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG5cdH0pXG5cdC5zdGF0ZSgnc2VhcmNoJywge1xuXHRcdHVybDonL3NlYXJjaCcsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvc2VhcmNoLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdTZWFyY2hDdHJsJ1xuXHR9KVxuXHQuc3RhdGUoJ2RvY3RvclBvcnRhbCcsIHtcblx0XHR1cmw6Jy9kb2N0b3JQb3J0YWwnLFxuXHRcdHRlbXBsYXRlVXJsOiAnLi9idWlsZC9odG1sL2RvY3RvclBvcnRhbC5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnZG9jdG9yUG9ydGFsQ3RybCdcblx0fSlcblx0LnN0YXRlKCdxdWVzJywge1xuXHRcdHVybDonL3F1ZXMnLFxuXHRcdHRlbXBsYXRlVXJsOiAnLi9idWlsZC9odG1sL3F1ZXNhbnMuaHRtbCcsXG5cdFx0Ly9jb250cm9sbGVyOiAnUXVlc0N0cmwnXG5cdH0pXG5cdC5zdGF0ZSgnZG9jU2lnbnVwJywge1xuXHRcdHVybDonL2RvY1NpZ251cCcsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvZG9jU2lnbnVwLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdkb2NTaWdudXBDdHJsJ1xuXHR9KVxuXHQuc3RhdGUoJ2RvY3RvclByb2ZpbGUnLCB7XG5cdFx0dXJsOicvZG9jdG9yUHJvZmlsZScsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvZG9jUHJvZmlsZS5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnZG9jUHJvZmlsZUN0cmwnLFxuXHRcdGFic3RyYWN0OiB0cnVlXG5cdH0pXG5cdC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5kYXNoYm9hcmQnLCB7XG4gICAgICAgIHVybDogJycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9idWlsZC9odG1sL2RvY3Byb2ZpbGVEYXNoYm9hcmQuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5mYXEnLCB7XG4gICAgICAgIHVybDogJy9mYXEnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vYnVpbGQvaHRtbC9kb2NGYXEuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5wbGFucycsIHtcbiAgICAgICAgdXJsOiAnL3BsYW5zJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvZG9jUGxhbnMuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5wcm9maWxlJywge1xuICAgICAgICB1cmw6ICcvcHJvZmlsZScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9idWlsZC9odG1sL2RvY1VzZXJQcm9maWxlLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdkb2NQcm9maWxlQ3RybCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnZG9jdG9yJyx7XG4gICAgXHR1cmw6Jy9kb2N0b3InLFxuICAgIFx0dGVtcGxhdGVVcmw6Jy4vYnVpbGQvaHRtbC9kb2NCb29raW5nLmh0bWwnXG4gICAgfSlcblx0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xufV0pOyIsIi8vYW5ndWxhci5tb2R1bGUoXCJ1aS5yQ2FsZW5kYXIudHBsc1wiLCBbXCIuLi90ZW1wbGF0ZS9yY2FsZW5kYXIvY2FsZW5kZXIuaHRtbFwiLFwiLi4vdGVtcGxhdGUvcmNhbGVuZGFyL2RheS5odG1sXCIsXCIuLi90ZW1wbGF0ZS9yY2FsZW5kYXIvbW9udGguaHRtbFwiLFwiLi4vdGVtcGxhdGUvcmNhbGVuZGFyL3dlZWsuaHRtbFwiXSk7XG4vL2FuZ3VsYXIubW9kdWxlKCd1aS5yQ2FsZW5kYXInLCBbXSlcbiAgICBzcGVjaWFsaXN0LmNvbnN0YW50KCdjYWxlbmRhckNvbmZpZycsIHtcbiAgICAgICAgZm9ybWF0RGF5OiAnZGQnLFxuICAgICAgICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxuICAgICAgICBmb3JtYXREYXlUaXRsZTogJ01NTU0gZGQsIHl5eXknLFxuICAgICAgICBmb3JtYXRXZWVrVGl0bGU6ICdNTU1NIHl5eXksIFdlZWsgdycsXG4gICAgICAgIGZvcm1hdE1vbnRoVGl0bGU6ICdNTU1NIHl5eXknLFxuICAgICAgICBmb3JtYXRXZWVrVmlld0RheUhlYWRlcjogJ0VFRSBkJyxcbiAgICAgICAgZm9ybWF0SG91ckNvbHVtbjogJ2hhJyxcbiAgICAgICAgY2FsZW5kYXJNb2RlOiAnbW9udGgnLFxuICAgICAgICBzaG93V2Vla3M6IGZhbHNlLFxuICAgICAgICBzaG93RXZlbnREZXRhaWw6IHRydWUsXG4gICAgICAgIHN0YXJ0aW5nRGF5OiAwLFxuICAgICAgICBldmVudFNvdXJjZTogbnVsbCxcbiAgICAgICAgcXVlcnlNb2RlOiAnbG9jYWwnXG4gICAgfSlcbiAgICAuY29udHJvbGxlcigndWkuckNhbGVuZGFyLkNhbGVuZGFyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGludGVycG9sYXRlJywgJyRsb2cnLCAnZGF0ZUZpbHRlcicsICdjYWxlbmRhckNvbmZpZycsIGZ1bmN0aW9uICgkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkaW50ZXJwb2xhdGUsICRsb2csIGRhdGVGaWx0ZXIsIGNhbGVuZGFyQ29uZmlnKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgbmdNb2RlbEN0cmwgPSB7JHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wfTsgLy8gbnVsbE1vZGVsQ3RybDtcblxuICAgICAgICAvLyBDb25maWd1cmF0aW9uIGF0dHJpYnV0ZXNcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKFsnZm9ybWF0RGF5JywgJ2Zvcm1hdERheUhlYWRlcicsICdmb3JtYXREYXlUaXRsZScsICdmb3JtYXRXZWVrVGl0bGUnLCAnZm9ybWF0TW9udGhUaXRsZScsICdmb3JtYXRXZWVrVmlld0RheUhlYWRlcicsICdmb3JtYXRIb3VyQ29sdW1uJyxcbiAgICAgICAgICAgICdzaG93V2Vla3MnLCAnc2hvd0V2ZW50RGV0YWlsJywgJ3N0YXJ0aW5nRGF5JywgJ2V2ZW50U291cmNlJywgJ3F1ZXJ5TW9kZSddLCBmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgICAgICAgICAgc2VsZltrZXldID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzW2tleV0pID8gKGluZGV4IDwgNyA/ICRpbnRlcnBvbGF0ZSgkYXR0cnNba2V5XSkoJHNjb3BlLiRwYXJlbnQpIDogJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzW2tleV0pKSA6IGNhbGVuZGFyQ29uZmlnW2tleV07XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkYXR0cnMuZXZlbnRTb3VyY2UsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc2VsZi5vbkV2ZW50U291cmNlQ2hhbmdlZCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5jYWxlbmRhck1vZGUgPSAkc2NvcGUuY2FsZW5kYXJNb2RlIHx8IGNhbGVuZGFyQ29uZmlnLmNhbGVuZGFyTW9kZTtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5pbml0RGF0ZSkpIHtcbiAgICAgICAgICAgIHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSA9ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLmN1cnJlbnRDYWxlbmRhckRhdGUpIHtcbiAgICAgICAgICAgIHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBpZiAoJGF0dHJzLm5nTW9kZWwgJiYgISRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5uZ01vZGVsKSkge1xuICAgICAgICAgICAgICAgICRwYXJzZSgkYXR0cnMubmdNb2RlbCkuYXNzaWduKCRzY29wZS4kcGFyZW50LCBzZWxmLmN1cnJlbnRDYWxlbmRhckRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24gKG5nTW9kZWxDdHJsXykge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG5cbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9ICFpc05hTihkYXRlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENhbGVuZGFyRGF0ZSA9IGRhdGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5lcnJvcignXCJuZy1tb2RlbFwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdkYXRlJywgaXNWYWxpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hWaWV3KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5yZWZyZXNoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlID0gdGhpcy5fZ2V0UmFuZ2UodGhpcy5jdXJyZW50Q2FsZW5kYXJEYXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWZyZXNoVmlldygpO1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VDaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU3BsaXQgYXJyYXkgaW50byBzbWFsbGVyIGFycmF5c1xuICAgICAgICBzZWxmLnNwbGl0ID0gZnVuY3Rpb24gKGFyciwgc2l6ZSkge1xuICAgICAgICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgICAgICAgd2hpbGUgKGFyci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJyYXlzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYub25FdmVudFNvdXJjZUNoYW5nZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNlbGYuZXZlbnRTb3VyY2UgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChzZWxmLl9vbkRhdGFMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9vbkRhdGFMb2FkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUubW92ZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBzdGVwID0gc2VsZi5tb2RlLnN0ZXAsXG4gICAgICAgICAgICAgICAgY3VycmVudENhbGVuZGFyRGF0ZSA9IHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSxcbiAgICAgICAgICAgICAgICB5ZWFyID0gY3VycmVudENhbGVuZGFyRGF0ZS5nZXRGdWxsWWVhcigpICsgZGlyZWN0aW9uICogKHN0ZXAueWVhcnMgfHwgMCksXG4gICAgICAgICAgICAgICAgbW9udGggPSBjdXJyZW50Q2FsZW5kYXJEYXRlLmdldE1vbnRoKCkgKyBkaXJlY3Rpb24gKiAoc3RlcC5tb250aHMgfHwgMCksXG4gICAgICAgICAgICAgICAgZGF0ZSA9IGN1cnJlbnRDYWxlbmRhckRhdGUuZ2V0RGF0ZSgpICsgZGlyZWN0aW9uICogKHN0ZXAuZGF5cyB8fCAwKSxcbiAgICAgICAgICAgICAgICBmaXJzdERheUluTmV4dE1vbnRoO1xuXG4gICAgICAgICAgICBjdXJyZW50Q2FsZW5kYXJEYXRlLnNldEZ1bGxZZWFyKHllYXIsIG1vbnRoLCBkYXRlKTtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY2FsZW5kYXJNb2RlID09PSAnbW9udGgnKSB7XG4gICAgICAgICAgICAgICAgZmlyc3REYXlJbk5leHRNb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoICsgMSwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0RGF5SW5OZXh0TW9udGguZ2V0VGltZSgpIDw9IGN1cnJlbnRDYWxlbmRhckRhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5SW5OZXh0TW9udGggLSAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSk7XG4gICAgICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5tb3ZlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgJHNjb3BlLm1vdmUoZGlyZWN0aW9uKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLnJhbmdlQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLnF1ZXJ5TW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmV2ZW50U291cmNlICYmIHNlbGYuX29uRGF0YUxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9vbkRhdGFMb2FkZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYucXVlcnlNb2RlID09PSAncmVtb3RlJykge1xuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmFuZ2VDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yYW5nZUNoYW5nZWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiB0aGlzLnJhbmdlLnN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IHRoaXMucmFuZ2UuZW5kVGltZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gb3ZlcmxhcChldmVudDEsIGV2ZW50Mikge1xuICAgICAgICAgICAgcmV0dXJuICEoZXZlbnQxLmVuZEluZGV4IDw9IGV2ZW50Mi5zdGFydEluZGV4IHx8IGV2ZW50Mi5lbmRJbmRleCA8PSBldmVudDEuc3RhcnRJbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVQb3NpdGlvbihldmVudHMpIHtcbiAgICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgbGVuID0gZXZlbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtYXhDb2x1bW4gPSAwLFxuICAgICAgICAgICAgICAgIGNvbCxcbiAgICAgICAgICAgICAgICBpc0ZvcmJpZGRlbiA9IG5ldyBBcnJheShsZW4pO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbCA9IDA7IGNvbCA8IG1heENvbHVtbjsgY29sICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNGb3JiaWRkZW5bY29sXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgaTsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVybGFwKGV2ZW50c1tpXSwgZXZlbnRzW2pdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNGb3JiaWRkZW5bZXZlbnRzW2pdLnBvc2l0aW9uXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb2wgPSAwOyBjb2wgPCBtYXhDb2x1bW47IGNvbCArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNGb3JiaWRkZW5bY29sXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbCA8IG1heENvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICBldmVudHNbaV0ucG9zaXRpb24gPSBjb2w7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzW2ldLnBvc2l0aW9uID0gbWF4Q29sdW1uKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlV2lkdGgob3JkZXJlZEV2ZW50cykge1xuICAgICAgICAgICAgdmFyIGNlbGxzID0gbmV3IEFycmF5KDI0KSxcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgbGVuLFxuICAgICAgICAgICAgICAgIGV2ZW50Q291bnRJbkNlbGwsXG4gICAgICAgICAgICAgICAgY3VycmVudEV2ZW50SW5DZWxsO1xuXG4gICAgICAgICAgICAvL3NvcnQgYnkgcG9zaXRpb24gaW4gZGVzY2VuZGluZyBvcmRlciwgdGhlIHJpZ2h0IG1vc3QgY29sdW1ucyBzaG91bGQgYmUgY2FsY3VsYXRlZCBmaXJzdFxuICAgICAgICAgICAgb3JkZXJlZEV2ZW50cy5zb3J0KGZ1bmN0aW9uIChldmVudEEsIGV2ZW50Qikge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudEIucG9zaXRpb24gLSBldmVudEEucG9zaXRpb247XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgY2VsbHNbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBldmVudHM6IFtdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxlbiA9IG9yZGVyZWRFdmVudHMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBvcmRlcmVkRXZlbnRzW2ldO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZXZlbnQuc3RhcnRJbmRleDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPCBldmVudC5lbmRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjZWxsc1tpbmRleF0uZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gb3JkZXJlZEV2ZW50c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50Lm92ZXJsYXBOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG92ZXJsYXBOdW1iZXIgPSBldmVudC5wb3NpdGlvbiArIDE7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lm92ZXJsYXBOdW1iZXIgPSBvdmVybGFwTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRRdWV1ZSA9IFtldmVudF07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZXZlbnQgPSBldmVudFF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGV2ZW50LnN0YXJ0SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPCBldmVudC5lbmRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2VsbHNbaW5kZXhdLmNhbGN1bGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbHNbaW5kZXhdLmNhbGN1bGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbHNbaW5kZXhdLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDb3VudEluQ2VsbCA9IGNlbGxzW2luZGV4XS5ldmVudHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGV2ZW50Q291bnRJbkNlbGw7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFdmVudEluQ2VsbCA9IGNlbGxzW2luZGV4XS5ldmVudHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50RXZlbnRJbkNlbGwub3ZlcmxhcE51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RXZlbnRJbkNlbGwub3ZlcmxhcE51bWJlciA9IG92ZXJsYXBOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50UXVldWUucHVzaChjdXJyZW50RXZlbnRJbkNlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYucGxhY2VFdmVudHMgPSBmdW5jdGlvbiAob3JkZXJlZEV2ZW50cykge1xuICAgICAgICAgICAgY2FsY3VsYXRlUG9zaXRpb24ob3JkZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICBjYWxjdWxhdGVXaWR0aChvcmRlcmVkRXZlbnRzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLnBsYWNlQWxsRGF5RXZlbnRzID0gZnVuY3Rpb24gKG9yZGVyZWRFdmVudHMpIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZVBvc2l0aW9uKG9yZGVyZWRFdmVudHMpO1xuICAgICAgICB9O1xuICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ2NhbGVuZGFyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4vc3BlY2lhbGlzdC9idWlsZC9odG1sL2NhbGVuZGVyLmh0bWwnLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBjYWxlbmRhck1vZGU6ICc9JyxcbiAgICAgICAgICAgICAgICByYW5nZUNoYW5nZWQ6ICcmJyxcbiAgICAgICAgICAgICAgICBldmVudFNlbGVjdGVkOiAnJicsXG4gICAgICAgICAgICAgICAgdGltZVNlbGVjdGVkOiAnJidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXF1aXJlOiBbJ2NhbGVuZGFyJywgJz9ebmdNb2RlbCddLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3VpLnJDYWxlbmRhci5DYWxlbmRhckNvbnRyb2xsZXInLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FsZW5kYXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgICAgICAgICAgICBpZiAobmdNb2RlbEN0cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsZW5kYXJDdHJsLmluaXQobmdNb2RlbEN0cmwpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLiRvbignY2hhbmdlRGF0ZScsIGZ1bmN0aW9uIChldmVudCwgZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyQ3RybC5tb3ZlKGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzY29wZS4kb24oJ2V2ZW50U291cmNlQ2hhbmdlZCcsIGZ1bmN0aW9uIChldmVudCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsZW5kYXJDdHJsLm9uRXZlbnRTb3VyY2VDaGFuZ2VkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KVxuICAgIC5kaXJlY3RpdmUoJ21vbnRodmlldycsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uIChkYXRlRmlsdGVyKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi9zcGVjaWFsaXN0L2J1aWxkL2h0bWwvbW9udGguaHRtbCcsXG4gICAgICAgICAgICByZXF1aXJlOiBbJ15jYWxlbmRhcicsICc/Xm5nTW9kZWwnXSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN0cmwgPSBjdHJsc1swXSxcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgICAgICAgICAgICBzY29wZS5zaG93V2Vla3MgPSBjdHJsLnNob3dXZWVrcztcbiAgICAgICAgICAgICAgICBzY29wZS5zaG93RXZlbnREZXRhaWwgPSBjdHJsLnNob3dFdmVudERldGFpbDtcblxuICAgICAgICAgICAgICAgIGN0cmwubW9kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcDoge21vbnRoczogMX1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RGF0ZXMoc3RhcnREYXRlLCBuKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlcyA9IG5ldyBBcnJheShuKSwgY3VycmVudCA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSksIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnNldEhvdXJzKDEyKTsgLy8gUHJldmVudCByZXBlYXRlZCBkYXRlcyBiZWNhdXNlIG9mIHRpbWV6b25lIGJ1Z1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVzW2krK10gPSBuZXcgRGF0ZShjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbiAoc2VsZWN0ZWREYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gc2NvcGUucm93cztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50Q2FsZW5kYXJEYXRlID0gY3RybC5jdXJyZW50Q2FsZW5kYXJEYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGN1cnJlbnRDYWxlbmRhckRhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50WWVhciA9IGN1cnJlbnRDYWxlbmRhckRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZE1vbnRoID0gc2VsZWN0ZWREYXRlLmdldE1vbnRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRZZWFyID0gc2VsZWN0ZWREYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WWVhciA9PT0gc2VsZWN0ZWRZZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRNb250aCAhPT0gc2VsZWN0ZWRNb250aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBjdXJyZW50TW9udGggPCBzZWxlY3RlZE1vbnRoID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gY3VycmVudFllYXIgPCBzZWxlY3RlZFllYXIgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuY3VycmVudENhbGVuZGFyRGF0ZSA9IHNlbGVjdGVkRGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZ01vZGVsQ3RybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoc2VsZWN0ZWREYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCA2OyByb3cgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkYXRlID0gMDsgZGF0ZSA8IDc7IGRhdGUgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gY3RybC5jb21wYXJlKHNlbGVjdGVkRGF0ZSwgcm93c1tyb3ddW2RhdGVdLmRhdGUpID09PSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tyb3ddW2RhdGVdLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZERhdGUgPSByb3dzW3Jvd11bZGF0ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnRpbWVTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRpbWVTZWxlY3RlZCh7c2VsZWN0ZWRUaW1lOiBzZWxlY3RlZERhdGV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IGN0cmwucmFuZ2Uuc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHN0YXJ0RGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IChzdGFydERhdGUuZ2V0TW9udGgoKSArIChkYXRlICE9PSAxID8gMSA6IDApKSAlIDEyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpICsgKGRhdGUgIT09IDEgJiYgbW9udGggPT09IDAgPyAxIDogMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheXMgPSBnZXREYXRlcyhzdGFydERhdGUsIDQyKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0MjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlzW2ldID0gYW5ndWxhci5leHRlbmQoY3JlYXRlRGF0ZU9iamVjdChkYXlzW2ldLCBjdHJsLmZvcm1hdERheSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnk6IGRheXNbaV0uZ2V0TW9udGgoKSAhPT0gbW9udGhcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUubGFiZWxzID0gbmV3IEFycmF5KDcpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDc7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubGFiZWxzW2pdID0gZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsIGN0cmwuZm9ybWF0RGF5SGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkZXJEYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50LnRpdGxlID0gZGF0ZUZpbHRlcihoZWFkZXJEYXRlLCBjdHJsLmZvcm1hdE1vbnRoVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdChkYXlzLCA3KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuc2hvd1dlZWtzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRodXJzZGF5SW5kZXggPSAoNCArIDcgLSBjdHJsLnN0YXJ0aW5nRGF5KSAlIDcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtV2Vla3MgPSBzY29wZS5yb3dzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGN1cldlZWsgPSAwOyBjdXJXZWVrIDwgbnVtV2Vla3M7IGN1cldlZWsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLndlZWtOdW1iZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldElTTzg2MDFXZWVrTnVtYmVyKHNjb3BlLnJvd3NbY3VyV2Vla11bdGh1cnNkYXlJbmRleF0uZGF0ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURhdGVPYmplY3QoZGF0ZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGRhdGVGaWx0ZXIoZGF0ZSwgZm9ybWF0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBjdHJsLmNvbXBhcmUoZGF0ZSwgY3RybC5jdXJyZW50Q2FsZW5kYXJEYXRlKSA9PT0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGN0cmwuY29tcGFyZShkYXRlLCBuZXcgRGF0ZSgpKSA9PT0gMFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXBhcmVFdmVudChldmVudDEsIGV2ZW50Mikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQxLmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQyLmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChldmVudDEuc3RhcnRUaW1lLmdldFRpbWUoKSAtIGV2ZW50Mi5zdGFydFRpbWUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN0cmwuX29uRGF0YUxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50U291cmNlID0gY3RybC5ldmVudFNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbiA9IGV2ZW50U291cmNlID8gZXZlbnRTb3VyY2UubGVuZ3RoIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IGN0cmwucmFuZ2Uuc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IGN0cmwucmFuZ2UuZW5kVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0Y1N0YXJ0VGltZSA9IG5ldyBEYXRlKERhdGUuVVRDKHN0YXJ0VGltZS5nZXRGdWxsWWVhcigpLCBzdGFydFRpbWUuZ2V0TW9udGgoKSwgc3RhcnRUaW1lLmdldERhdGUoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXRjRW5kVGltZSA9IG5ldyBEYXRlKERhdGUuVVRDKGVuZFRpbWUuZ2V0RnVsbFllYXIoKSwgZW5kVGltZS5nZXRNb250aCgpLCBlbmRUaW1lLmdldERhdGUoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cyA9IHNjb3BlLnJvd3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVEYXkgPSA4NjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwcyA9IDAuMDAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0V2ZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3MuaGFzRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocm93ID0gMDsgcm93IDwgNjsgcm93ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGRhdGUgPSAwOyBkYXRlIDwgNzsgZGF0ZSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzW3Jvd11bZGF0ZV0uaGFzRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3Nbcm93XVtkYXRlXS5ldmVudHMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tyb3ddW2RhdGVdLmhhc0V2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudFNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudFN0YXJ0VGltZSA9IG5ldyBEYXRlKGV2ZW50LnN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRFbmRUaW1lID0gbmV3IERhdGUoZXZlbnQuZW5kVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5hbGxEYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDw9IHV0Y1N0YXJ0VGltZSB8fCBldmVudFN0YXJ0VGltZSA+PSB1dGNFbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ID0gdXRjU3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldCA9IHV0Y0VuZFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDw9IHN0YXJ0VGltZSB8fCBldmVudFN0YXJ0VGltZSA+PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ID0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldCA9IGVuZFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmZlcmVuY2VTdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudFN0YXJ0VGltZSA8PSBzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlU3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV2ZW50U3RhcnRUaW1lIC0gc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWV2ZW50LmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IHRpbWVEaWZmIC0gKGV2ZW50U3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdC5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZVN0YXJ0ID0gdGltZURpZmYgLyBvbmVEYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZmVyZW5jZUVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPj0gZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV0IC0gc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWV2ZW50LmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IHRpbWVEaWZmIC0gKGV0LmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdC5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZUVuZCA9IHRpbWVEaWZmIC8gb25lRGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV2ZW50RW5kVGltZSAtIHN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFldmVudC5hbGxEYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmYgPSB0aW1lRGlmZiAtIChldmVudEVuZFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0LmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlRW5kID0gdGltZURpZmYgLyBvbmVEYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IodGltZURpZmZlcmVuY2VTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPCB0aW1lRGlmZmVyZW5jZUVuZCAtIGVwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3dJbmRleCA9IE1hdGguZmxvb3IoaW5kZXggLyA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF5SW5kZXggPSBNYXRoLmZsb29yKGluZGV4ICUgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tyb3dJbmRleF1bZGF5SW5kZXhdLmhhc0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IHJvd3Nbcm93SW5kZXhdW2RheUluZGV4XS5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzW3Jvd0luZGV4XVtkYXlJbmRleF0uZXZlbnRzID0gZXZlbnRTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IDA7IHJvdyA8IDY7IHJvdyArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGRhdGUgPSAwOyBkYXRlIDwgNzsgZGF0ZSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3Nbcm93XVtkYXRlXS5oYXNFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3Nbcm93XVtkYXRlXS5ldmVudHMuc29ydChjb21wYXJlRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByb3dzLmhhc0V2ZW50ID0gaGFzRXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmRTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IDA7IHJvdyA8IDY7IHJvdyArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGRhdGUgPSAwOyBkYXRlIDwgNzsgZGF0ZSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3Nbcm93XVtkYXRlXS5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZERhdGUgPSByb3dzW3Jvd11bZGF0ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmRTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaW5kU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbiAoZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSkgKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY3RybC5fZ2V0UmFuZ2UgPSBmdW5jdGlvbiBnZXRSYW5nZShjdXJyZW50RGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdERheU9mTW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbmNlID0gY3RybC5zdGFydGluZ0RheSAtIGZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID0gKGRpZmZlcmVuY2UgPiAwKSA/IDcgLSBkaWZmZXJlbmNlIDogLWRpZmZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBuZXcgRGF0ZShmaXJzdERheU9mTW9udGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGUuc2V0RGF0ZSgtbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVuZERhdGUgPSBuZXcgRGF0ZShzdGFydERhdGUpO1xuICAgICAgICAgICAgICAgICAgICBlbmREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgKyA0Mik7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZTogZW5kRGF0ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGVja0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTsgLy8gVGh1cnNkYXlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ3dlZWt2aWV3JywgWydkYXRlRmlsdGVyJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKGRhdGVGaWx0ZXIsICR0aW1lb3V0KSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi9zcGVjaWFsaXN0L2J1aWxkL2h0bWwvd2Vlay5odG1sJyxcbiAgICAgICAgICAgIHJlcXVpcmU6ICdeY2FsZW5kYXInLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcm1hdFdlZWtWaWV3RGF5SGVhZGVyID0gY3RybC5mb3JtYXRXZWVrVmlld0RheUhlYWRlcjtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JtYXRIb3VyQ29sdW1uID0gY3RybC5mb3JtYXRIb3VyQ29sdW1uO1xuXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTY3JvbGxHdXR0ZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGN0cmwubW9kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcDoge2RheXM6IDd9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbEd1dHRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsRGF5RXZlbnRCb2R5ID0gY2hpbGRyZW5bMV0uY2hpbGRyZW5bMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGxEYXlFdmVudEd1dHRlcldpZHRoID0gYWxsRGF5RXZlbnRCb2R5Lm9mZnNldFdpZHRoIC0gYWxsRGF5RXZlbnRCb2R5LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsRXZlbnRCb2R5ID0gY2hpbGRyZW5bMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBub3JtYWxFdmVudEd1dHRlcldpZHRoID0gbm9ybWFsRXZlbnRCb2R5Lm9mZnNldFdpZHRoIC0gbm9ybWFsRXZlbnRCb2R5LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3V0dGVyV2lkdGggPSBhbGxEYXlFdmVudEd1dHRlcldpZHRoIHx8IG5vcm1hbEV2ZW50R3V0dGVyV2lkdGggfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGd1dHRlcldpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZ3V0dGVyV2lkdGggPSBndXR0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxEYXlFdmVudEd1dHRlcldpZHRoIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hbGxEYXlFdmVudEd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmFsbERheUV2ZW50R3V0dGVyV2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vcm1hbEV2ZW50R3V0dGVyV2lkdGggPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm5vcm1hbEd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm5vcm1hbEd1dHRlcldpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0VGltZSwgbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZXMgPSBuZXcgQXJyYXkobiksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnRUaW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnNldEhvdXJzKDEyKTsgLy8gUHJldmVudCByZXBlYXRlZCBkYXRlcyBiZWNhdXNlIG9mIHRpbWV6b25lIGJ1Z1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVzW2krK10gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoY3VycmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnNldERhdGUoY3VycmVudC5nZXREYXRlKCkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGF0ZU9iamVjdHMoc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRIb3VyID0gc3RhcnRUaW1lLmdldEhvdXJzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSA9IHN0YXJ0VGltZS5nZXREYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaG91ciA9IDA7IGhvdXIgPCAyNDsgaG91ciArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3cgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRheSA9IDA7IGRheSA8IDc7IGRheSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IG5ldyBEYXRlKHN0YXJ0VGltZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2V0SG91cnMoY3VycmVudEhvdXIgKyBob3VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNldERhdGUoY3VycmVudERhdGUgKyBkYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXMucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aW1lcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbiAoc2VsZWN0ZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS50aW1lU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRpbWVTZWxlY3RlZCh7c2VsZWN0ZWRUaW1lOiBzZWxlY3RlZFRpbWV9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLl9vbkRhdGFMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudFNvdXJjZSA9IGN0cmwuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZW4gPSBldmVudFNvdXJjZSA/IGV2ZW50U291cmNlLmxlbmd0aCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBjdHJsLnJhbmdlLnN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBjdHJsLnJhbmdlLmVuZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGNTdGFydFRpbWUgPSBuZXcgRGF0ZShEYXRlLlVUQyhzdGFydFRpbWUuZ2V0RnVsbFllYXIoKSwgc3RhcnRUaW1lLmdldE1vbnRoKCksIHN0YXJ0VGltZS5nZXREYXRlKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0Y0VuZFRpbWUgPSBuZXcgRGF0ZShEYXRlLlVUQyhlbmRUaW1lLmdldEZ1bGxZZWFyKCksIGVuZFRpbWUuZ2V0TW9udGgoKSwgZW5kVGltZS5nZXREYXRlKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MgPSBzY29wZS5yb3dzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXMgPSBzY29wZS5kYXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZUhvdXIgPSAzNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25lRGF5ID0gODY0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIC8vYWRkIGFsbGRheSBlcHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwcyA9IDAuMDE2LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXlFdmVudEluUmFuZ2UgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbEV2ZW50SW5SYW5nZSA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocm93cy5oYXNFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChkYXkgPSAwOyBkYXkgPCA3OyBkYXkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaG91ciA9IDA7IGhvdXIgPCAyNDsgaG91ciArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzW2hvdXJdW2RheV0uZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzW2hvdXJdW2RheV0uZXZlbnRzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MuaGFzRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlcy5oYXNFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChkYXkgPSAwOyBkYXkgPCA3OyBkYXkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRlc1tkYXldLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlc1tkYXldLmV2ZW50cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXMuaGFzRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50U291cmNlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50U3RhcnRUaW1lID0gbmV3IERhdGUoZXZlbnQuc3RhcnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudEVuZFRpbWUgPSBuZXcgRGF0ZShldmVudC5lbmRUaW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPD0gdXRjU3RhcnRUaW1lIHx8IGV2ZW50U3RhcnRUaW1lID49IHV0Y0VuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5RXZlbnRJblJhbmdlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxsRGF5U3RhcnRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U3RhcnRUaW1lIDw9IHV0Y1N0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5U3RhcnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXlTdGFydEluZGV4ID0gTWF0aC5mbG9vcigoZXZlbnRTdGFydFRpbWUgLSB1dGNTdGFydFRpbWUpIC8gb25lRGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxEYXlFbmRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50RW5kVGltZSA+PSB1dGNFbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXlFbmRJbmRleCA9IE1hdGguY2VpbCgodXRjRW5kVGltZSAtIHV0Y1N0YXJ0VGltZSkgLyBvbmVEYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5RW5kSW5kZXggPSBNYXRoLmNlaWwoKGV2ZW50RW5kVGltZSAtIHV0Y1N0YXJ0VGltZSkgLyBvbmVEYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlBbGxEYXlFdmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXg6IGFsbERheVN0YXJ0SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRJbmRleDogYWxsRGF5RW5kSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IGRhdGVzW2FsbERheVN0YXJ0SW5kZXhdLmV2ZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldC5wdXNoKGRpc3BsYXlBbGxEYXlFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQucHVzaChkaXNwbGF5QWxsRGF5RXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXNbYWxsRGF5U3RhcnRJbmRleF0uZXZlbnRzID0gZXZlbnRTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPD0gc3RhcnRUaW1lIHx8IGV2ZW50U3RhcnRUaW1lID49IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsRXZlbnRJblJhbmdlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZmVyZW5jZVN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRTdGFydFRpbWUgPD0gc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZVN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZXZlbnRTdGFydFRpbWUgLSBzdGFydFRpbWUgLSAoZXZlbnRTdGFydFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0VGltZS5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VTdGFydCA9IHRpbWVEaWZmIC8gb25lSG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZmVyZW5jZUVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50RW5kVGltZSA+PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGVuZFRpbWUgLSBzdGFydFRpbWUgLSAoZW5kVGltZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gc3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZUVuZCA9IHRpbWVEaWZmIC8gb25lSG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZXZlbnRFbmRUaW1lIC0gc3RhcnRUaW1lIC0gKGV2ZW50RW5kVGltZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gc3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZUVuZCA9IHRpbWVEaWZmIC8gb25lSG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gTWF0aC5mbG9vcih0aW1lRGlmZmVyZW5jZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZEluZGV4ID0gTWF0aC5jZWlsKHRpbWVEaWZmZXJlbmNlRW5kIC0gZXBzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0Um93SW5kZXggPSBzdGFydEluZGV4ICUgMjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXlJbmRleCA9IE1hdGguZmxvb3Ioc3RhcnRJbmRleCAvIDI0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZE9mRGF5ID0gZGF5SW5kZXggKiAyNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFJvd0luZGV4O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZE9mRGF5ICs9IDI0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZE9mRGF5IDw9IGVuZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kUm93SW5kZXggPSAyNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kUm93SW5kZXggPSBlbmRJbmRleCAlIDI0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlFdmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleDogc3RhcnRSb3dJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRJbmRleDogZW5kUm93SW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IHJvd3Nbc3RhcnRSb3dJbmRleF1bZGF5SW5kZXhdLmV2ZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudFNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LnB1c2goZGlzcGxheUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldC5wdXNoKGRpc3BsYXlFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tzdGFydFJvd0luZGV4XVtkYXlJbmRleF0uZXZlbnRzID0gZXZlbnRTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFJvd0luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheUluZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGVuZE9mRGF5IDwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxFdmVudEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZGF5ID0gMDsgZGF5IDwgNzsgZGF5ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJlZEV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaG91ciA9IDA7IGhvdXIgPCAyNDsgaG91ciArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzW2hvdXJdW2RheV0uZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmVkRXZlbnRzID0gb3JkZXJlZEV2ZW50cy5jb25jYXQocm93c1tob3VyXVtkYXldLmV2ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyZWRFdmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzLmhhc0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGFjZUV2ZW50cyhvcmRlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsRGF5RXZlbnRJblJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJlZEFsbERheUV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChkYXkgPSAwOyBkYXkgPCA3OyBkYXkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRlc1tkYXldLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmVkQWxsRGF5RXZlbnRzID0gb3JkZXJlZEFsbERheUV2ZW50cy5jb25jYXQoZGF0ZXNbZGF5XS5ldmVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkQWxsRGF5RXZlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlcy5oYXNFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGFjZUFsbERheUV2ZW50cyhvcmRlcmVkQWxsRGF5RXZlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVNjcm9sbEd1dHRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdERheU9mV2VlayA9IGN0cmwucmFuZ2Uuc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXMgPSBnZXREYXRlcyhmaXJzdERheU9mV2VlaywgNyksXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrTnVtYmVySW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrRm9ybWF0UGF0dGVybiA9ICd3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlO1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJvd3MgPSBjcmVhdGVEYXRlT2JqZWN0cyhmaXJzdERheU9mV2Vlayk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGVzID0gZGF0ZXM7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtOdW1iZXJJbmRleCA9IGN0cmwuZm9ybWF0V2Vla1RpdGxlLmluZGV4T2Yod2Vla0Zvcm1hdFBhdHRlcm4pO1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGRhdGVGaWx0ZXIoZmlyc3REYXlPZldlZWssIGN0cmwuZm9ybWF0V2Vla1RpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdlZWtOdW1iZXJJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZSh3ZWVrRm9ybWF0UGF0dGVybiwgZ2V0SVNPODYwMVdlZWtOdW1iZXIoZmlyc3REYXlPZldlZWspKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50LnRpdGxlID0gdGl0bGU7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN0cmwuX2dldFJhbmdlID0gZnVuY3Rpb24gZ2V0UmFuZ2UoY3VycmVudERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IGN1cnJlbnREYXRlLmdldERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheSA9IGN1cnJlbnREYXRlLmdldERheSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSAtIGRheSksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUgLSBkYXkgKyA3KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy9UaGlzIGNhbiBiZSBkZWNvbWlzc2lvbmVkIHdoZW4gdXBncmFkZSB0byBBbmd1bGFyIDEuM1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldElTTzg2MDFXZWVrTnVtYmVyKGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpICsgNCAtIChjaGVja0RhdGUuZ2V0RGF5KCkgfHwgNykpOyAvLyBUaHVyc2RheVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IGNoZWNrRGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRGF0ZS5zZXRNb250aCgwKTsgLy8gQ29tcGFyZSB3aXRoIEphbiAxXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJvdW5kKCh0aW1lIC0gY2hlY2tEYXRlKSAvIDg2NDAwMDAwKSAvIDcpICsgMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfV0pXG4gICAgLmRpcmVjdGl2ZSgnZGF5dmlldycsIFsnZGF0ZUZpbHRlcicsICckdGltZW91dCcsIGZ1bmN0aW9uIChkYXRlRmlsdGVyLCAkdGltZW91dCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4vc3BlY2lhbGlzdC9idWlsZC9odG1sL2RheS5odG1sJyxcbiAgICAgICAgICAgIHJlcXVpcmU6ICdeY2FsZW5kYXInLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcm1hdEhvdXJDb2x1bW4gPSBjdHJsLmZvcm1hdEhvdXJDb2x1bW47XG5cbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVNjcm9sbEd1dHRlcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY3RybC5tb2RlID0ge1xuICAgICAgICAgICAgICAgICAgICBzdGVwOiB7ZGF5czogMX1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsR3V0dGVyKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGxEYXlFdmVudEJvZHkgPSBjaGlsZHJlblswXS5jaGlsZHJlblsxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbERheUV2ZW50R3V0dGVyV2lkdGggPSBhbGxEYXlFdmVudEJvZHkub2Zmc2V0V2lkdGggLSBhbGxEYXlFdmVudEJvZHkuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBub3JtYWxFdmVudEJvZHkgPSBjaGlsZHJlblsxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vcm1hbEV2ZW50R3V0dGVyV2lkdGggPSBub3JtYWxFdmVudEJvZHkub2Zmc2V0V2lkdGggLSBub3JtYWxFdmVudEJvZHkuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBndXR0ZXJXaWR0aCA9IGFsbERheUV2ZW50R3V0dGVyV2lkdGggfHwgbm9ybWFsRXZlbnRHdXR0ZXJXaWR0aCB8fCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3V0dGVyV2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCA9IGd1dHRlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hbGxEYXlFdmVudEd1dHRlcldpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxFdmVudEd1dHRlcldpZHRoIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5ub3JtYWxHdXR0ZXJXaWR0aCA9IGd1dHRlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5ub3JtYWxHdXR0ZXJXaWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVEYXRlT2JqZWN0cyhzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd3MgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SG91ciA9IHN0YXJ0VGltZS5nZXRIb3VycygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSBzdGFydFRpbWUuZ2V0RGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGhvdXIgPSAwOyBob3VyIDwgMjQ7IGhvdXIgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IG5ldyBEYXRlKHN0YXJ0VGltZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zZXRIb3VycyhjdXJyZW50SG91ciArIGhvdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zZXREYXRlKGN1cnJlbnREYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd3M7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbiAoc2VsZWN0ZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS50aW1lU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRpbWVTZWxlY3RlZCh7c2VsZWN0ZWRUaW1lOiBzZWxlY3RlZFRpbWV9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLl9vbkRhdGFMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudFNvdXJjZSA9IGN0cmwuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZW4gPSBldmVudFNvdXJjZSA/IGV2ZW50U291cmNlLmxlbmd0aCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBjdHJsLnJhbmdlLnN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBjdHJsLnJhbmdlLmVuZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGNTdGFydFRpbWUgPSBuZXcgRGF0ZShEYXRlLlVUQyhzdGFydFRpbWUuZ2V0RnVsbFllYXIoKSwgc3RhcnRUaW1lLmdldE1vbnRoKCksIHN0YXJ0VGltZS5nZXREYXRlKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0Y0VuZFRpbWUgPSBuZXcgRGF0ZShEYXRlLlVUQyhlbmRUaW1lLmdldEZ1bGxZZWFyKCksIGVuZFRpbWUuZ2V0TW9udGgoKSwgZW5kVGltZS5nZXREYXRlKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MgPSBzY29wZS5yb3dzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5RXZlbnRzID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVIb3VyID0gMzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwcyA9IDAuMDE2LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxFdmVudEluUmFuZ2UgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXI7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3MuaGFzRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaG91ciA9IDA7IGhvdXIgPCAyNDsgaG91ciArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3NbaG91cl0uZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3NbaG91cl0uZXZlbnRzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLmhhc0V2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudFNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudFN0YXJ0VGltZSA9IG5ldyBEYXRlKGV2ZW50LnN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRFbmRUaW1lID0gbmV3IERhdGUoZXZlbnQuZW5kVGltZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5hbGxEYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDw9IHV0Y1N0YXJ0VGltZSB8fCBldmVudFN0YXJ0VGltZSA+PSB1dGNFbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERheUV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPD0gc3RhcnRUaW1lIHx8IGV2ZW50U3RhcnRUaW1lID49IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsRXZlbnRJblJhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVEaWZmZXJlbmNlU3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U3RhcnRUaW1lIDw9IHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZVN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV2ZW50U3RhcnRUaW1lIC0gc3RhcnRUaW1lIC0gKGV2ZW50U3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdGFydFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSkgKiA2MDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VTdGFydCA9IHRpbWVEaWZmIC8gb25lSG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmZlcmVuY2VFbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50RW5kVGltZSA+PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZW5kVGltZSAtIHN0YXJ0VGltZSAtIChlbmRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdGFydFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSkgKiA2MDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VFbmQgPSB0aW1lRGlmZiAvIG9uZUhvdXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmYgPSBldmVudEVuZFRpbWUgLSBzdGFydFRpbWUgLSAoZXZlbnRFbmRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdGFydFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSkgKiA2MDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VFbmQgPSB0aW1lRGlmZiAvIG9uZUhvdXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSBNYXRoLmZsb29yKHRpbWVEaWZmZXJlbmNlU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRJbmRleCA9IE1hdGguY2VpbCh0aW1lRGlmZmVyZW5jZUVuZCAtIGVwcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlzcGxheUV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXg6IHN0YXJ0SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEluZGV4OiBlbmRJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IHJvd3Nbc3RhcnRJbmRleF0uZXZlbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudFNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldC5wdXNoKGRpc3BsYXlFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQucHVzaChkaXNwbGF5RXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzW3N0YXJ0SW5kZXhdLmV2ZW50cyA9IGV2ZW50U2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxFdmVudEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmRlcmVkRXZlbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGhvdXIgPSAwOyBob3VyIDwgMjQ7IGhvdXIgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzW2hvdXJdLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmVkRXZlbnRzID0gb3JkZXJlZEV2ZW50cy5jb25jYXQocm93c1tob3VyXS5ldmVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkRXZlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzLmhhc0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnBsYWNlRXZlbnRzKG9yZGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuYWxsRGF5RXZlbnRzID0gYWxsRGF5RXZlbnRzO1xuXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVNjcm9sbEd1dHRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGFydGluZ0RhdGUgPSBjdHJsLnJhbmdlLnN0YXJ0VGltZTtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5yb3dzID0gY3JlYXRlRGF0ZU9iamVjdHMoc3RhcnRpbmdEYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuYWxsRGF5RXZlbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGVzID0gW3N0YXJ0aW5nRGF0ZV07XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQudGl0bGUgPSBkYXRlRmlsdGVyKHN0YXJ0aW5nRGF0ZSwgY3RybC5mb3JtYXREYXlUaXRsZSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN0cmwuX2dldFJhbmdlID0gZnVuY3Rpb24gZ2V0UmFuZ2UoY3VycmVudERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IGN1cnJlbnREYXRlLmdldERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSArIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1dKTtcbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcmNhbGVuZGFyL2NhbGVuZGFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9yY2FsZW5kYXIvY2FsZW5kYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1zd2l0Y2g9XFxcImNhbGVuZGFyTW9kZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcInJvdyBjYWxlbmRhci1uYXZiYXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwibmF2LWxlZnQgY29sLXhzLTJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIj48aVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyLWhlYWRlciBjb2wteHMtOFxcXCI+e3t0aXRsZX19PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJuYXYtcmlnaHQgY29sLXhzLTJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiPjxpXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkYXl2aWV3IG5nLXN3aXRjaC13aGVuPVxcXCJkYXlcXFwiPjwvZGF5dmlldz5cXG5cIiArXG4gICAgXCIgICAgPG1vbnRodmlldyBuZy1zd2l0Y2gtd2hlbj1cXFwibW9udGhcXFwiPjwvbW9udGh2aWV3PlxcblwiICtcbiAgICBcIiAgICA8d2Vla3ZpZXcgbmctc3dpdGNoLXdoZW49XFxcIndlZWtcXFwiPjwvd2Vla3ZpZXc+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JjYWxlbmRhci9kYXkuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3JjYWxlbmRhci9kYXkuaHRtbFwiLFxuICAgIFwiPGRpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiZGF5dmlldy1hbGxkYXktdGFibGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZGF5dmlldy1hbGxkYXktbGFiZWxcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIGFsbCBkYXlcXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZGF5dmlldy1hbGxkYXktY29udGVudC13cmFwcGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIGRheXZpZXctYWxsZGF5LWNvbnRlbnQtdGFibGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY2FsZW5kYXItY2VsbFxcXCIgbmctY2xhc3M9XFxcInsnY2FsZW5kYXItZXZlbnQtd3JhcCc6YWxsRGF5RXZlbnRzfVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICBuZy1zdHlsZT1cXFwie2hlaWdodDogMjUqYWxsRGF5RXZlbnRzLmxlbmd0aCsncHgnfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XFxcImRpc3BsYXlFdmVudCBpbiBhbGxEYXlFdmVudHNcXFwiIGNsYXNzPVxcXCJjYWxlbmRhci1ldmVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJldmVudFNlbGVjdGVkKHtldmVudDpkaXNwbGF5RXZlbnQuZXZlbnR9KVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXN0eWxlPVxcXCJ7dG9wOiAyNSokaW5kZXgrJ3B4Jyx3aWR0aDogJzEwMCUnLGhlaWdodDonMjVweCd9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FsZW5kYXItZXZlbnQtaW5uZXJcXFwiPnt7ZGlzcGxheUV2ZW50LmV2ZW50LnRpdGxlfX08L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8dGQgbmctaWY9XFxcImFsbERheUV2ZW50R3V0dGVyV2lkdGg+MFxcXCIgY2xhc3M9XFxcImd1dHRlci1jb2x1bW5cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgbmctc3R5bGU9XFxcInt3aWR0aDphbGxEYXlFdmVudEd1dHRlcldpZHRoKydweCd9XFxcIj48L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L3Rib2R5PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdGFibGU+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcInNjcm9sbGFibGVcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6IDQwMHB4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtZml4ZWRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dHIgbmctcmVwZWF0PVxcXCJ0bSBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY2FsZW5kYXItaG91ci1jb2x1bW4gdGV4dC1jZW50ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAge3t0bS50aW1lIHwgZGF0ZTogZm9ybWF0SG91ckNvbHVtbn19XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY2FsZW5kYXItY2VsbFxcXCIgbmctY2xpY2s9XFxcInNlbGVjdCh0bS50aW1lKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLWNsYXNzPVxcXCJ7J2NhbGVuZGFyLWV2ZW50LXdyYXAnOiB0bS5ldmVudHN9XFxcIiBuZy1pZj1cXFwidG0uZXZlbnRzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cXFwiZGlzcGxheUV2ZW50IGluIHRtLmV2ZW50c1xcXCIgY2xhc3M9XFxcImNhbGVuZGFyLWV2ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XFxcImV2ZW50U2VsZWN0ZWQoe2V2ZW50OmRpc3BsYXlFdmVudC5ldmVudH0pXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctc3R5bGU9XFxcIntsZWZ0OiAxMDAvZGlzcGxheUV2ZW50Lm92ZXJsYXBOdW1iZXIqZGlzcGxheUV2ZW50LnBvc2l0aW9uKyclJywgd2lkdGg6IDEwMC9kaXNwbGF5RXZlbnQub3ZlcmxhcE51bWJlcisnJScsIGhlaWdodDogMzcqKGRpc3BsYXlFdmVudC5lbmRJbmRleC1kaXNwbGF5RXZlbnQuc3RhcnRJbmRleCkrJ3B4J31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYWxlbmRhci1ldmVudC1pbm5lclxcXCI+e3tkaXNwbGF5RXZlbnQuZXZlbnQudGl0bGV9fTwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3Rib2R5PlxcblwiICtcbiAgICBcIiAgICAgICAgPC90YWJsZT5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JjYWxlbmRhci9tb250aC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcmNhbGVuZGFyL21vbnRoLmh0bWxcIixcbiAgICBcIjxkaXY+XFxuXCIgK1xuICAgIFwiICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtZml4ZWQgbW9udGh2aWV3LWRhdGV0YWJsZSBtb250aHZpZXctZGF0ZXRhYmxlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGggbmctc2hvdz1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItd2Vlay1jb2x1bW4gdGV4dC1jZW50ZXJcXFwiPiM8L3RoPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0aCBuZy1yZXBlYXQ9XFxcImxhYmVsIGluIGxhYmVscyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDxzbWFsbD57e2xhYmVsfX08L3NtYWxsPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICAgICAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgICAgICAgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dXZWVrc1xcXCIgY2xhc3M9XFxcImNhbGVuZGFyLXdlZWstY29sdW1uIHRleHQtY2VudGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHNtYWxsPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3NtYWxsPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJtb250aHZpZXctZGF0ZUNlbGxcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIG5nLWNsYXNzPVxcXCJ7J3RleHQtY2VudGVyJzp0cnVlLCAnbW9udGh2aWV3LWN1cnJlbnQnOiBkdC5jdXJyZW50JiYhZHQuc2VsZWN0ZWQmJiFkdC5oYXNFdmVudCwnbW9udGh2aWV3LXNlY29uZGFyeS13aXRoLWV2ZW50JzogZHQuc2Vjb25kYXJ5JiZkdC5oYXNFdmVudCwgJ21vbnRodmlldy1wcmltYXJ5LXdpdGgtZXZlbnQnOiFkdC5zZWNvbmRhcnkmJmR0Lmhhc0V2ZW50JiYhZHQuc2VsZWN0ZWQsICdtb250aHZpZXctc2VsZWN0ZWQnOiBkdC5zZWxlY3RlZH1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8ZGl2IG5nLWNsYXNzPVxcXCJ7J3RleHQtbXV0ZWQnOmR0LnNlY29uZGFyeX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAge3tkdC5sYWJlbH19XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICAgICAgPC90Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPC90YWJsZT5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBuZy1pZj1cXFwic2hvd0V2ZW50RGV0YWlsXFxcIiBjbGFzcz1cXFwiZXZlbnQtZGV0YWlsLWNvbnRhaW5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzY3JvbGxhYmxlXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAyMDBweFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1zdHJpcGVkIHRhYmxlLWZpeGVkXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiZXZlbnQgaW4gc2VsZWN0ZWREYXRlLmV2ZW50c1xcXCIgbmctaWY9XFxcInNlbGVjdGVkRGF0ZS5ldmVudHNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPHRkIG5nLWlmPVxcXCIhZXZlbnQuYWxsRGF5XFxcIiBjbGFzcz1cXFwibW9udGh2aWV3LWV2ZW50ZGV0YWlsLXRpbWVjb2x1bW5cXFwiPnt7ZXZlbnQuc3RhcnRUaW1lfGRhdGU6ICdISDptbSd9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIC1cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICB7e2V2ZW50LmVuZFRpbWV8ZGF0ZTogJ0hIOm1tJ319XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPHRkIG5nLWlmPVxcXCJldmVudC5hbGxEYXlcXFwiIGNsYXNzPVxcXCJtb250aHZpZXctZXZlbnRkZXRhaWwtdGltZWNvbHVtblxcXCI+QWxsIGRheTwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcImV2ZW50LWRldGFpbFxcXCIgbmctY2xpY2s9XFxcImV2ZW50U2VsZWN0ZWQoe2V2ZW50OmV2ZW50fSlcXFwiPnt7ZXZlbnQudGl0bGV9fTwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0ciBuZy1pZj1cXFwiIXNlbGVjdGVkRGF0ZS5ldmVudHNcXFwiPjx0ZCBjbGFzcz1cXFwibm8tZXZlbnQtbGFiZWxcXFwiPk5vIEV2ZW50czwvdGQ+PC90cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3RhYmxlPlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9yY2FsZW5kYXIvd2Vlay5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcmNhbGVuZGFyL3dlZWsuaHRtbFwiLFxuICAgIFwiPGRpdj5cXG5cIiArXG4gICAgXCIgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1maXhlZCB3ZWVrdmlldy1oZWFkZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICAgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY2FsZW5kYXItaG91ci1jb2x1bW5cXFwiPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRoIG5nLXJlcGVhdD1cXFwiZHQgaW4gZGF0ZXNcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciB3ZWVrdmlldy1oZWFkZXItbGFiZWxcXFwiPnt7ZHQuZGF0ZXwgZGF0ZTpcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgZm9ybWF0V2Vla1ZpZXdEYXlIZWFkZXJ9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRoIG5nLWlmPVxcXCJndXR0ZXJXaWR0aD4wXFxcIiBjbGFzcz1cXFwiZ3V0dGVyLWNvbHVtblxcXCIgbmctc3R5bGU9XFxcInt3aWR0aDogZ3V0dGVyV2lkdGgrJ3B4J31cXFwiPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICAgICAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgICAgPC90YWJsZT5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwid2Vla3ZpZXctYWxsZGF5LXRhYmxlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcIndlZWt2aWV3LWFsbGRheS1sYWJlbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgYWxsIGRheVxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3ZWVrdmlldy1hbGxkYXktY29udGVudC13cmFwcGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWZpeGVkIHdlZWt2aWV3LWFsbGRheS1jb250ZW50LXRhYmxlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkYXkgaW4gZGF0ZXMgdHJhY2sgYnkgZGF5LmRhdGVcXFwiIGNsYXNzPVxcXCJjYWxlbmRhci1jZWxsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLWNsYXNzPVxcXCJ7J2NhbGVuZGFyLWV2ZW50LXdyYXAnOiBkYXkuZXZlbnRzfVxcXCIgbmctaWY9XFxcImRheS5ldmVudHNcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1zdHlsZT1cXFwie2hlaWdodDogMjUqZGF5LmV2ZW50cy5sZW5ndGgrJ3B4J31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cXFwiZGlzcGxheUV2ZW50IGluIGRheS5ldmVudHNcXFwiIGNsYXNzPVxcXCJjYWxlbmRhci1ldmVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwiZXZlbnRTZWxlY3RlZCh7ZXZlbnQ6ZGlzcGxheUV2ZW50LmV2ZW50fSlcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctc3R5bGU9XFxcInt0b3A6IDI1KmRpc3BsYXlFdmVudC5wb3NpdGlvbisncHgnLCB3aWR0aDogMTAwKihkaXNwbGF5RXZlbnQuZW5kSW5kZXgtZGlzcGxheUV2ZW50LnN0YXJ0SW5kZXgpKyclJywgaGVpZ2h0OiAnMjVweCd9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyLWV2ZW50LWlubmVyXFxcIj57e2Rpc3BsYXlFdmVudC5ldmVudC50aXRsZX19PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDx0ZCBuZy1pZj1cXFwiYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aD4wXFxcIiBjbGFzcz1cXFwiZ3V0dGVyLWNvbHVtblxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICBuZy1zdHlsZT1cXFwie3dpZHRoOiBhbGxEYXlFdmVudEd1dHRlcldpZHRoKydweCd9XFxcIj48L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L3Rib2R5PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdGFibGU+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcInNjcm9sbGFibGVcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6IDQwMHB4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtZml4ZWRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcImNhbGVuZGFyLWhvdXItY29sdW1uIHRleHQtY2VudGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIHt7cm93WzBdLnRpbWUgfCBkYXRlOiBmb3JtYXRIb3VyQ29sdW1ufX1cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRkIG5nLXJlcGVhdD1cXFwidG0gaW4gcm93IHRyYWNrIGJ5IHRtLnRpbWVcXFwiIGNsYXNzPVxcXCJjYWxlbmRhci1jZWxsXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KHRtLnRpbWUpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctY2xhc3M9XFxcInsnY2FsZW5kYXItZXZlbnQtd3JhcCc6IHRtLmV2ZW50c31cXFwiIG5nLWlmPVxcXCJ0bS5ldmVudHNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctcmVwZWF0PVxcXCJkaXNwbGF5RXZlbnQgaW4gdG0uZXZlbnRzXFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItZXZlbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwiZXZlbnRTZWxlY3RlZCh7ZXZlbnQ6ZGlzcGxheUV2ZW50LmV2ZW50fSlcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1zdHlsZT1cXFwie2xlZnQ6IDEwMC9kaXNwbGF5RXZlbnQub3ZlcmxhcE51bWJlcipkaXNwbGF5RXZlbnQucG9zaXRpb24rJyUnLCB3aWR0aDogMTAwL2Rpc3BsYXlFdmVudC5vdmVybGFwTnVtYmVyKyclJywgaGVpZ2h0OiAzNyooZGlzcGxheUV2ZW50LmVuZEluZGV4LWRpc3BsYXlFdmVudC5zdGFydEluZGV4KSsncHgnfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyLWV2ZW50LWlubmVyXFxcIj57e2Rpc3BsYXlFdmVudC5ldmVudC50aXRsZX19PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRkIG5nLWlmPVxcXCJub3JtYWxHdXR0ZXJXaWR0aD4wXFxcIiBjbGFzcz1cXFwiZ3V0dGVyLWNvbHVtblxcXCIgbmctc3R5bGU9XFxcInt3aWR0aDogbm9ybWFsR3V0dGVyV2lkdGgrJ3B4J31cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3Rib2R5PlxcblwiICtcbiAgICBcIiAgICAgICAgPC90YWJsZT5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XCIpO1xufV0pOyIsInNwZWNpYWxpc3QuZmFjdG9yeSgnZGF0YVNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblx0dmFyIHNpZ25VcERvY09iaiA9IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldEZ1bGxEb2N0b3JMaXN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8wLjAuMC4wOjgwODEvZG9jdG9yL2xpc3QnKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcC5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrVXNlckV4aXN0YW5jZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgfSxcbiAgICAgICAgc2lnblVwRG9jdG9yOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCdodHRwOi8vMC4wLjAuMDo4MDgxL2RvY3Rvci9hZGQnLG9iaikudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgICAgICBzZXRTZXNzaW9uKHJlc3ApO1xuICAgICAgICAgICAgXHRyZXR1cm4gcmVzcDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvLyB2YXIgb2JqID0ge1xuICAgICAgICAgICAgLy8gICAgICdzZXNzaW9uSWQnOiAnMjM0NTg4NjMnLFxuICAgICAgICAgICAgLy8gICAgICdkb2NEYXRhJzogeyAnbmFtZSc6ICduaXRpbicsICdlbWFpbCc6ICdudG5naXJpQGdtYWlsLmNvbScsICdhZGRyZXNzJzogJ2tzamRudiBza3ZuaicsICdjaXR5JzogJ0d1cmdhb24nLCAnc3RhdGUnOiAnaGFyeWFuYScsICdtb2InOiAnNzA0MTI5OTI4NzMnLCAnY2xpbmljJzogJ2tzamJkJywgJ2ZlZSc6ICc2OTknLCAnaHZfZmVlJzogJzczNjUnIH1cbiAgICAgICAgICAgIC8vIH07XG4gICAgICAgICAgICAvLyBzaWduVXBEb2NPYmogPSBvYmo7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZGF0YVNlcnZpY2UnLHNpZ25VcERvY09iaik7XG4gICAgICAgICAgICAvL3JldHVybiBzaWduVXBEb2NPYmo7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNlc3Npb246ZnVuY3Rpb24odXNlcil7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS51c2VyID0gSlNPTi5zdHJpbmdpZnkoJHNjb3BlLnVzZXIpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTZXNzaW9uOmZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UudXNlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RG9jdG9yRGF0YTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2h0dHA6Ly8wLjAuMC4wOjgwODEvZG9jdG9yLycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICBcdHJldHVybiByZXNwLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbiIsInNwZWNpYWxpc3QuY29udHJvbGxlcignZG9jUHJvZmlsZUN0cmwnLCBbJyRzY29wZScsICdkYXRhU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgZGF0YVNlcnZpY2UpIHtcbiAgICB2YXIgZG9jdG9ySWQgPSA0O1xuICAgICRzY29wZS5lZGl0UHJvZmlsZTIgPSBmYWxzZTtcbiAgICAkc2NvcGUuZWRpdFByb2ZpbGUgPSB0cnVlO1xuICAgIC8vIGRhdGFTZXJ2aWNlLmdldERvY3RvckRhdGEoZG9jdG9ySWQpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgIC8vICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAvLyAgICAgJHNjb3BlLmRvY3RvckRhdGEgPSBkYXRhWzBdO1xuICAgIC8vIH0pO1xuICAgICRzY29wZS5kb2NKc29uO1xuICAgIGRhdGFTZXJ2aWNlLmdldERvY3RvckRhdGEoJzE0JykudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgJHNjb3BlLmRvY0pzb24gPSByZXNwWzBdO1xuICAgICAgICBjb25zb2xlLmxvZygnZG9jdG9yIGRhdGEnLCAkc2NvcGUuZG9jSnNvbik7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuc2hvd0VkaXRGb3JtID0gZnVuY3Rpb24odGFiSWQpe1xuICAgICAgICBpZiAodGFiSWQgPT0gJzEnKXtcbiAgICAgICAgICAgICRzY29wZS5lZGl0UHJvZmlsZTIgPSBmYWxzZTtcbiAgICAgICAgICAgICRzY29wZS5lZGl0UHJvZmlsZSA9IHRydWU7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIjFcIikuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiMlwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhYklkID09ICcyJykge1xuICAgICAgICAgICAgJHNjb3BlLmVkaXRQcm9maWxlMiA9IHRydWU7XG4gICAgICAgICAgICAkc2NvcGUuZWRpdFByb2ZpbGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiMlwiKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCIxXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCcyJykuY2xhc3NOYW1lICs9ICdhY3RpdmUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLm1vZGUgPSAnd2Vlayc7XG4gICAgJHNjb3BlLmV2ZW50U291cmNlID0gY3JlYXRlUmFuZG9tRXZlbnRzKCk7XG4gICAgJHNjb3BlLnNlbGVjdGVkID0gMDtcbiAgICAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gaW5kZXg7XG4gICAgfVxuICAgICRzY29wZS5uYXZQcm9maWxlTGlzdCA9IFt7ICdzcmVmJzogJ2Rhc2hib2FyZCcsICd0aXRsZSc6ICdEYXNoYm9hcmQnIH0sIHsgJ3NyZWYnOiAnZmFxJywgJ3RpdGxlJzogJ0ZBUScgfSwgeyAnc3JlZic6ICdwbGFucycsICd0aXRsZSc6ICdQcmljaW5nIFBsYW5zJyB9LCB7ICdzcmVmJzogJ3Byb2ZpbGUnLCAndGl0bGUnOiAnVXNlciBBY2NvdW50JyB9XTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmRvbUV2ZW50cygpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDUwOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcbiAgICAgICAgICAgIHZhciBzdGFydERheSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDkwKSAtIDQ1O1xuICAgICAgICAgICAgdmFyIGVuZERheSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpICsgc3RhcnREYXk7XG4gICAgICAgICAgICB2YXIgc3RhcnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZFRpbWU7XG4gICAgICAgICAgICBpZiAoZXZlbnRUeXBlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gbmV3IERhdGUoRGF0ZS5VVEMoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkYXRlLmdldFVUQ01vbnRoKCksIGRhdGUuZ2V0VVRDRGF0ZSgpICsgc3RhcnREYXkpKTtcbiAgICAgICAgICAgICAgICBpZiAoZW5kRGF5ID09PSBzdGFydERheSkge1xuICAgICAgICAgICAgICAgICAgICBlbmREYXkgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZW5kVGltZSA9IG5ldyBEYXRlKERhdGUuVVRDKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwgZGF0ZS5nZXRVVENNb250aCgpLCBkYXRlLmdldFVUQ0RhdGUoKSArIGVuZERheSkpO1xuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdBbGwgRGF5IC0gJyArIGksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lLFxuICAgICAgICAgICAgICAgICAgICBhbGxEYXk6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0TWludXRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjQgKiA2MCk7XG4gICAgICAgICAgICAgICAgdmFyIGVuZE1pbnV0ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE4MCkgKyBzdGFydE1pbnV0ZTtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkgKyBzdGFydERheSwgMCwgZGF0ZS5nZXRNaW51dGVzKCkgKyBzdGFydE1pbnV0ZSk7XG4gICAgICAgICAgICAgICAgZW5kVGltZSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSArIGVuZERheSwgMCwgZGF0ZS5nZXRNaW51dGVzKCkgKyBlbmRNaW51dGUpO1xuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGkgKyAnTXIgTml0aW4nLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZSxcbiAgICAgICAgICAgICAgICAgICAgYWxsRGF5OiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudHM7XG4gICAgfVxufV0pO1xuIiwic3BlY2lhbGlzdC5jb250cm9sbGVyKCdkb2NTaWdudXBDdHJsJywgWyckc2NvcGUnLCckc3RhdGUnLCdkYXRhU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsJHN0YXRlLGRhdGFTZXJ2aWNlKSB7XG5cdCRzY29wZS5zZWNvbmRGb3JtID0gZmFsc2U7XG5cdCRzY29wZS5maXJzdEZvcm0gPSB0cnVlO1xuXHQkc2NvcGUuZW1haWxfZXJyID0gZmFsc2U7XG5cdCRzY29wZS5wd2RfZXJyID0gZmFsc2U7XG5cdCRzY29wZS5lcnJfbXNnID0gZmFsc2U7XG5cdCRzY29wZS5tb2JpbGVSZWdFeCA9IFwiL15bMC05XXsxMCwxMH0kLztcIjtcblx0JHNjb3BlLnBpbkNvZGVSZWdFeCA9IFwiL15bMC05XXs2LDZ9JC87XCI7XG5cdHZhciBzaWduVXBEYXRhID0ge307XG5cdCRzY29wZS5jaGVja0VtYWlsUHdkVmFsaWRpdHkgPSBmdW5jdGlvbih2YWx1ZSl7XG5cdFx0aWYodmFsdWUgPT0gJ2VtYWlsJyl7XG5cdFx0XHRpZigkc2NvcGUuZW1haWwgIT09ICRzY29wZS5jb25mRW1haWwpe1xuXHRcdFx0XHQkc2NvcGUuZW1haWxfZXJyID0gdHJ1ZTtcblx0XHRcdFx0JHNjb3BlLmVtYWlsX2Vycl9tc2cgPSAnRW1haWwgZGlkIG5vdCBtYXRjaCc7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0JHNjb3BlLmVtYWlsX2VyciA9IGZhbHNlO1xuXHRcdFx0XHQkc2NvcGUuZW1haWxfZXJyX21zZyA9ICcnO1xuXHRcdFx0fVxuXHRcdH1lbHNlIGlmKHZhbHVlID09J3B3ZCcpe1xuXHRcdFx0aWYoJHNjb3BlLnBhc3MgIT09ICRzY29wZS5jb25mUGFzcyl7XG5cdFx0XHRcdCRzY29wZS5wYXNzX2VyciA9IHRydWU7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0JHNjb3BlLnBhc3NfZXJyID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVx0XHRcblx0fTtcblx0JHNjb3BlLmJyaW5nU2Vjb25kRm9ybSA9IGZ1bmN0aW9uKGlzVmFsaWQpe1xuXHRcdGlmKGlzVmFsaWQpe1xuXHRcdFx0JHNjb3BlLmVycl9tc2cgPSBmYWxzZTtcblx0XHRcdHNpZ25VcERhdGEubmFtZSA9ICRzY29wZS5mbmFtZSArXCIgXCIrICRzY29wZS5sbmFtZTtcblx0XHRcdGlmKCRzY29wZS5lbWFpbCA9PSAkc2NvcGUuY29uZkVtYWlsKXtcblx0XHRcdFx0c2lnblVwRGF0YS5lbWFpbCA9ICRzY29wZS5lbWFpbDtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkc2NvcGUuZW1haWxfZXJyID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGlmKCRzY29wZS5wYXNzID09ICRzY29wZS5jb25mUGFzcyl7XG5cdFx0XHRcdHNpZ25VcERhdGEucGFzc3dvcmQgPSAkc2NvcGUucGFzcztcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkc2NvcGUucGFzc19lcnIgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYoISRzY29wZS5wYXNzX2VyciAmJiAhJHNjb3BlLmVtYWlsX2Vycil7XG5cdFx0XHRcdCRzY29wZS5zZWNvbmRGb3JtID0gdHJ1ZTtcblx0XHRcdFx0JHNjb3BlLmZpcnN0Rm9ybSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZighaXNWYWxpZCl7XG5cdFx0XHQkc2NvcGUuZXJyX21zZyA9IHRydWU7XG5cdFx0fVxuXHR9O1xuXG5cdCRzY29wZS5zZW5kU2lnbnVwRG9jID0gZnVuY3Rpb24oaXNWYWxpZCl7XG5cdFx0aWYoaXNWYWxpZCl7XG5cdFx0XHQkc2NvcGUuZXJyX21zZyA9IGZhbHNlO1xuXHRcdFx0c2lnblVwRGF0YS5hZGRyZXNzID0gJHNjb3BlLmFkZHJlc3MxICsgJyAnICsgJHNjb3BlLmFkZHJlc3MyO1xuXHRcdFx0c2lnblVwRGF0YS5waW4gPSAkc2NvcGUucGluQ29kZTtcblx0XHRcdHNpZ25VcERhdGEuY2l0eSA9ICRzY29wZS5jaXR5O1xuXHRcdFx0c2lnblVwRGF0YS5zdGF0ZSA9ICRzY29wZS5zdGF0ZTtcblx0XHRcdHNpZ25VcERhdGEubW9iaWxlID0gJHNjb3BlLm1vYmlsZU5vO1xuXHRcdFx0c2lnblVwRGF0YS5jbGluaWNfbmFtZSA9ICRzY29wZS5jbGluaWNOYW1lO1xuXHRcdFx0c2lnblVwRGF0YS5mZWUgPSAkc2NvcGUuY2xpbmljRmVlO1xuXHRcdFx0c2lnblVwRGF0YS5odl9mZWUgPSAkc2NvcGUuaG9tZVZpc2l0O1xuXHRcdFx0ZGF0YVNlcnZpY2Uuc2lnblVwRG9jdG9yKHNpZ25VcERhdGEpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG5cdFx0XHRcdGlmKHJlc3Ape1xuXHRcdFx0XHRcdCRzdGF0ZS5nbygnZG9jdG9yUHJvZmlsZS5kYXNoYm9hcmQnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC8vdG8gYmUgcmVtb3ZlZFxuXHRcdFx0Ly8gZGF0YVNlcnZpY2Uuc2lnblVwRG9jdG9yKHNpZ25VcERhdGEpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG5cdFx0XHQvLyBcdCRzdGF0ZS5nbygnZG9jdG9yUHJvZmlsZS5kYXNoYm9hcmQnKTtcblx0XHRcdC8vIH0pO1xuXHRcdH0gZWxzZSBpZighaXNWYWxpZCl7XG5cdFx0XHQkc2NvcGUuZXJyX21zZyA9IHRydWU7XG5cdFx0fVxuXHR9O1xufV0pOyIsInNwZWNpYWxpc3QuY29udHJvbGxlcignZG9jdG9yUG9ydGFsQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHRcbn1dKSIsImFuZ3VsYXIubW9kdWxlKCdzcGVjaWFsaXN0LnRhZ2l0JywgW10pXG4gICAgLmRpcmVjdGl2ZSgndGFnSXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICB0YWdzOiBcIj1cIixcbiAgICAgICAgICAgICAgICByZW1vdmU6IFwiJlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2Pjx1bCBjbGFzcz1cInRhZ3NcIj48bGkgIGNsYXNzPVwidGFnaXRcIiBuZy1yZXBlYXQ9XCJ0YWcgaW4gdGFncyBcIj48c3BhbiBjbGFzcz1cInRhZ1RleHRcIj57ezo6dGFnLm5hbWV9fTwvc3Bhbj48YSAgbmctY2xpY2s9XCJyZW1vdmUoe2lkeDp0YWcuaWR9KVwiIGNsYXNzPVwiZENyb3NzXCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPng8L2E+PC9saT48L3VsPjwvZGl2PicsXG5cbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJGN0cmwpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkc2NvcGUsICRhdHRycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuYW5ndWxhci5tb2R1bGUoJ3NwZWNpYWxpc3QubGlzdGluZycsIFtdKVxuICAgICAuZGlyZWN0aXZlKCduZ1JlcGVhdERvbmVOb3RpZmljYXRpb24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG4gICAgICAgICAgICBpZiAoIXNjb3BlLiRwYXJlbnQubXVsdGlTZWxlY3QpIHtcblxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5zZWxlY3RlZElkICYmIHNjb3BlLnNlbGVjdGVkSWQubGVuZ3RoIT0wICYmIHNjb3BlLiRsYXN0ICYmICFzY29wZS4kcGFyZW50LmZpcnN0UmVhcGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQuZmlyc3RSZWFwZXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5jYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaXRlbSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogc2NvcGUuc2VsZWN0ZWRJZFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzY29wZS5kYXRhW3Njb3BlLmlkSGFzaC5pbmRleE9mKHNjb3BlLnNlbGVjdGVkSWRbMF0pXS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbGVjdGVkOiBzY29wZS5zZWxlY3RlZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhzY29wZS4kcGFyZW50LmlkSGFzaCk7XG4gICAgICAgIH07XG4gICAgfSkuZGlyZWN0aXZlKCdsaXN0aW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgICdkYXRhJzogJz0nLFxuICAgICAgICAgICAgICAgICd0dXBsZUNvdW50JzogJ0AnLFxuICAgICAgICAgICAgICAgICdzZWxlY3RlZElkJzogJz0nLFxuICAgICAgICAgICAgICAgICdtYXhIZWlnaHQnOiAnQCcsXG4gICAgICAgICAgICAgICAgJ2NhbGxiYWNrJzogJyZsaXN0aW5nQ2FsbGJhY2snLFxuICAgICAgICAgICAgICAgICdtdWx0aVNlbGVjdCc6ICdAJyxcbiAgICAgICAgICAgICAgICAnZmlsdGVyTmFtZSc6IFwiPVwiLFxuICAgICAgICAgICAgICAgICdhY3RpdmUnOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXG4gICAgICAgICAgICAvL3RlbXBsYXRlOiAnPHVsPjxsaSBuZy1yZXBlYXQ9XCJpdGVtIGluIGRhdGF8bGltaXRUbzp0dXBsZUNvdW50XCIgbmctcmVwZWF0LWRvbmUtbm90aWZpY2F0aW9uPXt7aXRlbS5pZH19IG5nLWNsaWNrPVwiY2hlY2tJdGVtKHRoaXMpXCI+PGlucHV0IG5nLWlmPVwibXVsdGlTZWxlY3RcIiB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1pdGVtLmNoZWNrZWQ+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO1wiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+PC9saT48L3VsPicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzx1bD48bGkgbmctcmVwZWF0PVwiaXRlbSBpbiBkYXRhXCIgbmctcmVwZWF0LWRvbmUtbm90aWZpY2F0aW9uPXt7aXRlbS5pZH19IG5nLWNsaWNrPVwiY2hlY2tJdGVtKHRoaXMpXCIgbmctY2xhc3M9XCJ7YWN0aXZlOml0ZW0uYWN0aXZlLCBub3RTZWxlY3RhYmxlOml0ZW0ubm90U2VsZWN0YWJsZX1cIj48aW5wdXQgbmctaWY9XCJtdWx0aVNlbGVjdCA9PSBcXCd0cnVlXFwnICYmICFpdGVtLm5vdFNlbGVjdGFibGVcIiB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1pdGVtLmNoZWNrZWQ+e3tzZWxlY3RlZE5hbWV9fTxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazsgd2lkdGg6YXV0bztcIiBuZy10cmFuc2NsdWRlPjwvZGl2PjwvbGk+PC91bD4nLFxuXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgaUVsZW1lbnQsIGlBdHRyLCBjb250cm9sbGVycykge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZpcnN0UmVhcGV0ID0gMDtcbiAgICAgICAgICAgICAgICBzY29wZS5zZWxPYmogPSB7fTtcbiAgICAgICAgICAgICAgICBzY29wZS5pZEhhc2ggPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhLmZvckVhY2goZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaWRIYXNoLnB1c2goeC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjb3BlLiRvbignc2VsZWN0JywgZnVuY3Rpb24oZXZlbnQsIHNvbWVEYXRhLCBmbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtVG9TZWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtVG9TZWwgPSBzY29wZS5kYXRhW3Njb3BlLmlkSGFzaC5pbmRleE9mKGZsYWcpXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1Ub1NlbCA9IHNjb3BlLmRhdGFbc2NvcGUuYWN0aXZlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNoZWNrSXRlbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaXRlbSc6IGVsZW1Ub1NlbFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzY29wZS4kb24oJ2RlU2VsZWN0JyxmdW5jdGlvbihldmVudCxpZCl7XG5cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihtYXRjaElkeCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuYWN0aXZlIDwgaUVsZW1lbnQuZmluZCgnbGknKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS5hY3RpdmUgPT09IG1hdGNoSWR4O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICByZXR1cm4gc2NvcGUuYWN0aXZlID09PSBtYXRjaElkeDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBzY29wZS5jaGVja0l0ZW0gPSBmdW5jdGlvbihfdGhpcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmF0dHIgPSBpQXR0cjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXRlbS5ub3RTZWxlY3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lFbGVtZW50LmFkZENsYXNzKCdub3RTZWxlY3RhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5jaGVja1NlbGVjdGlvbihfdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2l0ZW0nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzLml0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogX3RoaXMuaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbGVjdGVkOiBzY29wZS5zZWxlY3RlZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzLml0ZW0uY2hlY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgICAgICBzY29wZS5jaGVja1NlbGVjdGlvbiA9IGZ1bmN0aW9uKHQpIHsgLy8gYXJyYXkgYW5kIHNlbGVjdGVkSWQgd2lsbCBiZSB0aGUgc2FtZSBhZnRlciB0aGlzLCBcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gdC5pdGVtLmlkO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZElkID0gc2NvcGUuc2VsZWN0ZWRJZCB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLmF0dHIubXVsdGlTZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHNjb3BlLnNlbGVjdGVkSWQuaW5kZXhPZihpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZElkLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbE9ialtpZF0gPSB0Lml0ZW0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lml0ZW0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkSWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NvcGUuc2VsT2JqW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lml0ZW0uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZElkID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZElkLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy90Lml0ZW0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnc3BlY2lhbGlzdC5kcm9vcGUnLCBbJ3NwZWNpYWxpc3QubGlzdGluZycsICdzcGVjaWFsaXN0LnRhZ2l0J10pXG5cbi5kaXJlY3RpdmUoJ2Ryb29wZScsIFtcIiRkb2N1bWVudFwiLCBmdW5jdGlvbigkZG9jdW1lbnQpIHtcbiAgICAvLyBSdW5zIGR1cmluZyBjb21waWxlXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIG9wdGlvbjogXCI9XCIsXG4gICAgICAgICAgICBjYWxsYmFjazogXCImZHJvb3BlQ2FsbGJhY2tcIixcbiAgICAgICAgICAgIGRhdGE6IFwiPVwiLFxuICAgICAgICAgICAgc2VsZWN0ZWRJZDogXCI9XCIsXG4gICAgICAgICAgICBhcGk6IFwiPVwiXG4gICAgICAgIH0sXG4gICAgICAgIC8vIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJHRyYW5zY2x1ZGUpIHt9LFxuICAgICAgICByZXN0cmljdDogJ0UnLCAvLyBFID0gRWxlbWVudCwgQSA9IEF0dHJpYnV0ZSwgQyA9IENsYXNzLCBNID0gQ29tbWVudFxuICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJkZHduXCI+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIkREd3JhcFwiPicgK1xuICAgICAgICAgICAgJzx1bCBjbGFzcz1cIkREc2VhcmNoXCI+JyArXG4gICAgICAgICAgICAnPGxpIGNsYXNzPVwiZnJzdFwiIHN0eWxlPVwiZmxvYXQ6IG5vbmU7XCI+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIkREaW5wdXRXcmFwXCI+JyArXG4gICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJkZEljb24gc3JjaFR4dFwiIG5nLWNsaWNrPVwic2hvd0Ryb3AoKVwiPjwvc3Bhbj4nICtcbiAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1jbGljaz1cInNob3dEcm9wKClcIiBpZD1cIlwiIGNsYXNzPVwic3JjaFR4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIHN0eWxlPVwiY29sb3I6IHJnYig2OCwgNjgsIDY4KTtcIiBuZy1tb2RlbD1cInNlbGVjdGVkTmFtZVwiPicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzwvbGk+JyArXG4gICAgICAgICAgICAnPC91bD4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZGRfZHduXCIgbmctc2hvdz1cInNob3dcIj4nICtcbiAgICAgICAgICAgICc8bGlzdGluZyB0dXBsZWNvdW50PVwiMTBcIiBtdWx0aS1zZWxlY3Q9XCJ7e29wdGlvbi5tdWx0aXNlbGVjdH19XCIgYWN0aXZlPVwiYWN0aXZlSW5kZXhcIiBzZWxlY3RlZC1pZCA9XCJzZWxlY3RlZElkXCIgbGlzdGluZy1jYWxsYmFjaz1cImxpc3RpbmdDYWxsYmFjayhpdGVtKVwiIGRhdGE9XCJkYXRhXCIgZmlsdGVyLW5hbWU9XCJzZWxlY3RlZE5hbWVcIj4nICtcbiAgICAgICAgICAgICc8ZGl2PjxzcGFuPnt7JHBhcmVudC5pdGVtLm5hbWV9fTwvc3Bhbj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2xpc3Rpbmc+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICAgICAgdmFyIF9fb3B0aW9uc19fID0ge1xuICAgICAgICAgICAgICAgIGZpZWxkQXR0cjoge1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0VudGVyIHlvdXIgVmFsdWVzJ1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5raW5nKHNjb3BlLCBpRWxtLCBpQXR0cnMsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5hY3RpdmVJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpRWxtKTtcbiAgICAgICAgICAgICAgICAvL2JpbmQga2V5Ym9hcmQgZXZlbnRzOiBhcnJvd3MgdXAoMzgpIC8gZG93big0MCksIGVudGVyKDEzKSBhbmQgdGFiKDkpLCBlc2MoMjcpXG4gICAgICAgICAgICAgICAgaUVsbS5maW5kKCdpbnB1dCcpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZ0LndoaWNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnNlbGVjdGVkTmFtZSA9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYmx1ck91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnc2VsZWN0JywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhW3Njb3BlLmFjdGl2ZUluZGV4XS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hY3RpdmVJbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGFbc2NvcGUuYWN0aXZlSW5kZXhdLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhW3Njb3BlLmFjdGl2ZUluZGV4XS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hY3RpdmVJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGFbc2NvcGUuYWN0aXZlSW5kZXhdLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucyA9IGFuZ3VsYXIubWVyZ2UoX19vcHRpb25zX18sIHNjb3BlLm9wdGlvbik7XG4gICAgICAgICAgICAgICAgc2NvcGUudGFncyA9IFtdO1xuICAgICAgICAgICAgICAgIGlFbG0uZmluZCgnaW5wdXQnKS5hdHRyKHNjb3BlLm9wdGlvbnMuZmllbGRBdHRyKVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFtmdW5jdGlvbiBjYWxsZWQgb24gbGlzdCBjbGljay0gYWZ0ZXIgbGlzdGluZyBjYWxsYmFja11cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gIHtbdHlwZV19IHJldE9iaiBbb2JqZWN0IGZyb20gbGlzdGluZyBjYWxsYmFja11cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW3RhZ3Mgb2JqZWN0IHVwZGF0ZWRdXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2NvcGUuYXBpID0ge1xuICAgICAgICAgICAgICAgICAgICByZXNldERyb29wZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Njb3BlLmFjdGl2ZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWROYW1lID0gXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkSWQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0SXRlbTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCggaWQgKSA9PT0gJ1tvYmplY3QgQXJyYXldJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ3NlbGVjdCcsdGhpcyxpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ3NlbGVjdCcsIHRoaXMsIGlkKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2NvcGUubGlzdGluZ0NhbGxiYWNrID0gZnVuY3Rpb24ocmV0T2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdUYWcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcmV0T2JqLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcmV0T2JqLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUudGFnVXBkYXRlKG5ld1RhZywgcmV0T2JqLmNoZWNrZWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLnRhZ1VwZGF0ZSA9IGZ1bmN0aW9uKHRhZ09iaiwgY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUub3B0aW9uLm11bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRhZ3MucHVzaCh0YWdPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBzY29wZS50YWdzLmluZGV4T2YodGFnT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS50YWdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZE5hbWUgPSB0YWdPYmoubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVwiOiB0YWdPYmpcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBbY2FsbGVkIG9uIGlucHV0IGZvY3VzIC0gd2lsbCBzaG93IHRoZSBsaXN0XVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNjb3BlLnNob3dEcm9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChzY29wZS5vcHRpb24ubXVsdGlzZWxlY3QpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubGFzdFNlbGVjdGVkID0gc2NvcGUuc2VsZWN0ZWROYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWROYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBwYXJFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVyYUREJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBzY3JvbGxDb250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RkX2R3bicpO1xuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgZnN0RWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RkX2R3bicpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIilbMF07XG4gICAgICAgICAgICAgICAgICAgIC8vIHNjb3BlLnNjcm9sbEhhbmRsZXIocGFyRWxtLCBzY3JvbGxDb250LCBmc3RFbG0sIGZzdEVsbSk7XG4gICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFtyZW1vdmluZyBhbGwgdGFnc11cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzY29wZS5yZW1vdmVBbGxUYWdzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLm9wdGlvbi5tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNjb3BlLnNlbGVjdGVkSWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBzY29wZS5kYXRhLmluZGV4T2Yoc2NvcGUuc2VsZWN0ZWRJZFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZGF0YVtpbmRleF0uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWROYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5ibHVyT3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBibHVyT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzY29wZS5zZWxlY3RlZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiAnbm8nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgc2NvcGUuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUubGlzdGluZ0NhbGxiYWNrKGJsdXJPYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBbaGlkZSBsaXN0IGRyb3Agb24gZG9jdW1lbnQgY2xpY2tdXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVsZW1lbnQoZXZlbnQudGFyZ2V0KS5oYXNDbGFzcygnc3JjaFR4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihzY29wZS5zZWxlY3RlZE5hbWUgPT0gXCJcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWROYW1lID0gc2NvcGUubGFzdFNlbGVjdGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIC8vICBzY29wZS5ibHVyT3V0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufV0pOyIsInNwZWNpYWxpc3QuY29udHJvbGxlcignbWFpbkNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcblx0dmFyIGpzb24gPSBbeyduYW1lJzonRGVsaGknfSx7J25hbWUnOidOb2lkYSd9LHsnbmFtZSc6J0d1cmdhb24nfV1cblx0JHNjb3BlLm9wdGlvbnMgPSB7fTtcblx0JHNjb3BlLm9wdGlvbnMgPSB7XG5cdFx0ZGF0YTpqc29uLFxuXHRcdG11bHRpc2VsZWN0OnRydWUsXG5cdFx0bWF4SGVpZ2h0OiAyNTBcblx0fTtcblx0XHQkc2NvcGUuZGF0YSA9IFt7J25hbWUnOidEZWxoaSd9LHsnbmFtZSc6J05vaWRhJ30seyduYW1lJzonR3VyZ2Fvbid9XVxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJZCA9IFtdO1xuICAgICAgICAkc2NvcGUub25DbGlja0Z1bmMgPSBmdW5jdGlvbihvYmoxKSB7XG4gICAgICAgICAgICAvLyRzY29wZS5jYk9iaiA9IG9iajtcbiAgICAgICAgICBjb25zb2xlLmxvZyhvYmoxKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuYXBpID0ge307XG59XSkiLCJzcGVjaWFsaXN0LmNvbnRyb2xsZXIoJ1NlYXJjaEN0cmwnLCBbJyRzY29wZScsJyRzdGF0ZScsJ2RhdGFTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwkc3RhdGUsZGF0YVNlcnZpY2UpIHtcblx0JHNjb3BlLmRvY3RvcklkO1xuXHRkYXRhU2VydmljZS5nZXRGdWxsRG9jdG9yTGlzdCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG5cdFx0Y29uc29sZS5sb2coZGF0YSk7XG5cdFx0JHNjb3BlLmRvY3Rvckxpc3QgPSBkYXRhO1xuXHRcdCRzY29wZS5kb2N0b3JJZCA9IGRhdGEuaWQ7XG5cdH0pO1xuXHQkc2NvcGUuZG9jdG9yQm9vayA9IGZ1bmN0aW9uKGlkKXtcblx0XHQkc3RhdGUuZ28oJ2RvY3RvcicpO1xuXHR9XG59XSkiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
