var specialist = angular.module('specialist', ['ui.router']).config(['$stateProvider', '$locationProvider', '$urlRouterProvider', function ($stateProvider, $locationProvider, $urlRouterProvider) {
	$urlRouterProvider.otherwise('/');
	$stateProvider.state('home', {
		url: '/',
		templateUrl: './specialist/build/html/main.html',
		controller: 'mainController'
	}).state('search', {
		url: '/search',
		templateUrl: './specialist/build/html/search.html',
		controller: 'SearchCtrl'
	}).state('doctorPortal', {
		url: '/doctorPortal',
		templateUrl: './specialist/build/html/doctorPortal.html',
		controller: 'doctorPortalCtrl'
	}).state('ques', {
		url: '/ques',
		templateUrl: './specialist/build/html/quesans.html'
	}).state('docSignup', {
		url: '/docSignup',
		templateUrl: './specialist/build/html/docSignup.html',
		controller: 'docSignupCtrl'
	}).state('doctorProfile', {
		url: '/doctorProfile',
		templateUrl: './specialist/build/html/docProfile.html',
		controller: 'docProfileCtrl',
		abstract: true
	}).state('doctorProfile.dashboard', {
		url: '',
		templateUrl: './specialist/build/html/docprofileDashboard.html'
	}).state('doctorProfile.faq', {
		url: '/faq',
		templateUrl: './specialist/build/html/docFaq.html'
	}).state('doctorProfile.plans', {
		url: '/plans',
		templateUrl: './specialist/build/html/docPlans.html'
	}).state('doctorProfile.profile', {
		url: '/profile',
		templateUrl: './specialist/build/html/docUserProfile.html',
		controller: 'docProfileCtrl'
	}).state('doctor', {
		url: '/doctor',
		templateUrl: './specialist/build/html/docBooking.html'
	});
	$locationProvider.html5Mode(true);
}]);
//angular.module("ui.rCalendar.tpls", ["../template/rcalendar/calender.html","../template/rcalendar/day.html","../template/rcalendar/month.html","../template/rcalendar/week.html"]);
//angular.module('ui.rCalendar', [])
specialist.constant('calendarConfig', {
    formatDay: 'dd',
    formatDayHeader: 'EEE',
    formatDayTitle: 'MMMM dd, yyyy',
    formatWeekTitle: 'MMMM yyyy, Week w',
    formatMonthTitle: 'MMMM yyyy',
    formatWeekViewDayHeader: 'EEE d',
    formatHourColumn: 'ha',
    calendarMode: 'month',
    showWeeks: false,
    showEventDetail: true,
    startingDay: 0,
    eventSource: null,
    queryMode: 'local'
}).controller('ui.rCalendar.CalendarController', ['$scope', '$attrs', '$parse', '$interpolate', '$log', 'dateFilter', 'calendarConfig', function ($scope, $attrs, $parse, $interpolate, $log, dateFilter, calendarConfig) {
    'use strict';

    var self = this,
        ngModelCtrl = { $setViewValue: angular.noop }; // nullModelCtrl;

    // Configuration attributes
    angular.forEach(['formatDay', 'formatDayHeader', 'formatDayTitle', 'formatWeekTitle', 'formatMonthTitle', 'formatWeekViewDayHeader', 'formatHourColumn', 'showWeeks', 'showEventDetail', 'startingDay', 'eventSource', 'queryMode'], function (key, index) {
        self[key] = angular.isDefined($attrs[key]) ? index < 7 ? $interpolate($attrs[key])($scope.$parent) : $scope.$parent.$eval($attrs[key]) : calendarConfig[key];
    });

    $scope.$parent.$watch($attrs.eventSource, function (value) {
        self.onEventSourceChanged(value);
    });

    $scope.calendarMode = $scope.calendarMode || calendarConfig.calendarMode;
    if (angular.isDefined($attrs.initDate)) {
        self.currentCalendarDate = $scope.$parent.$eval($attrs.initDate);
    }
    if (!self.currentCalendarDate) {
        self.currentCalendarDate = new Date();
        if ($attrs.ngModel && !$scope.$parent.$eval($attrs.ngModel)) {
            $parse($attrs.ngModel).assign($scope.$parent, self.currentCalendarDate);
        }
    }

    self.init = function (ngModelCtrl_) {
        ngModelCtrl = ngModelCtrl_;

        ngModelCtrl.$render = function () {
            self.render();
        };
    };

    self.render = function () {
        if (ngModelCtrl.$modelValue) {
            var date = new Date(ngModelCtrl.$modelValue),
                isValid = !isNaN(date);

            if (isValid) {
                this.currentCalendarDate = date;
            } else {
                $log.error('"ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
            }
            ngModelCtrl.$setValidity('date', isValid);
        }
        this.refreshView();
    };

    self.refreshView = function () {
        if (this.mode) {
            this.range = this._getRange(this.currentCalendarDate);
            this._refreshView();
            this.rangeChanged();
        }
    };

    // Split array into smaller arrays
    self.split = function (arr, size) {
        var arrays = [];
        while (arr.length > 0) {
            arrays.push(arr.splice(0, size));
        }
        return arrays;
    };

    self.onEventSourceChanged = function (value) {
        self.eventSource = value;
        if (self._onDataLoaded) {
            self._onDataLoaded();
        }
    };

    $scope.move = function (direction) {
        var step = self.mode.step,
            currentCalendarDate = self.currentCalendarDate,
            year = currentCalendarDate.getFullYear() + direction * (step.years || 0),
            month = currentCalendarDate.getMonth() + direction * (step.months || 0),
            date = currentCalendarDate.getDate() + direction * (step.days || 0),
            firstDayInNextMonth;

        currentCalendarDate.setFullYear(year, month, date);
        if ($scope.calendarMode === 'month') {
            firstDayInNextMonth = new Date(year, month + 1, 1);
            if (firstDayInNextMonth.getTime() <= currentCalendarDate.getTime()) {
                self.currentCalendarDate = new Date(firstDayInNextMonth - 24 * 60 * 60 * 1000);
            }
        }
        ngModelCtrl.$setViewValue(self.currentCalendarDate);
        self.refreshView();
    };

    self.move = function (direction) {
        $scope.move(direction);
    };

    self.rangeChanged = function () {
        if (self.queryMode === 'local') {
            if (self.eventSource && self._onDataLoaded) {
                self._onDataLoaded();
            }
        } else if (self.queryMode === 'remote') {
            if ($scope.rangeChanged) {
                $scope.rangeChanged({
                    startTime: this.range.startTime,
                    endTime: this.range.endTime
                });
            }
        }
    };

    function overlap(event1, event2) {
        return !(event1.endIndex <= event2.startIndex || event2.endIndex <= event1.startIndex);
    }

    function calculatePosition(events) {
        var i,
            j,
            len = events.length,
            maxColumn = 0,
            col,
            isForbidden = new Array(len);

        for (i = 0; i < len; i += 1) {
            for (col = 0; col < maxColumn; col += 1) {
                isForbidden[col] = false;
            }
            for (j = 0; j < i; j += 1) {
                if (overlap(events[i], events[j])) {
                    isForbidden[events[j].position] = true;
                }
            }
            for (col = 0; col < maxColumn; col += 1) {
                if (!isForbidden[col]) {
                    break;
                }
            }
            if (col < maxColumn) {
                events[i].position = col;
            } else {
                events[i].position = maxColumn++;
            }
        }
    }

    function calculateWidth(orderedEvents) {
        var cells = new Array(24),
            event,
            index,
            i,
            j,
            len,
            eventCountInCell,
            currentEventInCell;

        //sort by position in descending order, the right most columns should be calculated first
        orderedEvents.sort(function (eventA, eventB) {
            return eventB.position - eventA.position;
        });
        for (i = 0; i < 24; i += 1) {
            cells[i] = {
                calculated: false,
                events: []
            };
        }
        len = orderedEvents.length;
        for (i = 0; i < len; i += 1) {
            event = orderedEvents[i];
            index = event.startIndex;
            while (index < event.endIndex) {
                cells[index].events.push(event);
                index += 1;
            }
        }

        i = 0;
        while (i < len) {
            event = orderedEvents[i];
            if (!event.overlapNumber) {
                var overlapNumber = event.position + 1;
                event.overlapNumber = overlapNumber;
                var eventQueue = [event];
                while (event = eventQueue.shift()) {
                    index = event.startIndex;
                    while (index < event.endIndex) {
                        if (!cells[index].calculated) {
                            cells[index].calculated = true;
                            if (cells[index].events) {
                                eventCountInCell = cells[index].events.length;
                                for (j = 0; j < eventCountInCell; j += 1) {
                                    currentEventInCell = cells[index].events[j];
                                    if (!currentEventInCell.overlapNumber) {
                                        currentEventInCell.overlapNumber = overlapNumber;
                                        eventQueue.push(currentEventInCell);
                                    }
                                }
                            }
                        }
                        index += 1;
                    }
                }
            }
            i += 1;
        }
    }

    self.placeEvents = function (orderedEvents) {
        calculatePosition(orderedEvents);
        calculateWidth(orderedEvents);
    };

    self.placeAllDayEvents = function (orderedEvents) {
        calculatePosition(orderedEvents);
    };
}]).directive('calendar', function () {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './build/html/calender.html',
        scope: {
            calendarMode: '=',
            rangeChanged: '&',
            eventSelected: '&',
            timeSelected: '&'
        },
        require: ['calendar', '?^ngModel'],
        controller: 'ui.rCalendar.CalendarController',
        link: function (scope, element, attrs, ctrls) {
            var calendarCtrl = ctrls[0],
                ngModelCtrl = ctrls[1];

            if (ngModelCtrl) {
                calendarCtrl.init(ngModelCtrl);
            }

            scope.$on('changeDate', function (event, direction) {
                calendarCtrl.move(direction);
            });

            scope.$on('eventSourceChanged', function (event, value) {
                calendarCtrl.onEventSourceChanged(value);
            });
        }
    };
}).directive('monthview', ['dateFilter', function (dateFilter) {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './build/html/month.html',
        require: ['^calendar', '?^ngModel'],
        link: function (scope, element, attrs, ctrls) {
            var ctrl = ctrls[0],
                ngModelCtrl = ctrls[1];
            scope.showWeeks = ctrl.showWeeks;
            scope.showEventDetail = ctrl.showEventDetail;

            ctrl.mode = {
                step: { months: 1 }
            };

            function getDates(startDate, n) {
                var dates = new Array(n),
                    current = new Date(startDate),
                    i = 0;
                current.setHours(12); // Prevent repeated dates because of timezone bug
                while (i < n) {
                    dates[i++] = new Date(current);
                    current.setDate(current.getDate() + 1);
                }
                return dates;
            }

            scope.select = function (selectedDate) {
                var rows = scope.rows;
                if (rows) {
                    var currentCalendarDate = ctrl.currentCalendarDate;
                    var currentMonth = currentCalendarDate.getMonth();
                    var currentYear = currentCalendarDate.getFullYear();
                    var selectedMonth = selectedDate.getMonth();
                    var selectedYear = selectedDate.getFullYear();
                    var direction = 0;
                    if (currentYear === selectedYear) {
                        if (currentMonth !== selectedMonth) {
                            direction = currentMonth < selectedMonth ? 1 : -1;
                        }
                    } else {
                        direction = currentYear < selectedYear ? 1 : -1;
                    }

                    ctrl.currentCalendarDate = selectedDate;
                    if (ngModelCtrl) {
                        ngModelCtrl.$setViewValue(selectedDate);
                    }
                    if (direction === 0) {
                        for (var row = 0; row < 6; row += 1) {
                            for (var date = 0; date < 7; date += 1) {
                                var selected = ctrl.compare(selectedDate, rows[row][date].date) === 0;
                                rows[row][date].selected = selected;
                                if (selected) {
                                    scope.selectedDate = rows[row][date];
                                }
                            }
                        }
                    } else {
                        ctrl.refreshView();
                    }

                    if (scope.timeSelected) {
                        scope.timeSelected({ selectedTime: selectedDate });
                    }
                }
            };

            ctrl._refreshView = function () {
                var startDate = ctrl.range.startTime,
                    date = startDate.getDate(),
                    month = (startDate.getMonth() + (date !== 1 ? 1 : 0)) % 12,
                    year = startDate.getFullYear() + (date !== 1 && month === 0 ? 1 : 0);

                var days = getDates(startDate, 42);
                for (var i = 0; i < 42; i++) {
                    days[i] = angular.extend(createDateObject(days[i], ctrl.formatDay), {
                        secondary: days[i].getMonth() !== month
                    });
                }

                scope.labels = new Array(7);
                for (var j = 0; j < 7; j++) {
                    scope.labels[j] = dateFilter(days[j].date, ctrl.formatDayHeader);
                }

                var headerDate = new Date(year, month, 1);
                scope.$parent.title = dateFilter(headerDate, ctrl.formatMonthTitle);
                scope.rows = ctrl.split(days, 7);

                if (scope.showWeeks) {
                    scope.weekNumbers = [];
                    var thursdayIndex = (4 + 7 - ctrl.startingDay) % 7,
                        numWeeks = scope.rows.length;
                    for (var curWeek = 0; curWeek < numWeeks; curWeek++) {
                        scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));
                    }
                }
            };

            function createDateObject(date, format) {
                return {
                    date: date,
                    label: dateFilter(date, format),
                    selected: ctrl.compare(date, ctrl.currentCalendarDate) === 0,
                    current: ctrl.compare(date, new Date()) === 0
                };
            }

            function compareEvent(event1, event2) {
                if (event1.allDay) {
                    return 1;
                } else if (event2.allDay) {
                    return -1;
                } else {
                    return event1.startTime.getTime() - event2.startTime.getTime();
                }
            }

            ctrl._onDataLoaded = function () {
                var eventSource = ctrl.eventSource,
                    len = eventSource ? eventSource.length : 0,
                    startTime = ctrl.range.startTime,
                    endTime = ctrl.range.endTime,
                    utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),
                    utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),
                    rows = scope.rows,
                    oneDay = 86400000,
                    eps = 0.001,
                    row,
                    date,
                    hasEvent = false;

                if (rows.hasEvent) {
                    for (row = 0; row < 6; row += 1) {
                        for (date = 0; date < 7; date += 1) {
                            if (rows[row][date].hasEvent) {
                                rows[row][date].events = null;
                                rows[row][date].hasEvent = false;
                            }
                        }
                    }
                }

                for (var i = 0; i < len; i += 1) {
                    var event = eventSource[i];
                    var eventStartTime = new Date(event.startTime);
                    var eventEndTime = new Date(event.endTime);
                    var st;
                    var et;

                    if (event.allDay) {
                        if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {
                            continue;
                        } else {
                            st = utcStartTime;
                            et = utcEndTime;
                        }
                    } else {
                        if (eventEndTime <= startTime || eventStartTime >= endTime) {
                            continue;
                        } else {
                            st = startTime;
                            et = endTime;
                        }
                    }

                    var timeDiff;
                    var timeDifferenceStart;
                    if (eventStartTime <= st) {
                        timeDifferenceStart = 0;
                    } else {
                        timeDiff = eventStartTime - st;
                        if (!event.allDay) {
                            timeDiff = timeDiff - (eventStartTime.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;
                        }
                        timeDifferenceStart = timeDiff / oneDay;
                    }

                    var timeDifferenceEnd;
                    if (eventEndTime >= et) {
                        timeDiff = et - st;
                        if (!event.allDay) {
                            timeDiff = timeDiff - (et.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;
                        }
                        timeDifferenceEnd = timeDiff / oneDay;
                    } else {
                        timeDiff = eventEndTime - st;
                        if (!event.allDay) {
                            timeDiff = timeDiff - (eventEndTime.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;
                        }
                        timeDifferenceEnd = timeDiff / oneDay;
                    }

                    var index = Math.floor(timeDifferenceStart);
                    var eventSet;
                    while (index < timeDifferenceEnd - eps) {
                        var rowIndex = Math.floor(index / 7);
                        var dayIndex = Math.floor(index % 7);
                        rows[rowIndex][dayIndex].hasEvent = true;
                        eventSet = rows[rowIndex][dayIndex].events;
                        if (eventSet) {
                            eventSet.push(event);
                        } else {
                            eventSet = [];
                            eventSet.push(event);
                            rows[rowIndex][dayIndex].events = eventSet;
                        }
                        index += 1;
                    }
                }

                for (row = 0; row < 6; row += 1) {
                    for (date = 0; date < 7; date += 1) {
                        if (rows[row][date].hasEvent) {
                            hasEvent = true;
                            rows[row][date].events.sort(compareEvent);
                        }
                    }
                }
                rows.hasEvent = hasEvent;

                var findSelected = false;
                for (row = 0; row < 6; row += 1) {
                    for (date = 0; date < 7; date += 1) {
                        if (rows[row][date].selected) {
                            scope.selectedDate = rows[row][date];
                            findSelected = true;
                            break;
                        }
                    }
                    if (findSelected) {
                        break;
                    }
                }
            };

            ctrl.compare = function (date1, date2) {
                return new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());
            };

            ctrl._getRange = function getRange(currentDate) {
                var year = currentDate.getFullYear(),
                    month = currentDate.getMonth(),
                    firstDayOfMonth = new Date(year, month, 1),
                    difference = ctrl.startingDay - firstDayOfMonth.getDay(),
                    numDisplayedFromPreviousMonth = difference > 0 ? 7 - difference : -difference,
                    startDate = new Date(firstDayOfMonth),
                    endDate;

                if (numDisplayedFromPreviousMonth > 0) {
                    startDate.setDate(-numDisplayedFromPreviousMonth + 1);
                }

                endDate = new Date(startDate);
                endDate.setDate(endDate.getDate() + 42);

                return {
                    startTime: startDate,
                    endTime: endDate
                };
            };

            function getISO8601WeekNumber(date) {
                var checkDate = new Date(date);
                checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday
                var time = checkDate.getTime();
                checkDate.setMonth(0); // Compare with Jan 1
                checkDate.setDate(1);
                return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
            }

            ctrl.refreshView();
        }
    };
}]).directive('weekview', ['dateFilter', '$timeout', function (dateFilter, $timeout) {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './build/html/week.html',
        require: '^calendar',
        link: function (scope, element, attrs, ctrl) {
            scope.formatWeekViewDayHeader = ctrl.formatWeekViewDayHeader;
            scope.formatHourColumn = ctrl.formatHourColumn;

            $timeout(function () {
                updateScrollGutter();
            });

            ctrl.mode = {
                step: { days: 7 }
            };

            function updateScrollGutter() {
                var children = element.children();
                var allDayEventBody = children[1].children[1];
                var allDayEventGutterWidth = allDayEventBody.offsetWidth - allDayEventBody.clientWidth;
                var normalEventBody = children[2];
                var normalEventGutterWidth = normalEventBody.offsetWidth - normalEventBody.clientWidth;
                var gutterWidth = allDayEventGutterWidth || normalEventGutterWidth || 0;
                if (gutterWidth > 0) {
                    scope.gutterWidth = gutterWidth;
                    if (allDayEventGutterWidth <= 0) {
                        scope.allDayEventGutterWidth = gutterWidth;
                    } else {
                        scope.allDayEventGutterWidth = 0;
                    }
                    if (normalEventGutterWidth <= 0) {
                        scope.normalGutterWidth = gutterWidth;
                    } else {
                        scope.normalGutterWidth = 0;
                    }
                }
            }

            function getDates(startTime, n) {
                var dates = new Array(n),
                    current = new Date(startTime),
                    i = 0;
                current.setHours(12); // Prevent repeated dates because of timezone bug
                while (i < n) {
                    dates[i++] = {
                        date: new Date(current)
                    };
                    current.setDate(current.getDate() + 1);
                }
                return dates;
            }

            function createDateObjects(startTime) {
                var times = [],
                    row,
                    time,
                    currentHour = startTime.getHours(),
                    currentDate = startTime.getDate();

                for (var hour = 0; hour < 24; hour += 1) {
                    row = [];
                    for (var day = 0; day < 7; day += 1) {
                        time = new Date(startTime.getTime());
                        time.setHours(currentHour + hour);
                        time.setDate(currentDate + day);
                        row.push({
                            time: time
                        });
                    }
                    times.push(row);
                }
                return times;
            }

            scope.select = function (selectedTime) {
                if (scope.timeSelected) {
                    scope.timeSelected({ selectedTime: selectedTime });
                }
            };

            ctrl._onDataLoaded = function () {
                var eventSource = ctrl.eventSource,
                    len = eventSource ? eventSource.length : 0,
                    startTime = ctrl.range.startTime,
                    endTime = ctrl.range.endTime,
                    utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),
                    utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),
                    rows = scope.rows,
                    dates = scope.dates,
                    oneHour = 3600000,
                    oneDay = 86400000,

                //add allday eps
                eps = 0.016,
                    eventSet,
                    allDayEventInRange = false,
                    normalEventInRange = false,
                    day,
                    hour;

                if (rows.hasEvent) {
                    for (day = 0; day < 7; day += 1) {
                        for (hour = 0; hour < 24; hour += 1) {
                            if (rows[hour][day].events) {
                                rows[hour][day].events = null;
                            }
                        }
                    }
                    rows.hasEvent = false;
                }

                if (dates.hasEvent) {
                    for (day = 0; day < 7; day += 1) {
                        if (dates[day].events) {
                            dates[day].events = null;
                        }
                    }
                    dates.hasEvent = false;
                }

                for (var i = 0; i < len; i += 1) {
                    var event = eventSource[i];
                    var eventStartTime = new Date(event.startTime);
                    var eventEndTime = new Date(event.endTime);

                    if (event.allDay) {
                        if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {
                            continue;
                        } else {
                            allDayEventInRange = true;

                            var allDayStartIndex;
                            if (eventStartTime <= utcStartTime) {
                                allDayStartIndex = 0;
                            } else {
                                allDayStartIndex = Math.floor((eventStartTime - utcStartTime) / oneDay);
                            }

                            var allDayEndIndex;
                            if (eventEndTime >= utcEndTime) {
                                allDayEndIndex = Math.ceil((utcEndTime - utcStartTime) / oneDay);
                            } else {
                                allDayEndIndex = Math.ceil((eventEndTime - utcStartTime) / oneDay);
                            }

                            var displayAllDayEvent = {
                                event: event,
                                startIndex: allDayStartIndex,
                                endIndex: allDayEndIndex
                            };

                            eventSet = dates[allDayStartIndex].events;
                            if (eventSet) {
                                eventSet.push(displayAllDayEvent);
                            } else {
                                eventSet = [];
                                eventSet.push(displayAllDayEvent);
                                dates[allDayStartIndex].events = eventSet;
                            }
                        }
                    } else {
                        if (eventEndTime <= startTime || eventStartTime >= endTime) {
                            continue;
                        } else {
                            normalEventInRange = true;

                            var timeDiff;
                            var timeDifferenceStart;
                            if (eventStartTime <= startTime) {
                                timeDifferenceStart = 0;
                            } else {
                                timeDiff = eventStartTime - startTime - (eventStartTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                                timeDifferenceStart = timeDiff / oneHour;
                            }

                            var timeDifferenceEnd;
                            if (eventEndTime >= endTime) {
                                timeDiff = endTime - startTime - (endTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                                timeDifferenceEnd = timeDiff / oneHour;
                            } else {
                                timeDiff = eventEndTime - startTime - (eventEndTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                                timeDifferenceEnd = timeDiff / oneHour;
                            }

                            var startIndex = Math.floor(timeDifferenceStart);
                            var endIndex = Math.ceil(timeDifferenceEnd - eps);
                            var startRowIndex = startIndex % 24;
                            var dayIndex = Math.floor(startIndex / 24);
                            var endOfDay = dayIndex * 24;
                            var endRowIndex;

                            do {
                                endOfDay += 24;
                                if (endOfDay <= endIndex) {
                                    endRowIndex = 24;
                                } else {
                                    endRowIndex = endIndex % 24;
                                }
                                var displayEvent = {
                                    event: event,
                                    startIndex: startRowIndex,
                                    endIndex: endRowIndex
                                };
                                eventSet = rows[startRowIndex][dayIndex].events;
                                if (eventSet) {
                                    eventSet.push(displayEvent);
                                } else {
                                    eventSet = [];
                                    eventSet.push(displayEvent);
                                    rows[startRowIndex][dayIndex].events = eventSet;
                                }
                                startRowIndex = 0;
                                dayIndex += 1;
                            } while (endOfDay < endIndex);
                        }
                    }
                }

                if (normalEventInRange) {
                    for (day = 0; day < 7; day += 1) {
                        var orderedEvents = [];
                        for (hour = 0; hour < 24; hour += 1) {
                            if (rows[hour][day].events) {
                                orderedEvents = orderedEvents.concat(rows[hour][day].events);
                            }
                        }
                        if (orderedEvents.length > 0) {
                            rows.hasEvent = true;
                            ctrl.placeEvents(orderedEvents);
                        }
                    }
                }

                if (allDayEventInRange) {
                    var orderedAllDayEvents = [];
                    for (day = 0; day < 7; day += 1) {
                        if (dates[day].events) {
                            orderedAllDayEvents = orderedAllDayEvents.concat(dates[day].events);
                        }
                    }
                    if (orderedAllDayEvents.length > 0) {
                        dates.hasEvent = true;
                        ctrl.placeAllDayEvents(orderedAllDayEvents);
                    }
                }

                $timeout(function () {
                    updateScrollGutter();
                });
            };

            ctrl._refreshView = function () {
                var firstDayOfWeek = ctrl.range.startTime,
                    dates = getDates(firstDayOfWeek, 7),
                    weekNumberIndex,
                    weekFormatPattern = 'w',
                    title;

                scope.rows = createDateObjects(firstDayOfWeek);
                scope.dates = dates;
                weekNumberIndex = ctrl.formatWeekTitle.indexOf(weekFormatPattern);
                title = dateFilter(firstDayOfWeek, ctrl.formatWeekTitle);
                if (weekNumberIndex !== -1) {
                    title = title.replace(weekFormatPattern, getISO8601WeekNumber(firstDayOfWeek));
                }
                scope.$parent.title = title;
            };

            ctrl._getRange = function getRange(currentDate) {
                var year = currentDate.getFullYear(),
                    month = currentDate.getMonth(),
                    date = currentDate.getDate(),
                    day = currentDate.getDay(),
                    firstDayOfWeek = new Date(year, month, date - day),
                    endTime = new Date(year, month, date - day + 7);

                return {
                    startTime: firstDayOfWeek,
                    endTime: endTime
                };
            };

            //This can be decomissioned when upgrade to Angular 1.3
            function getISO8601WeekNumber(date) {
                var checkDate = new Date(date);
                checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday
                var time = checkDate.getTime();
                checkDate.setMonth(0); // Compare with Jan 1
                checkDate.setDate(1);
                return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
            }

            ctrl.refreshView();
        }
    };
}]).directive('dayview', ['dateFilter', '$timeout', function (dateFilter, $timeout) {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './build/html/day.html',
        require: '^calendar',
        link: function (scope, element, attrs, ctrl) {
            scope.formatHourColumn = ctrl.formatHourColumn;

            $timeout(function () {
                updateScrollGutter();
            });

            ctrl.mode = {
                step: { days: 1 }
            };

            function updateScrollGutter() {
                var children = element.children();
                var allDayEventBody = children[0].children[1];
                var allDayEventGutterWidth = allDayEventBody.offsetWidth - allDayEventBody.clientWidth;
                var normalEventBody = children[1];
                var normalEventGutterWidth = normalEventBody.offsetWidth - normalEventBody.clientWidth;
                var gutterWidth = allDayEventGutterWidth || normalEventGutterWidth || 0;
                if (gutterWidth > 0) {
                    if (allDayEventGutterWidth <= 0) {
                        scope.allDayEventGutterWidth = gutterWidth;
                    } else {
                        scope.allDayEventGutterWidth = 0;
                    }
                    if (normalEventGutterWidth <= 0) {
                        scope.normalGutterWidth = gutterWidth;
                    } else {
                        scope.normalGutterWidth = 0;
                    }
                }
            }

            function createDateObjects(startTime) {
                var rows = [],
                    time,
                    currentHour = startTime.getHours(),
                    currentDate = startTime.getDate();

                for (var hour = 0; hour < 24; hour += 1) {
                    time = new Date(startTime.getTime());
                    time.setHours(currentHour + hour);
                    time.setDate(currentDate);
                    rows.push({
                        time: time
                    });
                }
                return rows;
            }

            scope.select = function (selectedTime) {
                if (scope.timeSelected) {
                    scope.timeSelected({ selectedTime: selectedTime });
                }
            };

            ctrl._onDataLoaded = function () {
                var eventSource = ctrl.eventSource,
                    len = eventSource ? eventSource.length : 0,
                    startTime = ctrl.range.startTime,
                    endTime = ctrl.range.endTime,
                    utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),
                    utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),
                    rows = scope.rows,
                    allDayEvents = [],
                    oneHour = 3600000,
                    eps = 0.016,
                    eventSet,
                    normalEventInRange = false,
                    hour;

                if (rows.hasEvent) {
                    for (hour = 0; hour < 24; hour += 1) {
                        if (rows[hour].events) {
                            rows[hour].events = null;
                        }
                    }
                    rows.hasEvent = false;
                }

                for (var i = 0; i < len; i += 1) {
                    var event = eventSource[i];
                    var eventStartTime = new Date(event.startTime);
                    var eventEndTime = new Date(event.endTime);

                    if (event.allDay) {
                        if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {
                            continue;
                        } else {
                            allDayEvents.push({
                                event: event
                            });
                        }
                    } else {
                        if (eventEndTime <= startTime || eventStartTime >= endTime) {
                            continue;
                        } else {
                            normalEventInRange = true;
                        }

                        var timeDiff;
                        var timeDifferenceStart;
                        if (eventStartTime <= startTime) {
                            timeDifferenceStart = 0;
                        } else {
                            timeDiff = eventStartTime - startTime - (eventStartTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                            timeDifferenceStart = timeDiff / oneHour;
                        }

                        var timeDifferenceEnd;
                        if (eventEndTime >= endTime) {
                            timeDiff = endTime - startTime - (endTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                            timeDifferenceEnd = timeDiff / oneHour;
                        } else {
                            timeDiff = eventEndTime - startTime - (eventEndTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                            timeDifferenceEnd = timeDiff / oneHour;
                        }

                        var startIndex = Math.floor(timeDifferenceStart);
                        var endIndex = Math.ceil(timeDifferenceEnd - eps);

                        var displayEvent = {
                            event: event,
                            startIndex: startIndex,
                            endIndex: endIndex
                        };

                        eventSet = rows[startIndex].events;
                        if (eventSet) {
                            eventSet.push(displayEvent);
                        } else {
                            eventSet = [];
                            eventSet.push(displayEvent);
                            rows[startIndex].events = eventSet;
                        }
                    }
                }

                if (normalEventInRange) {
                    var orderedEvents = [];
                    for (hour = 0; hour < 24; hour += 1) {
                        if (rows[hour].events) {
                            orderedEvents = orderedEvents.concat(rows[hour].events);
                        }
                    }
                    if (orderedEvents.length > 0) {
                        rows.hasEvent = true;
                        ctrl.placeEvents(orderedEvents);
                    }
                }

                scope.allDayEvents = allDayEvents;

                $timeout(function () {
                    updateScrollGutter();
                });
            };

            ctrl._refreshView = function () {
                var startingDate = ctrl.range.startTime;

                scope.rows = createDateObjects(startingDate);
                scope.allDayEvents = [];
                scope.dates = [startingDate];
                scope.$parent.title = dateFilter(startingDate, ctrl.formatDayTitle);
            };

            ctrl._getRange = function getRange(currentDate) {
                var year = currentDate.getFullYear(),
                    month = currentDate.getMonth(),
                    date = currentDate.getDate(),
                    startTime = new Date(year, month, date),
                    endTime = new Date(year, month, date + 1);

                return {
                    startTime: startTime,
                    endTime: endTime
                };
            };

            ctrl.refreshView();
        }
    };
}]);
angular.module("template/rcalendar/calendar.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/calendar.html", "<div ng-switch=\"calendarMode\">\n" + "    <div class=\"row calendar-navbar\">\n" + "        <div class=\"nav-left col-xs-2\">\n" + "            <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"move(-1)\"><i\n" + "                    class=\"glyphicon glyphicon-chevron-left\"></i></button>\n" + "        </div>\n" + "        <div class=\"calendar-header col-xs-8\">{{title}}</div>\n" + "        <div class=\"nav-right col-xs-2\">\n" + "            <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"move(1)\"><i\n" + "                    class=\"glyphicon glyphicon-chevron-right\"></i></button>\n" + "        </div>\n" + "    </div>\n" + "    <dayview ng-switch-when=\"day\"></dayview>\n" + "    <monthview ng-switch-when=\"month\"></monthview>\n" + "    <weekview ng-switch-when=\"week\"></weekview>\n" + "</div>\n" + "");
}]);

angular.module("template/rcalendar/day.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/day.html", "<div>\n" + "    <div class=\"dayview-allday-table\">\n" + "        <div class=\"dayview-allday-label\">\n" + "            all day\n" + "        </div>\n" + "        <div class=\"dayview-allday-content-wrapper\">\n" + "            <table class=\"table table-bordered dayview-allday-content-table\">\n" + "                <tbody>\n" + "                <tr>\n" + "                    <td class=\"calendar-cell\" ng-class=\"{'calendar-event-wrap':allDayEvents}\"\n" + "                        ng-style=\"{height: 25*allDayEvents.length+'px'}\">\n" + "                        <div ng-repeat=\"displayEvent in allDayEvents\" class=\"calendar-event\"\n" + "                             ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                             ng-style=\"{top: 25*$index+'px',width: '100%',height:'25px'}\">\n" + "                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                        </div>\n" + "                    </td>\n" + "                    <td ng-if=\"allDayEventGutterWidth>0\" class=\"gutter-column\"\n" + "                        ng-style=\"{width:allDayEventGutterWidth+'px'}\"></td>\n" + "                </tr>\n" + "                </tbody>\n" + "            </table>\n" + "        </div>\n" + "    </div>\n" + "    <div class=\"scrollable\" style=\"height: 400px\">\n" + "        <table class=\"table table-bordered table-fixed\">\n" + "            <tbody>\n" + "            <tr ng-repeat=\"tm in rows track by $index\">\n" + "                <td class=\"calendar-hour-column text-center\">\n" + "                    {{tm.time | date: formatHourColumn}}\n" + "                </td>\n" + "                <td class=\"calendar-cell\" ng-click=\"select(tm.time)\">\n" + "                    <div ng-class=\"{'calendar-event-wrap': tm.events}\" ng-if=\"tm.events\">\n" + "                        <div ng-repeat=\"displayEvent in tm.events\" class=\"calendar-event\"\n" + "                             ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                             ng-style=\"{left: 100/displayEvent.overlapNumber*displayEvent.position+'%', width: 100/displayEvent.overlapNumber+'%', height: 37*(displayEvent.endIndex-displayEvent.startIndex)+'px'}\">\n" + "                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                        </div>\n" + "                    </div>\n" + "                </td>\n" + "            </tr>\n" + "            </tbody>\n" + "        </table>\n" + "    </div>\n" + "</div>");
}]);

angular.module("template/rcalendar/month.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/month.html", "<div>\n" + "    <table class=\"table table-bordered table-fixed monthview-datetable monthview-datetable\">\n" + "        <thead>\n" + "        <tr>\n" + "            <th ng-show=\"showWeeks\" class=\"calendar-week-column text-center\">#</th>\n" + "            <th ng-repeat=\"label in labels track by $index\" class=\"text-center\">\n" + "                <small>{{label}}</small>\n" + "            </th>\n" + "        </tr>\n" + "        </thead>\n" + "        <tbody>\n" + "        <tr ng-repeat=\"row in rows track by $index\">\n" + "            <td ng-show=\"showWeeks\" class=\"calendar-week-column text-center\">\n" + "                <small><em>{{ weekNumbers[$index] }}</em></small>\n" + "            </td>\n" + "            <td ng-repeat=\"dt in row track by dt.date\" class=\"monthview-dateCell\" ng-click=\"select(dt.date)\"\n" + "                ng-class=\"{'text-center':true, 'monthview-current': dt.current&&!dt.selected&&!dt.hasEvent,'monthview-secondary-with-event': dt.secondary&&dt.hasEvent, 'monthview-primary-with-event':!dt.secondary&&dt.hasEvent&&!dt.selected, 'monthview-selected': dt.selected}\">\n" + "                <div ng-class=\"{'text-muted':dt.secondary}\">\n" + "                    {{dt.label}}\n" + "                </div>\n" + "            </td>\n" + "        </tr>\n" + "        </tbody>\n" + "    </table>\n" + "    <div ng-if=\"showEventDetail\" class=\"event-detail-container\">\n" + "        <div class=\"scrollable\" style=\"height: 200px\">\n" + "            <table class=\"table table-bordered table-striped table-fixed\">\n" + "                <tr ng-repeat=\"event in selectedDate.events\" ng-if=\"selectedDate.events\">\n" + "                    <td ng-if=\"!event.allDay\" class=\"monthview-eventdetail-timecolumn\">{{event.startTime|date: 'HH:mm'}}\n" + "                        -\n" + "                        {{event.endTime|date: 'HH:mm'}}\n" + "                    </td>\n" + "                    <td ng-if=\"event.allDay\" class=\"monthview-eventdetail-timecolumn\">All day</td>\n" + "                    <td class=\"event-detail\" ng-click=\"eventSelected({event:event})\">{{event.title}}</td>\n" + "                </tr>\n" + "                <tr ng-if=\"!selectedDate.events\"><td class=\"no-event-label\">No Events</td></tr>\n" + "            </table>\n" + "        </div>\n" + "    </div>\n" + "</div>");
}]);

angular.module("template/rcalendar/week.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/week.html", "<div>\n" + "    <table class=\"table table-bordered table-fixed weekview-header\">\n" + "        <thead>\n" + "        <tr>\n" + "            <th class=\"calendar-hour-column\"></th>\n" + "            <th ng-repeat=\"dt in dates\" class=\"text-center weekview-header-label\">{{dt.date| date:\n" + "                formatWeekViewDayHeader}}\n" + "            </th>\n" + "            <th ng-if=\"gutterWidth>0\" class=\"gutter-column\" ng-style=\"{width: gutterWidth+'px'}\"></th>\n" + "        </tr>\n" + "        </thead>\n" + "    </table>\n" + "    <div class=\"weekview-allday-table\">\n" + "        <div class=\"weekview-allday-label\">\n" + "            all day\n" + "        </div>\n" + "        <div class=\"weekview-allday-content-wrapper\">\n" + "            <table class=\"table table-bordered table-fixed weekview-allday-content-table\">\n" + "                <tbody>\n" + "                <tr>\n" + "                    <td ng-repeat=\"day in dates track by day.date\" class=\"calendar-cell\">\n" + "                        <div ng-class=\"{'calendar-event-wrap': day.events}\" ng-if=\"day.events\"\n" + "                             ng-style=\"{height: 25*day.events.length+'px'}\">\n" + "                            <div ng-repeat=\"displayEvent in day.events\" class=\"calendar-event\"\n" + "                                 ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                                 ng-style=\"{top: 25*displayEvent.position+'px', width: 100*(displayEvent.endIndex-displayEvent.startIndex)+'%', height: '25px'}\">\n" + "                                <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                            </div>\n" + "                        </div>\n" + "                    </td>\n" + "                    <td ng-if=\"allDayEventGutterWidth>0\" class=\"gutter-column\"\n" + "                        ng-style=\"{width: allDayEventGutterWidth+'px'}\"></td>\n" + "                </tr>\n" + "                </tbody>\n" + "            </table>\n" + "        </div>\n" + "    </div>\n" + "    <div class=\"scrollable\" style=\"height: 400px\">\n" + "        <table class=\"table table-bordered table-fixed\">\n" + "            <tbody>\n" + "            <tr ng-repeat=\"row in rows track by $index\">\n" + "                <td class=\"calendar-hour-column text-center\">\n" + "                    {{row[0].time | date: formatHourColumn}}\n" + "                </td>\n" + "                <td ng-repeat=\"tm in row track by tm.time\" class=\"calendar-cell\" ng-click=\"select(tm.time)\">\n" + "                    <div ng-class=\"{'calendar-event-wrap': tm.events}\" ng-if=\"tm.events\">\n" + "                        <div ng-repeat=\"displayEvent in tm.events\" class=\"calendar-event\"\n" + "                             ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                             ng-style=\"{left: 100/displayEvent.overlapNumber*displayEvent.position+'%', width: 100/displayEvent.overlapNumber+'%', height: 37*(displayEvent.endIndex-displayEvent.startIndex)+'px'}\">\n" + "                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                        </div>\n" + "                    </div>\n" + "                </td>\n" + "                <td ng-if=\"normalGutterWidth>0\" class=\"gutter-column\" ng-style=\"{width: normalGutterWidth+'px'}\"></td>\n" + "            </tr>\n" + "            </tbody>\n" + "        </table>\n" + "    </div>\n" + "</div>");
}]);
specialist.factory('dataService', ['$http', function ($http) {
    var signUpDocObj = {};
    return {
        getFullDoctorList: function () {
            return $http.get('http://0.0.0.0:8081/doctor/list').then(function (resp) {
                return resp.data;
            });
        },
        checkUserExistance: function () {},
        signUpDoctor: function (obj) {
            return $http.post('http://0.0.0.0:8081/doctor/add', obj).then(function (resp) {
                setSession(resp);
                return resp;
            });
            // var obj = {
            //     'sessionId': '23458863',
            //     'docData': { 'name': 'nitin', 'email': 'ntngiri@gmail.com', 'address': 'ksjdnv skvnj', 'city': 'Gurgaon', 'state': 'haryana', 'mob': '70412992873', 'clinic': 'ksjbd', 'fee': '699', 'hv_fee': '7365' }
            // };
            // signUpDocObj = obj;
            // console.log('dataService',signUpDocObj);
            //return signUpDocObj;
        },
        setSession: function (user) {
            sessionStorage.user = JSON.stringify($scope.user);
        },
        getSession: function () {
            return sessionStorage.user;
        },
        getDoctorData: function (id) {
            return $http.get('http://0.0.0.0:8081/doctor/' + id).then(function (resp) {
                return resp.data;
            });
        }
    };
}]);
specialist.controller('docProfileCtrl', ['$scope', 'dataService', function ($scope, dataService) {
    var doctorId = 4;
    $scope.editProfile2 = false;
    $scope.editProfile = true;
    // dataService.getDoctorData(doctorId).then(function(data) {
    //     console.log(data);
    //     $scope.doctorData = data[0];
    // });
    $scope.docJson;
    dataService.getDoctorData('14').then(function (resp) {
        $scope.docJson = resp[0];
        console.log('doctor data', $scope.docJson);
    });

    $scope.showEditForm = function (tabId) {
        if (tabId == '1') {
            $scope.editProfile2 = false;
            $scope.editProfile = true;
            document.getElementById("1").classList.add("active");
            document.getElementById("2").classList.remove("active");
        } else if (tabId == '2') {
            $scope.editProfile2 = true;
            $scope.editProfile = false;
            document.getElementById("2").classList.add("active");
            document.getElementById("1").classList.remove("active");
            //document.getElementById('2').className += 'active';
        }
    };

    $scope.mode = 'week';
    $scope.eventSource = createRandomEvents();
    $scope.selected = 0;
    $scope.select = function (index) {
        $scope.selected = index;
    };
    $scope.navProfileList = [{ 'sref': 'dashboard', 'title': 'Dashboard' }, { 'sref': 'faq', 'title': 'FAQ' }, { 'sref': 'plans', 'title': 'Pricing Plans' }, { 'sref': 'profile', 'title': 'User Account' }];

    function createRandomEvents() {
        var events = [];
        for (var i = 0; i < 50; i += 1) {
            var date = new Date();
            var eventType = Math.floor(Math.random() * 2);
            var startDay = Math.floor(Math.random() * 90) - 45;
            var endDay = Math.floor(Math.random() * 2) + startDay;
            var startTime;
            var endTime;
            if (eventType === 0) {
                startTime = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate() + startDay));
                if (endDay === startDay) {
                    endDay += 1;
                }
                endTime = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate() + endDay));
                events.push({
                    title: 'All Day - ' + i,
                    startTime: startTime,
                    endTime: endTime,
                    allDay: true
                });
            } else {
                var startMinute = Math.floor(Math.random() * 24 * 60);
                var endMinute = Math.floor(Math.random() * 180) + startMinute;
                startTime = new Date(date.getFullYear(), date.getMonth(), date.getDate() + startDay, 0, date.getMinutes() + startMinute);
                endTime = new Date(date.getFullYear(), date.getMonth(), date.getDate() + endDay, 0, date.getMinutes() + endMinute);
                events.push({
                    title: i + 'Mr Nitin',
                    startTime: startTime,
                    endTime: endTime,
                    allDay: false
                });
            }
        }
        return events;
    }
}]);
specialist.controller('docSignupCtrl', ['$scope', '$state', 'dataService', function ($scope, $state, dataService) {
	$scope.secondForm = false;
	$scope.firstForm = true;
	$scope.email_err = false;
	$scope.pwd_err = false;
	$scope.err_msg = false;
	$scope.mobileRegEx = "/^[0-9]{10,10}$/;";
	$scope.pinCodeRegEx = "/^[0-9]{6,6}$/;";
	var signUpData = {};
	$scope.checkEmailPwdValidity = function (value) {
		if (value == 'email') {
			if ($scope.email !== $scope.confEmail) {
				$scope.email_err = true;
				$scope.email_err_msg = 'Email did not match';
			} else {
				$scope.email_err = false;
				$scope.email_err_msg = '';
			}
		} else if (value == 'pwd') {
			if ($scope.pass !== $scope.confPass) {
				$scope.pass_err = true;
			} else {
				$scope.pass_err = false;
			}
		}
	};
	$scope.bringSecondForm = function (isValid) {
		if (isValid) {
			$scope.err_msg = false;
			signUpData.name = $scope.fname + " " + $scope.lname;
			if ($scope.email == $scope.confEmail) {
				signUpData.email = $scope.email;
			} else {
				$scope.email_err = true;
			}
			if ($scope.pass == $scope.confPass) {
				signUpData.password = $scope.pass;
			} else {
				$scope.pass_err = true;
			}
			if (!$scope.pass_err && !$scope.email_err) {
				$scope.secondForm = true;
				$scope.firstForm = false;
			}
		} else if (!isValid) {
			$scope.err_msg = true;
		}
	};

	$scope.sendSignupDoc = function (isValid) {
		if (isValid) {
			$scope.err_msg = false;
			signUpData.address = $scope.address1 + ' ' + $scope.address2;
			signUpData.pin = $scope.pinCode;
			signUpData.city = $scope.city;
			signUpData.state = $scope.state;
			signUpData.mobile = $scope.mobileNo;
			signUpData.clinic_name = $scope.clinicName;
			signUpData.fee = $scope.clinicFee;
			signUpData.hv_fee = $scope.homeVisit;
			dataService.signUpDoctor(signUpData).then(function (resp) {
				if (resp) {
					$state.go('doctorProfile.dashboard');
				}
			});
			//to be removed
			// dataService.signUpDoctor(signUpData).then(function(resp){
			// 	$state.go('doctorProfile.dashboard');
			// });
		} else if (!isValid) {
			$scope.err_msg = true;
		}
	};
}]);
specialist.controller('doctorPortalCtrl', ['$scope', function ($scope) {}]);
angular.module('specialist.tagit', []).directive('tagIt', function () {
    return {
        restrict: 'EA',
        scope: {
            tags: "=",
            remove: "&"
        },
        template: '<div><ul class="tags"><li  class="tagit" ng-repeat="tag in tags "><span class="tagText">{{::tag.name}}</span><a  ng-click="remove({idx:tag.id})" class="dCross" href="javascript:;">x</a></li></ul></div>',

        link: function ($scope, $element, $attrs, $ctrl) {
            // console.log($scope, $attrs);
        }
    };
});

angular.module('specialist.listing', []).directive('ngRepeatDoneNotification', function () {
    return function (scope, element, attrs) {

        if (!scope.$parent.multiSelect) {

            if (scope.selectedId && scope.selectedId.length != 0 && scope.$last && !scope.$parent.firstReapet) {
                scope.$parent.firstReapet = 1;
                scope.callback({
                    'item': {
                        id: scope.selectedId[0],
                        name: scope.data[scope.idHash.indexOf(scope.selectedId[0])].name,
                        allSelected: scope.selectedId,
                        checked: null,
                        first: true
                    }
                });
            }
        }
        //console.log(scope.$parent.idHash);
    };
}).directive('listing', function () {
    return {
        restrict: 'E',
        transclude: true,
        replace: true,
        scope: {
            'data': '=',
            'tupleCount': '@',
            'selectedId': '=',
            'maxHeight': '@',
            'callback': '&listingCallback',
            'multiSelect': '@',
            'filterName': "=",
            'active': '='
        },

        //template: '<ul><li ng-repeat="item in data|limitTo:tupleCount" ng-repeat-done-notification={{item.id}} ng-click="checkItem(this)"><input ng-if="multiSelect" type="checkbox" ng-model=item.checked><div style="display:inline-block;" ng-transclude></div></li></ul>',
        template: '<ul><li ng-repeat="item in data" ng-repeat-done-notification={{item.id}} ng-click="checkItem(this)" ng-class="{active:item.active, notSelectable:item.notSelectable}"><input ng-if="multiSelect == \'true\' && !item.notSelectable" type="checkbox" ng-model=item.checked>{{selectedName}}<div style="display:inline-block; width:auto;" ng-transclude></div></li></ul>',

        link: function (scope, iElement, iAttr, controllers) {
            scope.firstReapet = 0;
            scope.selObj = {};
            scope.idHash = [];
            if (scope.data) {
                scope.data.forEach(function (x) {
                    scope.idHash.push(x.id);
                });
            }
            scope.$on('select', function (event, someData, flag) {
                var elemToSel;
                if (flag) {
                    elemToSel = scope.data[scope.idHash.indexOf(flag)];
                } else {
                    elemToSel = scope.data[scope.active];
                }

                scope.checkItem({
                    'item': elemToSel
                });
            });
            scope.$on('deSelect', function (event, id) {});

            scope.isActive = function (matchIdx) {
                if (scope.active < iElement.find('li').length) {
                    return scope.active === matchIdx;
                } else {
                    scope.active = 0;
                    //  return scope.active === matchIdx;
                }
            };

            scope.checkItem = function (_this) {
                var arr = [];
                scope.attr = iAttr;

                if (_this.item.notSelectable) {
                    //iElement.addClass('notSelectable');
                    return;
                }

                scope.checkSelection(_this);

                scope.callback({
                    'item': {
                        id: _this.item.id,
                        name: _this.item.name,
                        allSelected: scope.selectedId,
                        checked: _this.item.checked
                    }
                });
            };

            scope.checkSelection = function (t) {
                // array and selectedId will be the same after this, 
                var id = t.item.id;
                scope.selectedId = scope.selectedId || [];
                if (scope.attr.multiSelect) {
                    var index = scope.selectedId.indexOf(id);
                    if (index == -1) {
                        scope.selectedId.push(id);
                        scope.selObj[id] = t.item.name;
                        t.item.checked = true;
                    } else {
                        scope.selectedId.splice(index, 1);
                        delete scope.selObj[id];
                        t.item.checked = false;
                    }
                } else {
                    scope.selectedId = [];
                    scope.selectedId.push(id);
                    //t.item.checked = true;
                }
            };
        }
    };
});

angular.module('specialist.droope', ['specialist.listing', 'specialist.tagit']).directive('droope', ["$document", function ($document) {
    // Runs during compile
    return {
        scope: {
            option: "=",
            callback: "&droopeCallback",
            data: "=",
            selectedId: "=",
            api: "="
        },
        // controller: function($scope, $element, $attrs, $transclude) {},
        restrict: 'E', // E = Element, A = Attribute, C = Class, M = Comment
        template: '<div class="ddwn">' + '<div class="DDwrap">' + '<ul class="DDsearch">' + '<li class="frst" style="float: none;">' + '<div class="DDinputWrap">' + '<span class="ddIcon srchTxt" ng-click="showDrop()"></span>' + '<input type="text" ng-click="showDrop()" id="" class="srchTxt" autocomplete="off" style="color: rgb(68, 68, 68);" ng-model="selectedName">' + '</div>' + '</li>' + '</ul>' + '</div>' + '<div class="dd_dwn" ng-show="show">' + '<listing tuplecount="10" multi-select="{{option.multiselect}}" active="activeIndex" selected-id ="selectedId" listing-callback="listingCallback(item)" data="data" filter-name="selectedName">' + '<div><span>{{$parent.item.name}}</span></div>' + '</listing>' + '</div>' + '</div>',
        replace: true,
        transclude: true,
        compile: function (tElement, tAttrs) {
            var __options__ = {
                fieldAttr: {
                    placeholder: 'Enter your Values'
                }

            };
            return function linking(scope, iElm, iAttrs, controller) {
                scope.activeIndex = 0;
                //console.log(iElm);
                //bind keyboard events: arrows up(38) / down(40), enter(13) and tab(9), esc(27)
                iElm.find('input').on('keydown', function (evt) {
                    var target;
                    switch (evt.which) {
                        case 8:
                            if (scope.selectedName == "") {
                                scope.show = true;
                            }
                            scope.$digest();
                            break;
                        case 9:
                            scope.blurOut();
                            break;
                        case 13:
                            evt.stopPropagation();
                            scope.$broadcast('select', this);
                            scope.$digest();
                            break;
                        case 38:
                            scope.data[scope.activeIndex].active = false;
                            scope.activeIndex--;
                            scope.data[scope.activeIndex].active = true;
                            scope.$digest();
                            break;
                        case 40:
                            scope.data[scope.activeIndex].active = false;
                            scope.activeIndex++;
                            scope.data[scope.activeIndex].active = true;
                            scope.$digest();
                            break;
                    }
                });
                scope.options = angular.merge(__options__, scope.option);
                scope.tags = [];
                iElm.find('input').attr(scope.options.fieldAttr);
                /**
                 * [function called on list click- after listing callback]
                 * @param  {[type]} retObj [object from listing callback]
                 * @return {[type]}      [tags object updated]
                 */
                scope.api = {
                    resetDroope: function () {
                        //scope.active = -1;
                        scope.selectedName = "", scope.selectedId = [];
                    },
                    selectItem: function (id) {
                        if (Object.prototype.toString.call(id) === '[object Array]') {
                            scope.$broadcast('select', this, id);
                        } else {
                            scope.$broadcast('select', this, id);
                        }
                    }
                };
                scope.listingCallback = function (retObj) {
                    var newTag = {
                        id: retObj.id,
                        name: retObj.name
                    };
                    scope.tagUpdate(newTag, retObj.checked);
                };

                scope.tagUpdate = function (tagObj, checked) {
                    if (scope.option.multiselect) {
                        if (checked) {
                            scope.tags.push(tagObj);
                        } else {
                            var index = scope.tags.indexOf(tagObj);
                            scope.tags.splice(index, 1);
                        }
                    } else {
                        scope.selectedName = tagObj.name;
                        scope.show = false;
                        scope.callback({
                            "item": tagObj
                        });
                    }

                    if (event) {
                        event.stopPropagation();
                    }
                };
                /**
                 * [called on input focus - will show the list]
                 */
                scope.showDrop = function () {
                    // if (scope.option.multiselect) {

                    // } else {
                    scope.lastSelected = scope.selectedName;
                    scope.selectedName = '';
                    scope.show = true;
                    //}
                    // var parElm = document.getElementById('meraDD');
                    // var scrollCont = document.getElementById('dd_dwn');
                    // var fstElm = document.getElementById('dd_dwn').getElementsByTagName("li")[0];
                    // scope.scrollHandler(parElm, scrollCont, fstElm, fstElm);
                };

                /**
                 * [removing all tags]
                 */
                scope.removeAllTags = function () {
                    scope.tags = [];
                    if (scope.option.multiselect) {
                        for (i = 0; i < scope.selectedId.length; i++) {
                            var index = scope.data.indexOf(scope.selectedId[i]);
                            scope.data[index].checked = false;
                        }
                    } else {
                        scope.selectedName = '';
                    }
                };

                scope.blurOut = function () {
                    var blurObj = {
                        id: "",
                        name: scope.selectedName,
                        checked: 'no'
                        //  scope.show = true;
                    };
                    scope.listingCallback(blurObj);
                };
                /**
                 * [hide list drop on document click]
                 */
                $document.on("click", function (event) {
                    if (!angular.element(event.target).hasClass('srchTxt')) {
                        scope.show = false;
                        if (scope.selectedName == "") {
                            scope.selectedName = scope.lastSelected;
                        }
                        //  scope.blurOut();
                    } else {}
                    scope.$apply();
                });
            };
        }
    };
}]);
specialist.controller('mainController', ['$scope', function ($scope) {
	var json = [{ 'name': 'Delhi' }, { 'name': 'Noida' }, { 'name': 'Gurgaon' }];
	$scope.options = {};
	$scope.options = {
		data: json,
		multiselect: true,
		maxHeight: 250
	};
	$scope.data = [{ 'name': 'Delhi' }, { 'name': 'Noida' }, { 'name': 'Gurgaon' }];
	$scope.selectedId = [];
	$scope.onClickFunc = function (obj1) {
		//$scope.cbObj = obj;
		console.log(obj1);
	};
	$scope.api = {};
}]);
specialist.controller('SearchCtrl', ['$scope', '$state', 'dataService', function ($scope, $state, dataService) {
	$scope.doctorId;
	dataService.getFullDoctorList().then(function (data) {
		console.log(data);
		$scope.doctorList = data;
		$scope.doctorId = data.id;
	});
	$scope.doctorBook = function (id) {
		$state.go('doctor');
	};
}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNhbGVuZGVyLmpzIiwiZGF0YVNlcnZpY2UuanMiLCJkb2NQcm9maWxlQ29udHJvbGxlci5qcyIsImRvY1NpZ251cENvbnRyb2xsZXIuanMiLCJkb2N0b3JQb3J0YWwuanMiLCJkcm9vcGUuanMiLCJtYWluQ29udHJvbGxlci5qcyIsInNlYXJjaENvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsic3BlY2lhbGlzdCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJhYnN0cmFjdCIsImh0bWw1TW9kZSIsImNvbnN0YW50IiwiZm9ybWF0RGF5IiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRXZWVrVGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwiZm9ybWF0V2Vla1ZpZXdEYXlIZWFkZXIiLCJmb3JtYXRIb3VyQ29sdW1uIiwiY2FsZW5kYXJNb2RlIiwic2hvd1dlZWtzIiwic2hvd0V2ZW50RGV0YWlsIiwic3RhcnRpbmdEYXkiLCJldmVudFNvdXJjZSIsInF1ZXJ5TW9kZSIsIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsIiRpbnRlcnBvbGF0ZSIsIiRsb2ciLCJkYXRlRmlsdGVyIiwiY2FsZW5kYXJDb25maWciLCJzZWxmIiwibmdNb2RlbEN0cmwiLCIkc2V0Vmlld1ZhbHVlIiwibm9vcCIsImZvckVhY2giLCJrZXkiLCJpbmRleCIsImlzRGVmaW5lZCIsIiRwYXJlbnQiLCIkZXZhbCIsIiR3YXRjaCIsInZhbHVlIiwib25FdmVudFNvdXJjZUNoYW5nZWQiLCJpbml0RGF0ZSIsImN1cnJlbnRDYWxlbmRhckRhdGUiLCJEYXRlIiwibmdNb2RlbCIsImFzc2lnbiIsImluaXQiLCJuZ01vZGVsQ3RybF8iLCIkcmVuZGVyIiwicmVuZGVyIiwiJG1vZGVsVmFsdWUiLCJkYXRlIiwiaXNWYWxpZCIsImlzTmFOIiwiZXJyb3IiLCIkc2V0VmFsaWRpdHkiLCJyZWZyZXNoVmlldyIsIm1vZGUiLCJyYW5nZSIsIl9nZXRSYW5nZSIsIl9yZWZyZXNoVmlldyIsInJhbmdlQ2hhbmdlZCIsInNwbGl0IiwiYXJyIiwic2l6ZSIsImFycmF5cyIsImxlbmd0aCIsInB1c2giLCJzcGxpY2UiLCJfb25EYXRhTG9hZGVkIiwibW92ZSIsImRpcmVjdGlvbiIsInN0ZXAiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJ5ZWFycyIsIm1vbnRoIiwiZ2V0TW9udGgiLCJtb250aHMiLCJnZXREYXRlIiwiZGF5cyIsImZpcnN0RGF5SW5OZXh0TW9udGgiLCJzZXRGdWxsWWVhciIsImdldFRpbWUiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwib3ZlcmxhcCIsImV2ZW50MSIsImV2ZW50MiIsImVuZEluZGV4Iiwic3RhcnRJbmRleCIsImNhbGN1bGF0ZVBvc2l0aW9uIiwiZXZlbnRzIiwiaSIsImoiLCJsZW4iLCJtYXhDb2x1bW4iLCJjb2wiLCJpc0ZvcmJpZGRlbiIsIkFycmF5IiwicG9zaXRpb24iLCJjYWxjdWxhdGVXaWR0aCIsIm9yZGVyZWRFdmVudHMiLCJjZWxscyIsImV2ZW50IiwiZXZlbnRDb3VudEluQ2VsbCIsImN1cnJlbnRFdmVudEluQ2VsbCIsInNvcnQiLCJldmVudEEiLCJldmVudEIiLCJjYWxjdWxhdGVkIiwib3ZlcmxhcE51bWJlciIsImV2ZW50UXVldWUiLCJzaGlmdCIsInBsYWNlRXZlbnRzIiwicGxhY2VBbGxEYXlFdmVudHMiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJzY29wZSIsImV2ZW50U2VsZWN0ZWQiLCJ0aW1lU2VsZWN0ZWQiLCJyZXF1aXJlIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsImN0cmxzIiwiY2FsZW5kYXJDdHJsIiwiJG9uIiwiY3RybCIsImdldERhdGVzIiwic3RhcnREYXRlIiwibiIsImRhdGVzIiwiY3VycmVudCIsInNldEhvdXJzIiwic2V0RGF0ZSIsInNlbGVjdCIsInNlbGVjdGVkRGF0ZSIsInJvd3MiLCJjdXJyZW50TW9udGgiLCJjdXJyZW50WWVhciIsInNlbGVjdGVkTW9udGgiLCJzZWxlY3RlZFllYXIiLCJyb3ciLCJzZWxlY3RlZCIsImNvbXBhcmUiLCJzZWxlY3RlZFRpbWUiLCJleHRlbmQiLCJjcmVhdGVEYXRlT2JqZWN0Iiwic2Vjb25kYXJ5IiwibGFiZWxzIiwiaGVhZGVyRGF0ZSIsInRpdGxlIiwid2Vla051bWJlcnMiLCJ0aHVyc2RheUluZGV4IiwibnVtV2Vla3MiLCJjdXJXZWVrIiwiZ2V0SVNPODYwMVdlZWtOdW1iZXIiLCJmb3JtYXQiLCJsYWJlbCIsImNvbXBhcmVFdmVudCIsImFsbERheSIsInV0Y1N0YXJ0VGltZSIsIlVUQyIsInV0Y0VuZFRpbWUiLCJvbmVEYXkiLCJlcHMiLCJoYXNFdmVudCIsImV2ZW50U3RhcnRUaW1lIiwiZXZlbnRFbmRUaW1lIiwic3QiLCJldCIsInRpbWVEaWZmIiwidGltZURpZmZlcmVuY2VTdGFydCIsImdldFRpbWV6b25lT2Zmc2V0IiwidGltZURpZmZlcmVuY2VFbmQiLCJNYXRoIiwiZmxvb3IiLCJldmVudFNldCIsInJvd0luZGV4IiwiZGF5SW5kZXgiLCJmaW5kU2VsZWN0ZWQiLCJkYXRlMSIsImRhdGUyIiwiZ2V0UmFuZ2UiLCJjdXJyZW50RGF0ZSIsImZpcnN0RGF5T2ZNb250aCIsImRpZmZlcmVuY2UiLCJnZXREYXkiLCJudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCIsImVuZERhdGUiLCJjaGVja0RhdGUiLCJ0aW1lIiwic2V0TW9udGgiLCJyb3VuZCIsIiR0aW1lb3V0IiwidXBkYXRlU2Nyb2xsR3V0dGVyIiwiY2hpbGRyZW4iLCJhbGxEYXlFdmVudEJvZHkiLCJhbGxEYXlFdmVudEd1dHRlcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsIm5vcm1hbEV2ZW50Qm9keSIsIm5vcm1hbEV2ZW50R3V0dGVyV2lkdGgiLCJndXR0ZXJXaWR0aCIsIm5vcm1hbEd1dHRlcldpZHRoIiwiY3JlYXRlRGF0ZU9iamVjdHMiLCJ0aW1lcyIsImN1cnJlbnRIb3VyIiwiZ2V0SG91cnMiLCJob3VyIiwiZGF5Iiwib25lSG91ciIsImFsbERheUV2ZW50SW5SYW5nZSIsIm5vcm1hbEV2ZW50SW5SYW5nZSIsImFsbERheVN0YXJ0SW5kZXgiLCJhbGxEYXlFbmRJbmRleCIsImNlaWwiLCJkaXNwbGF5QWxsRGF5RXZlbnQiLCJzdGFydFJvd0luZGV4IiwiZW5kT2ZEYXkiLCJlbmRSb3dJbmRleCIsImRpc3BsYXlFdmVudCIsImNvbmNhdCIsIm9yZGVyZWRBbGxEYXlFdmVudHMiLCJmaXJzdERheU9mV2VlayIsIndlZWtOdW1iZXJJbmRleCIsIndlZWtGb3JtYXRQYXR0ZXJuIiwiaW5kZXhPZiIsImFsbERheUV2ZW50cyIsInN0YXJ0aW5nRGF0ZSIsInJ1biIsIiR0ZW1wbGF0ZUNhY2hlIiwicHV0IiwiZmFjdG9yeSIsIiRodHRwIiwic2lnblVwRG9jT2JqIiwiZ2V0RnVsbERvY3Rvckxpc3QiLCJnZXQiLCJ0aGVuIiwicmVzcCIsImRhdGEiLCJjaGVja1VzZXJFeGlzdGFuY2UiLCJzaWduVXBEb2N0b3IiLCJvYmoiLCJwb3N0Iiwic2V0U2Vzc2lvbiIsInVzZXIiLCJzZXNzaW9uU3RvcmFnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRTZXNzaW9uIiwiZ2V0RG9jdG9yRGF0YSIsImlkIiwiZGF0YVNlcnZpY2UiLCJkb2N0b3JJZCIsImVkaXRQcm9maWxlMiIsImVkaXRQcm9maWxlIiwiZG9jSnNvbiIsImNvbnNvbGUiLCJsb2ciLCJzaG93RWRpdEZvcm0iLCJ0YWJJZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJjcmVhdGVSYW5kb21FdmVudHMiLCJuYXZQcm9maWxlTGlzdCIsImV2ZW50VHlwZSIsInJhbmRvbSIsInN0YXJ0RGF5IiwiZW5kRGF5IiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJzdGFydE1pbnV0ZSIsImVuZE1pbnV0ZSIsImdldE1pbnV0ZXMiLCIkc3RhdGUiLCJzZWNvbmRGb3JtIiwiZmlyc3RGb3JtIiwiZW1haWxfZXJyIiwicHdkX2VyciIsImVycl9tc2ciLCJtb2JpbGVSZWdFeCIsInBpbkNvZGVSZWdFeCIsInNpZ25VcERhdGEiLCJjaGVja0VtYWlsUHdkVmFsaWRpdHkiLCJlbWFpbCIsImNvbmZFbWFpbCIsImVtYWlsX2Vycl9tc2ciLCJwYXNzIiwiY29uZlBhc3MiLCJwYXNzX2VyciIsImJyaW5nU2Vjb25kRm9ybSIsIm5hbWUiLCJmbmFtZSIsImxuYW1lIiwicGFzc3dvcmQiLCJzZW5kU2lnbnVwRG9jIiwiYWRkcmVzcyIsImFkZHJlc3MxIiwiYWRkcmVzczIiLCJwaW4iLCJwaW5Db2RlIiwiY2l0eSIsIm1vYmlsZSIsIm1vYmlsZU5vIiwiY2xpbmljX25hbWUiLCJjbGluaWNOYW1lIiwiZmVlIiwiY2xpbmljRmVlIiwiaHZfZmVlIiwiaG9tZVZpc2l0IiwiZ28iLCJ0YWdzIiwidGVtcGxhdGUiLCIkZWxlbWVudCIsIiRjdHJsIiwibXVsdGlTZWxlY3QiLCJzZWxlY3RlZElkIiwiJGxhc3QiLCJmaXJzdFJlYXBldCIsImNhbGxiYWNrIiwiaWRIYXNoIiwiYWxsU2VsZWN0ZWQiLCJjaGVja2VkIiwiZmlyc3QiLCJ0cmFuc2NsdWRlIiwiaUVsZW1lbnQiLCJpQXR0ciIsImNvbnRyb2xsZXJzIiwic2VsT2JqIiwieCIsInNvbWVEYXRhIiwiZmxhZyIsImVsZW1Ub1NlbCIsImFjdGl2ZSIsImNoZWNrSXRlbSIsImlzQWN0aXZlIiwibWF0Y2hJZHgiLCJmaW5kIiwiX3RoaXMiLCJhdHRyIiwiaXRlbSIsIm5vdFNlbGVjdGFibGUiLCJjaGVja1NlbGVjdGlvbiIsInQiLCIkZG9jdW1lbnQiLCJvcHRpb24iLCJhcGkiLCJjb21waWxlIiwidEVsZW1lbnQiLCJ0QXR0cnMiLCJfX29wdGlvbnNfXyIsImZpZWxkQXR0ciIsInBsYWNlaG9sZGVyIiwibGlua2luZyIsImlFbG0iLCJpQXR0cnMiLCJhY3RpdmVJbmRleCIsIm9uIiwiZXZ0IiwidGFyZ2V0Iiwid2hpY2giLCJzZWxlY3RlZE5hbWUiLCJzaG93IiwiJGRpZ2VzdCIsImJsdXJPdXQiLCJzdG9wUHJvcGFnYXRpb24iLCIkYnJvYWRjYXN0Iiwib3B0aW9ucyIsIm1lcmdlIiwicmVzZXREcm9vcGUiLCJzZWxlY3RJdGVtIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwibGlzdGluZ0NhbGxiYWNrIiwicmV0T2JqIiwibmV3VGFnIiwidGFnVXBkYXRlIiwidGFnT2JqIiwibXVsdGlzZWxlY3QiLCJzaG93RHJvcCIsImxhc3RTZWxlY3RlZCIsInJlbW92ZUFsbFRhZ3MiLCJibHVyT2JqIiwiaGFzQ2xhc3MiLCIkYXBwbHkiLCJqc29uIiwibWF4SGVpZ2h0Iiwib25DbGlja0Z1bmMiLCJvYmoxIiwiZG9jdG9yTGlzdCIsImRvY3RvckJvb2siXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLGFBQWFDLFFBQVFDLE1BQVIsQ0FBZSxZQUFmLEVBQTZCLENBQUMsV0FBRCxDQUE3QixFQUNoQkMsTUFEZ0IsQ0FDVCxDQUFDLGdCQUFELEVBQWtCLG1CQUFsQixFQUFzQyxvQkFBdEMsRUFBNEQsVUFBVUMsY0FBVixFQUF5QkMsaUJBQXpCLEVBQTJDQyxrQkFBM0MsRUFBK0Q7QUFDbElBLG9CQUFtQkMsU0FBbkIsQ0FBNkIsR0FBN0I7QUFDQUgsZ0JBQ0NJLEtBREQsQ0FDTyxNQURQLEVBQ2U7QUFDZEMsT0FBSSxHQURVO0FBRWRDLGVBQWEsbUNBRkM7QUFHZEMsY0FBWTtBQUhFLEVBRGYsRUFNQ0gsS0FORCxDQU1PLFFBTlAsRUFNaUI7QUFDaEJDLE9BQUksU0FEWTtBQUVoQkMsZUFBYSxxQ0FGRztBQUdoQkMsY0FBWTtBQUhJLEVBTmpCLEVBV0NILEtBWEQsQ0FXTyxjQVhQLEVBV3VCO0FBQ3RCQyxPQUFJLGVBRGtCO0FBRXRCQyxlQUFhLDJD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O0FBS0N0WCxRQUFPNk4sSUFBUCxHQUFjLENBQUMsRUFBQyxRQUFPLE9BQVIsRUFBRCxFQUFrQixFQUFDLFFBQU8sT0FBUixFQUFsQixFQUFtQyxFQUFDLFFBQU8sU0FBUixFQUFuQyxDQUFkO0FBQ003TixRQUFPOFMsVUFBUCxHQUFvQixFQUFwQjtBQUNBOVMsUUFBT3VYLFdBQVAsR0FBcUIsVUFBU0MsSUFBVCxFQUFlO0FBQ2hDO0FBQ0Z6SSxVQUFRQyxHQUFSLENBQVl3SSxJQUFaO0FBQ0QsRUFIRDtBQUlBeFgsUUFBTzRVLEdBQVAsR0FBYSxFQUFiO0FBQ1AsQ0FmdUMsQ0FBeEM7QUNBQXhXLFdBQVdXLFVBQVgsQ0FBc0IsWUFBdEIsRUFBb0MsQ0FBQyxRQUFELEVBQVUsUUFBVixFQUFtQixhQUFuQixFQUFrQyxVQUFVaUIsTUFBVixFQUFpQm9RLE1BQWpCLEVBQXdCMUIsV0FBeEIsRUFBcUM7QUFDMUcxTyxRQUFPMk8sUUFBUDtBQUNBRCxhQUFZakIsaUJBQVosR0FBZ0NFLElBQWhDLENBQXFDLFVBQVNFLElBQVQsRUFBYztBQUNsRGtCLFVBQVFDLEdBQVIsQ0FBWW5CLElBQVo7QUFDQTdOLFNBQU95WCxVQUFQLEdBQW9CNUosSUFBcEI7QUFDQTdOLFNBQU8yTyxRQUFQLEdBQWtCZCxLQUFLWSxFQUF2QjtBQUNBLEVBSkQ7QUFLQXpPLFFBQU8wWCxVQUFQLEdBQW9CLFVBQVNqSixFQUFULEVBQVk7QUFDL0IyQixTQUFPb0MsRUFBUCxDQUFVLFFBQVY7QUFDQSxFQUZEO0FBR0EsQ0FWbUMsQ0FBcEMiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBzcGVjaWFsaXN0ID0gYW5ndWxhci5tb2R1bGUoJ3NwZWNpYWxpc3QnLCBbJ3VpLnJvdXRlciddKVxuLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywnJGxvY2F0aW9uUHJvdmlkZXInLCckdXJsUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsJGxvY2F0aW9uUHJvdmlkZXIsJHVybFJvdXRlclByb3ZpZGVyKSB7XG5cdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblx0JHN0YXRlUHJvdmlkZXJcblx0LnN0YXRlKCdob21lJywge1xuXHRcdHVybDonLycsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL3NwZWNpYWxpc3QvYnVpbGQvaHRtbC9tYWluLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdtYWluQ29udHJvbGxlcidcblx0fSlcblx0LnN0YXRlKCdzZWFyY2gnLCB7XG5cdFx0dXJsOicvc2VhcmNoJyxcblx0XHR0ZW1wbGF0ZVVybDogJy4vc3BlY2lhbGlzdC9idWlsZC9odG1sL3NlYXJjaC5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnU2VhcmNoQ3RybCdcblx0fSlcblx0LnN0YXRlKCdkb2N0b3JQb3J0YWwnLCB7XG5cdFx0dXJsOicvZG9jdG9yUG9ydGFsJyxcblx0XHR0ZW1wbGF0ZVVybDogJy4vc3BlY2lhbGlzdC9idWlsZC9odG1sL2RvY3RvclBvcnRhbC5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnZG9jdG9yUG9ydGFsQ3RybCdcblx0fSlcblx0LnN0YXRlKCdxdWVzJywge1xuXHRcdHVybDonL3F1ZXMnLFxuXHRcdHRlbXBsYXRlVXJsOiAnLi9zcGVjaWFsaXN0L2J1aWxkL2h0bWwvcXVlc2Fucy5odG1sJyxcblx0XHQvL2NvbnRyb2xsZXI6ICdRdWVzQ3RybCdcblx0fSlcblx0LnN0YXRlKCdkb2NTaWdudXAnLCB7XG5cdFx0dXJsOicvZG9jU2lnbnVwJyxcblx0XHR0ZW1wbGF0ZVVybDogJy4vc3BlY2lhbGlzdC9idWlsZC9odG1sL2RvY1NpZ251cC5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnZG9jU2lnbnVwQ3RybCdcblx0fSlcblx0LnN0YXRlKCdkb2N0b3JQcm9maWxlJywge1xuXHRcdHVybDonL2RvY3RvclByb2ZpbGUnLFxuXHRcdHRlbXBsYXRlVXJsOiAnLi9zcGVjaWFsaXN0L2J1aWxkL2h0bWwvZG9jUHJvZmlsZS5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnZG9jUHJvZmlsZUN0cmwnLFxuXHRcdGFic3RyYWN0OiB0cnVlXG5cdH0pXG5cdC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5kYXNoYm9hcmQnLCB7XG4gICAgICAgIHVybDogJycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9zcGVjaWFsaXN0L2J1aWxkL2h0bWwvZG9jcHJvZmlsZURhc2hib2FyZC5odG1sJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdkb2N0b3JQcm9maWxlLmZhcScsIHtcbiAgICAgICAgdXJsOiAnL2ZhcScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9zcGVjaWFsaXN0L2J1aWxkL2h0bWwvZG9jRmFxLmh0bWwnXG4gICAgfSlcbiAgICAuc3RhdGUoJ2RvY3RvclByb2ZpbGUucGxhbnMnLCB7XG4gICAgICAgIHVybDogJy9wbGFucycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9zcGVjaWFsaXN0L2J1aWxkL2h0bWwvZG9jUGxhbnMuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5wcm9maWxlJywge1xuICAgICAgICB1cmw6ICcvcHJvZmlsZScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9zcGVjaWFsaXN0L2J1aWxkL2h0bWwvZG9jVXNlclByb2ZpbGUuaHRtbCcsXG5cdFx0Y29udHJvbGxlcjogJ2RvY1Byb2ZpbGVDdHJsJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdkb2N0b3InLHtcbiAgICBcdHVybDonL2RvY3RvcicsXG4gICAgXHR0ZW1wbGF0ZVVybDonLi9zcGVjaWFsaXN0L2J1aWxkL2h0bWwvZG9jQm9va2luZy5odG1sJ1xuICAgIH0pXG5cdCRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbn1dKTsiLCIvL2FuZ3VsYXIubW9kdWxlKFwidWkuckNhbGVuZGFyLnRwbHNcIiwgW1wiLi4vdGVtcGxhdGUvcmNhbGVuZGFyL2NhbGVuZGVyLmh0bWxcIixcIi4uL3RlbXBsYXRlL3JjYWxlbmRhci9kYXkuaHRtbFwiLFwiLi4vdGVtcGxhdGUvcmNhbGVuZGFyL21vbnRoLmh0bWxcIixcIi4uL3RlbXBsYXRlL3JjYWxlbmRhci93ZWVrLmh0bWxcIl0pO1xuLy9hbmd1bGFyLm1vZHVsZSgndWkuckNhbGVuZGFyJywgW10pXG4gICAgc3BlY2lhbGlzdC5jb25zdGFudCgnY2FsZW5kYXJDb25maWcnLCB7XG4gICAgICAgIGZvcm1hdERheTogJ2RkJyxcbiAgICAgICAgZm9ybWF0RGF5SGVhZGVyOiAnRUVFJyxcbiAgICAgICAgZm9ybWF0RGF5VGl0bGU6ICdNTU1NIGRkLCB5eXl5JyxcbiAgICAgICAgZm9ybWF0V2Vla1RpdGxlOiAnTU1NTSB5eXl5LCBXZWVrIHcnLFxuICAgICAgICBmb3JtYXRNb250aFRpdGxlOiAnTU1NTSB5eXl5JyxcbiAgICAgICAgZm9ybWF0V2Vla1ZpZXdEYXlIZWFkZXI6ICdFRUUgZCcsXG4gICAgICAgIGZvcm1hdEhvdXJDb2x1bW46ICdoYScsXG4gICAgICAgIGNhbGVuZGFyTW9kZTogJ21vbnRoJyxcbiAgICAgICAgc2hvd1dlZWtzOiBmYWxzZSxcbiAgICAgICAgc2hvd0V2ZW50RGV0YWlsOiB0cnVlLFxuICAgICAgICBzdGFydGluZ0RheTogMCxcbiAgICAgICAgZXZlbnRTb3VyY2U6IG51bGwsXG4gICAgICAgIHF1ZXJ5TW9kZTogJ2xvY2FsJ1xuICAgIH0pXG4gICAgLmNvbnRyb2xsZXIoJ3VpLnJDYWxlbmRhci5DYWxlbmRhckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJyRpbnRlcnBvbGF0ZScsICckbG9nJywgJ2RhdGVGaWx0ZXInLCAnY2FsZW5kYXJDb25maWcnLCBmdW5jdGlvbiAoJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgJGludGVycG9sYXRlLCAkbG9nLCBkYXRlRmlsdGVyLCBjYWxlbmRhckNvbmZpZykge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsID0geyRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcH07IC8vIG51bGxNb2RlbEN0cmw7XG5cbiAgICAgICAgLy8gQ29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChbJ2Zvcm1hdERheScsICdmb3JtYXREYXlIZWFkZXInLCAnZm9ybWF0RGF5VGl0bGUnLCAnZm9ybWF0V2Vla1RpdGxlJywgJ2Zvcm1hdE1vbnRoVGl0bGUnLCAnZm9ybWF0V2Vla1ZpZXdEYXlIZWFkZXInLCAnZm9ybWF0SG91ckNvbHVtbicsXG4gICAgICAgICAgICAnc2hvd1dlZWtzJywgJ3Nob3dFdmVudERldGFpbCcsICdzdGFydGluZ0RheScsICdldmVudFNvdXJjZScsICdxdWVyeU1vZGUnXSwgZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHNlbGZba2V5XSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRyc1trZXldKSA/IChpbmRleCA8IDcgPyAkaW50ZXJwb2xhdGUoJGF0dHJzW2tleV0pKCRzY29wZS4kcGFyZW50KSA6ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRyc1trZXldKSkgOiBjYWxlbmRhckNvbmZpZ1trZXldO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJGF0dHJzLmV2ZW50U291cmNlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNlbGYub25FdmVudFNvdXJjZUNoYW5nZWQodmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuY2FsZW5kYXJNb2RlID0gJHNjb3BlLmNhbGVuZGFyTW9kZSB8fCBjYWxlbmRhckNvbmZpZy5jYWxlbmRhck1vZGU7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuaW5pdERhdGUpKSB7XG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRDYWxlbmRhckRhdGUgPSAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuaW5pdERhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VsZi5jdXJyZW50Q2FsZW5kYXJEYXRlKSB7XG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRDYWxlbmRhckRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgaWYgKCRhdHRycy5uZ01vZGVsICYmICEkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubmdNb2RlbCkpIHtcbiAgICAgICAgICAgICAgICAkcGFyc2UoJGF0dHJzLm5nTW9kZWwpLmFzc2lnbigkc2NvcGUuJHBhcmVudCwgc2VsZi5jdXJyZW50Q2FsZW5kYXJEYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uIChuZ01vZGVsQ3RybF8pIHtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuXG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSAhaXNOYU4oZGF0ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDYWxlbmRhckRhdGUgPSBkYXRlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ1wibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIGlzVmFsaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoVmlldygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYucmVmcmVzaFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yYW5nZSA9IHRoaXMuX2dldFJhbmdlKHRoaXMuY3VycmVudENhbGVuZGFyRGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVmcmVzaFZpZXcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlQ2hhbmdlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNwbGl0IGFycmF5IGludG8gc21hbGxlciBhcnJheXNcbiAgICAgICAgc2VsZi5zcGxpdCA9IGZ1bmN0aW9uIChhcnIsIHNpemUpIHtcbiAgICAgICAgICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlIChhcnIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFycmF5cy5wdXNoKGFyci5zcGxpY2UoMCwgc2l6ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFycmF5cztcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLm9uRXZlbnRTb3VyY2VDaGFuZ2VkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzZWxmLmV2ZW50U291cmNlID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoc2VsZi5fb25EYXRhTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fb25EYXRhTG9hZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLm1vdmUgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc3RlcCA9IHNlbGYubW9kZS5zdGVwLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRDYWxlbmRhckRhdGUgPSBzZWxmLmN1cnJlbnRDYWxlbmRhckRhdGUsXG4gICAgICAgICAgICAgICAgeWVhciA9IGN1cnJlbnRDYWxlbmRhckRhdGUuZ2V0RnVsbFllYXIoKSArIGRpcmVjdGlvbiAqIChzdGVwLnllYXJzIHx8IDApLFxuICAgICAgICAgICAgICAgIG1vbnRoID0gY3VycmVudENhbGVuZGFyRGF0ZS5nZXRNb250aCgpICsgZGlyZWN0aW9uICogKHN0ZXAubW9udGhzIHx8IDApLFxuICAgICAgICAgICAgICAgIGRhdGUgPSBjdXJyZW50Q2FsZW5kYXJEYXRlLmdldERhdGUoKSArIGRpcmVjdGlvbiAqIChzdGVwLmRheXMgfHwgMCksXG4gICAgICAgICAgICAgICAgZmlyc3REYXlJbk5leHRNb250aDtcblxuICAgICAgICAgICAgY3VycmVudENhbGVuZGFyRGF0ZS5zZXRGdWxsWWVhcih5ZWFyLCBtb250aCwgZGF0ZSk7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmNhbGVuZGFyTW9kZSA9PT0gJ21vbnRoJykge1xuICAgICAgICAgICAgICAgIGZpcnN0RGF5SW5OZXh0TW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCArIDEsIDEpO1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdERheUluTmV4dE1vbnRoLmdldFRpbWUoKSA8PSBjdXJyZW50Q2FsZW5kYXJEYXRlLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRDYWxlbmRhckRhdGUgPSBuZXcgRGF0ZShmaXJzdERheUluTmV4dE1vbnRoIC0gMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShzZWxmLmN1cnJlbnRDYWxlbmRhckRhdGUpO1xuICAgICAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYubW92ZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICRzY29wZS5tb3ZlKGRpcmVjdGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5yYW5nZUNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5xdWVyeU1vZGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5ldmVudFNvdXJjZSAmJiBzZWxmLl9vbkRhdGFMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fb25EYXRhTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLnF1ZXJ5TW9kZSA9PT0gJ3JlbW90ZScpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJhbmdlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmFuZ2VDaGFuZ2VkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogdGhpcy5yYW5nZS5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiB0aGlzLnJhbmdlLmVuZFRpbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIG92ZXJsYXAoZXZlbnQxLCBldmVudDIpIHtcbiAgICAgICAgICAgIHJldHVybiAhKGV2ZW50MS5lbmRJbmRleCA8PSBldmVudDIuc3RhcnRJbmRleCB8fCBldmVudDIuZW5kSW5kZXggPD0gZXZlbnQxLnN0YXJ0SW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlUG9zaXRpb24oZXZlbnRzKSB7XG4gICAgICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgICAgICBqLFxuICAgICAgICAgICAgICAgIGxlbiA9IGV2ZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbWF4Q29sdW1uID0gMCxcbiAgICAgICAgICAgICAgICBjb2wsXG4gICAgICAgICAgICAgICAgaXNGb3JiaWRkZW4gPSBuZXcgQXJyYXkobGVuKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb2wgPSAwOyBjb2wgPCBtYXhDb2x1bW47IGNvbCArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRm9yYmlkZGVuW2NvbF0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGk7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmxhcChldmVudHNbaV0sIGV2ZW50c1tqXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRm9yYmlkZGVuW2V2ZW50c1tqXS5wb3NpdGlvbl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29sID0gMDsgY29sIDwgbWF4Q29sdW1uOyBjb2wgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRm9yYmlkZGVuW2NvbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb2wgPCBtYXhDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzW2ldLnBvc2l0aW9uID0gY29sO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50c1tpXS5wb3NpdGlvbiA9IG1heENvbHVtbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVdpZHRoKG9yZGVyZWRFdmVudHMpIHtcbiAgICAgICAgICAgIHZhciBjZWxscyA9IG5ldyBBcnJheSgyNCksXG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBqLFxuICAgICAgICAgICAgICAgIGxlbixcbiAgICAgICAgICAgICAgICBldmVudENvdW50SW5DZWxsLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRFdmVudEluQ2VsbDtcblxuICAgICAgICAgICAgLy9zb3J0IGJ5IHBvc2l0aW9uIGluIGRlc2NlbmRpbmcgb3JkZXIsIHRoZSByaWdodCBtb3N0IGNvbHVtbnMgc2hvdWxkIGJlIGNhbGN1bGF0ZWQgZmlyc3RcbiAgICAgICAgICAgIG9yZGVyZWRFdmVudHMuc29ydChmdW5jdGlvbiAoZXZlbnRBLCBldmVudEIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRCLnBvc2l0aW9uIC0gZXZlbnRBLnBvc2l0aW9uO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGNlbGxzW2ldID0ge1xuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZW4gPSBvcmRlcmVkRXZlbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gb3JkZXJlZEV2ZW50c1tpXTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGV2ZW50LnN0YXJ0SW5kZXg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgZXZlbnQuZW5kSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbHNbaW5kZXhdLmV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IG9yZGVyZWRFdmVudHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudC5vdmVybGFwTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvdmVybGFwTnVtYmVyID0gZXZlbnQucG9zaXRpb24gKyAxO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5vdmVybGFwTnVtYmVyID0gb3ZlcmxhcE51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50UXVldWUgPSBbZXZlbnRdO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGV2ZW50ID0gZXZlbnRRdWV1ZS5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBldmVudC5zdGFydEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgZXZlbnQuZW5kSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNlbGxzW2luZGV4XS5jYWxjdWxhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxzW2luZGV4XS5jYWxjdWxhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGxzW2luZGV4XS5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Q291bnRJbkNlbGwgPSBjZWxsc1tpbmRleF0uZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBldmVudENvdW50SW5DZWxsOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RXZlbnRJbkNlbGwgPSBjZWxsc1tpbmRleF0uZXZlbnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudEV2ZW50SW5DZWxsLm92ZXJsYXBOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEV2ZW50SW5DZWxsLm92ZXJsYXBOdW1iZXIgPSBvdmVybGFwTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFF1ZXVlLnB1c2goY3VycmVudEV2ZW50SW5DZWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnBsYWNlRXZlbnRzID0gZnVuY3Rpb24gKG9yZGVyZWRFdmVudHMpIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZVBvc2l0aW9uKG9yZGVyZWRFdmVudHMpO1xuICAgICAgICAgICAgY2FsY3VsYXRlV2lkdGgob3JkZXJlZEV2ZW50cyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5wbGFjZUFsbERheUV2ZW50cyA9IGZ1bmN0aW9uIChvcmRlcmVkRXZlbnRzKSB7XG4gICAgICAgICAgICBjYWxjdWxhdGVQb3NpdGlvbihvcmRlcmVkRXZlbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XSlcbiAgICAuZGlyZWN0aXZlKCdjYWxlbmRhcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvY2FsZW5kZXIuaHRtbCcsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIGNhbGVuZGFyTW9kZTogJz0nLFxuICAgICAgICAgICAgICAgIHJhbmdlQ2hhbmdlZDogJyYnLFxuICAgICAgICAgICAgICAgIGV2ZW50U2VsZWN0ZWQ6ICcmJyxcbiAgICAgICAgICAgICAgICB0aW1lU2VsZWN0ZWQ6ICcmJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcXVpcmU6IFsnY2FsZW5kYXInLCAnP15uZ01vZGVsJ10sXG4gICAgICAgICAgICBjb250cm9sbGVyOiAndWkuckNhbGVuZGFyLkNhbGVuZGFyQ29udHJvbGxlcicsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgICAgICAgICAgIHZhciBjYWxlbmRhckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgICAgICAgICAgIGlmIChuZ01vZGVsQ3RybCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxlbmRhckN0cmwuaW5pdChuZ01vZGVsQ3RybCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKCdjaGFuZ2VEYXRlJywgZnVuY3Rpb24gKGV2ZW50LCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsZW5kYXJDdHJsLm1vdmUoZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLiRvbignZXZlbnRTb3VyY2VDaGFuZ2VkJywgZnVuY3Rpb24gKGV2ZW50LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxlbmRhckN0cmwub25FdmVudFNvdXJjZUNoYW5nZWQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pXG4gICAgLmRpcmVjdGl2ZSgnbW9udGh2aWV3JywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24gKGRhdGVGaWx0ZXIpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvbW9udGguaHRtbCcsXG4gICAgICAgICAgICByZXF1aXJlOiBbJ15jYWxlbmRhcicsICc/Xm5nTW9kZWwnXSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN0cmwgPSBjdHJsc1swXSxcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgICAgICAgICAgICBzY29wZS5zaG93V2Vla3MgPSBjdHJsLnNob3dXZWVrcztcbiAgICAgICAgICAgICAgICBzY29wZS5zaG93RXZlbnREZXRhaWwgPSBjdHJsLnNob3dFdmVudERldGFpbDtcblxuICAgICAgICAgICAgICAgIGN0cmwubW9kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcDoge21vbnRoczogMX1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RGF0ZXMoc3RhcnREYXRlLCBuKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlcyA9IG5ldyBBcnJheShuKSwgY3VycmVudCA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSksIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnNldEhvdXJzKDEyKTsgLy8gUHJldmVudCByZXBlYXRlZCBkYXRlcyBiZWNhdXNlIG9mIHRpbWV6b25lIGJ1Z1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVzW2krK10gPSBuZXcgRGF0ZShjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbiAoc2VsZWN0ZWREYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gc2NvcGUucm93cztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50Q2FsZW5kYXJEYXRlID0gY3RybC5jdXJyZW50Q2FsZW5kYXJEYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGN1cnJlbnRDYWxlbmRhckRhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50WWVhciA9IGN1cnJlbnRDYWxlbmRhckRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZE1vbnRoID0gc2VsZWN0ZWREYXRlLmdldE1vbnRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRZZWFyID0gc2VsZWN0ZWREYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50WWVhciA9PT0gc2VsZWN0ZWRZZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRNb250aCAhPT0gc2VsZWN0ZWRNb250aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBjdXJyZW50TW9udGggPCBzZWxlY3RlZE1vbnRoID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gY3VycmVudFllYXIgPCBzZWxlY3RlZFllYXIgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuY3VycmVudENhbGVuZGFyRGF0ZSA9IHNlbGVjdGVkRGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZ01vZGVsQ3RybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoc2VsZWN0ZWREYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCA2OyByb3cgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkYXRlID0gMDsgZGF0ZSA8IDc7IGRhdGUgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gY3RybC5jb21wYXJlKHNlbGVjdGVkRGF0ZSwgcm93c1tyb3ddW2RhdGVdLmRhdGUpID09PSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tyb3ddW2RhdGVdLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZERhdGUgPSByb3dzW3Jvd11bZGF0ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnRpbWVTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRpbWVTZWxlY3RlZCh7c2VsZWN0ZWRUaW1lOiBzZWxlY3RlZERhdGV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IGN0cmwucmFuZ2Uuc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHN0YXJ0RGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IChzdGFydERhdGUuZ2V0TW9udGgoKSArIChkYXRlICE9PSAxID8gMSA6IDApKSAlIDEyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpICsgKGRhdGUgIT09IDEgJiYgbW9udGggPT09IDAgPyAxIDogMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheXMgPSBnZXREYXRlcyhzdGFydERhdGUsIDQyKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0MjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlzW2ldID0gYW5ndWxhci5leHRlbmQoY3JlYXRlRGF0ZU9iamVjdChkYXlzW2ldLCBjdHJsLmZvcm1hdERheSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnk6IGRheXNbaV0uZ2V0TW9udGgoKSAhPT0gbW9udGhcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUubGFiZWxzID0gbmV3IEFycmF5KDcpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDc7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubGFiZWxzW2pdID0gZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsIGN0cmwuZm9ybWF0RGF5SGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkZXJEYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50LnRpdGxlID0gZGF0ZUZpbHRlcihoZWFkZXJEYXRlLCBjdHJsLmZvcm1hdE1vbnRoVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdChkYXlzLCA3KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuc2hvd1dlZWtzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRodXJzZGF5SW5kZXggPSAoNCArIDcgLSBjdHJsLnN0YXJ0aW5nRGF5KSAlIDcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtV2Vla3MgPSBzY29wZS5yb3dzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGN1cldlZWsgPSAwOyBjdXJXZWVrIDwgbnVtV2Vla3M7IGN1cldlZWsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLndlZWtOdW1iZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldElTTzg2MDFXZWVrTnVtYmVyKHNjb3BlLnJvd3NbY3VyV2Vla11bdGh1cnNkYXlJbmRleF0uZGF0ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURhdGVPYmplY3QoZGF0ZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGRhdGVGaWx0ZXIoZGF0ZSwgZm9ybWF0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBjdHJsLmNvbXBhcmUoZGF0ZSwgY3RybC5jdXJyZW50Q2FsZW5kYXJEYXRlKSA9PT0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGN0cmwuY29tcGFyZShkYXRlLCBuZXcgRGF0ZSgpKSA9PT0gMFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXBhcmVFdmVudChldmVudDEsIGV2ZW50Mikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQxLmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQyLmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChldmVudDEuc3RhcnRUaW1lLmdldFRpbWUoKSAtIGV2ZW50Mi5zdGFydFRpbWUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN0cmwuX29uRGF0YUxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50U291cmNlID0gY3RybC5ldmVudFNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbiA9IGV2ZW50U291cmNlID8gZXZlbnRTb3VyY2UubGVuZ3RoIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IGN0cmwucmFuZ2Uuc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IGN0cmwucmFuZ2UuZW5kVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0Y1N0YXJ0VGltZSA9IG5ldyBEYXRlKERhdGUuVVRDKHN0YXJ0VGltZS5nZXRGdWxsWWVhcigpLCBzdGFydFRpbWUuZ2V0TW9udGgoKSwgc3RhcnRUaW1lLmdldERhdGUoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXRjRW5kVGltZSA9IG5ldyBEYXRlKERhdGUuVVRDKGVuZFRpbWUuZ2V0RnVsbFllYXIoKSwgZW5kVGltZS5nZXRNb250aCgpLCBlbmRUaW1lLmdldERhdGUoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cyA9IHNjb3BlLnJvd3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVEYXkgPSA4NjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwcyA9IDAuMDAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0V2ZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3MuaGFzRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocm93ID0gMDsgcm93IDwgNjsgcm93ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGRhdGUgPSAwOyBkYXRlIDwgNzsgZGF0ZSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzW3Jvd11bZGF0ZV0uaGFzRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3Nbcm93XVtkYXRlXS5ldmVudHMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tyb3ddW2RhdGVdLmhhc0V2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudFNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudFN0YXJ0VGltZSA9IG5ldyBEYXRlKGV2ZW50LnN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRFbmRUaW1lID0gbmV3IERhdGUoZXZlbnQuZW5kVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5hbGxEYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDw9IHV0Y1N0YXJ0VGltZSB8fCBldmVudFN0YXJ0VGltZSA+PSB1dGNFbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ID0gdXRjU3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldCA9IHV0Y0VuZFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDw9IHN0YXJ0VGltZSB8fCBldmVudFN0YXJ0VGltZSA+PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ID0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldCA9IGVuZFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmZlcmVuY2VTdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudFN0YXJ0VGltZSA8PSBzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlU3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV2ZW50U3RhcnRUaW1lIC0gc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWV2ZW50LmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IHRpbWVEaWZmIC0gKGV2ZW50U3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdC5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZVN0YXJ0ID0gdGltZURpZmYgLyBvbmVEYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZmVyZW5jZUVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPj0gZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV0IC0gc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWV2ZW50LmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IHRpbWVEaWZmIC0gKGV0LmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdC5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZUVuZCA9IHRpbWVEaWZmIC8gb25lRGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV2ZW50RW5kVGltZSAtIHN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFldmVudC5hbGxEYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmYgPSB0aW1lRGlmZiAtIChldmVudEVuZFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0LmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlRW5kID0gdGltZURpZmYgLyBvbmVEYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IodGltZURpZmZlcmVuY2VTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPCB0aW1lRGlmZmVyZW5jZUVuZCAtIGVwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3dJbmRleCA9IE1hdGguZmxvb3IoaW5kZXggLyA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF5SW5kZXggPSBNYXRoLmZsb29yKGluZGV4ICUgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tyb3dJbmRleF1bZGF5SW5kZXhdLmhhc0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IHJvd3Nbcm93SW5kZXhdW2RheUluZGV4XS5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzW3Jvd0luZGV4XVtkYXlJbmRleF0uZXZlbnRzID0gZXZlbnRTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IDA7IHJvdyA8IDY7IHJvdyArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGRhdGUgPSAwOyBkYXRlIDwgNzsgZGF0ZSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3Nbcm93XVtkYXRlXS5oYXNFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3Nbcm93XVtkYXRlXS5ldmVudHMuc29ydChjb21wYXJlRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByb3dzLmhhc0V2ZW50ID0gaGFzRXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmRTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IDA7IHJvdyA8IDY7IHJvdyArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGRhdGUgPSAwOyBkYXRlIDwgNzsgZGF0ZSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3Nbcm93XVtkYXRlXS5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZERhdGUgPSByb3dzW3Jvd11bZGF0ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmRTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaW5kU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbiAoZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSkgKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY3RybC5fZ2V0UmFuZ2UgPSBmdW5jdGlvbiBnZXRSYW5nZShjdXJyZW50RGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdERheU9mTW9udGggPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmZXJlbmNlID0gY3RybC5zdGFydGluZ0RheSAtIGZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID0gKGRpZmZlcmVuY2UgPiAwKSA/IDcgLSBkaWZmZXJlbmNlIDogLWRpZmZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGUgPSBuZXcgRGF0ZShmaXJzdERheU9mTW9udGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGUuc2V0RGF0ZSgtbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVuZERhdGUgPSBuZXcgRGF0ZShzdGFydERhdGUpO1xuICAgICAgICAgICAgICAgICAgICBlbmREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgKyA0Mik7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZTogZW5kRGF0ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGVja0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTsgLy8gVGh1cnNkYXlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ3dlZWt2aWV3JywgWydkYXRlRmlsdGVyJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKGRhdGVGaWx0ZXIsICR0aW1lb3V0KSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi9idWlsZC9odG1sL3dlZWsuaHRtbCcsXG4gICAgICAgICAgICByZXF1aXJlOiAnXmNhbGVuZGFyJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JtYXRXZWVrVmlld0RheUhlYWRlciA9IGN0cmwuZm9ybWF0V2Vla1ZpZXdEYXlIZWFkZXI7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0SG91ckNvbHVtbiA9IGN0cmwuZm9ybWF0SG91ckNvbHVtbjtcblxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2Nyb2xsR3V0dGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjdHJsLm1vZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IHtkYXlzOiA3fVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVTY3JvbGxHdXR0ZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbERheUV2ZW50Qm9keSA9IGNoaWxkcmVuWzFdLmNoaWxkcmVuWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCA9IGFsbERheUV2ZW50Qm9keS5vZmZzZXRXaWR0aCAtIGFsbERheUV2ZW50Qm9keS5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vcm1hbEV2ZW50Qm9keSA9IGNoaWxkcmVuWzJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsRXZlbnRHdXR0ZXJXaWR0aCA9IG5vcm1hbEV2ZW50Qm9keS5vZmZzZXRXaWR0aCAtIG5vcm1hbEV2ZW50Qm9keS5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGd1dHRlcldpZHRoID0gYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCB8fCBub3JtYWxFdmVudEd1dHRlcldpZHRoIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChndXR0ZXJXaWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCA9IGd1dHRlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hbGxEYXlFdmVudEd1dHRlcldpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxFdmVudEd1dHRlcldpZHRoIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5ub3JtYWxHdXR0ZXJXaWR0aCA9IGd1dHRlcldpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5ub3JtYWxHdXR0ZXJXaWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXREYXRlcyhzdGFydFRpbWUsIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVzID0gbmV3IEFycmF5KG4pLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IG5ldyBEYXRlKHN0YXJ0VGltZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5zZXRIb3VycygxMik7IC8vIFByZXZlbnQgcmVwZWF0ZWQgZGF0ZXMgYmVjYXVzZSBvZiB0aW1lem9uZSBidWdcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlc1tpKytdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKGN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5zZXREYXRlKGN1cnJlbnQuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURhdGVPYmplY3RzKHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SG91ciA9IHN0YXJ0VGltZS5nZXRIb3VycygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSBzdGFydFRpbWUuZ2V0RGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGhvdXIgPSAwOyBob3VyIDwgMjQ7IGhvdXIgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkYXkgPSAwOyBkYXkgPCA3OyBkYXkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBuZXcgRGF0ZShzdGFydFRpbWUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNldEhvdXJzKGN1cnJlbnRIb3VyICsgaG91cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zZXREYXRlKGN1cnJlbnREYXRlICsgZGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzLnB1c2gocm93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGltZXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24gKHNlbGVjdGVkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUudGltZVNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS50aW1lU2VsZWN0ZWQoe3NlbGVjdGVkVGltZTogc2VsZWN0ZWRUaW1lfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY3RybC5fb25EYXRhTG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRTb3VyY2UgPSBjdHJsLmV2ZW50U291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gZXZlbnRTb3VyY2UgPyBldmVudFNvdXJjZS5sZW5ndGggOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gY3RybC5yYW5nZS5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gY3RybC5yYW5nZS5lbmRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXRjU3RhcnRUaW1lID0gbmV3IERhdGUoRGF0ZS5VVEMoc3RhcnRUaW1lLmdldEZ1bGxZZWFyKCksIHN0YXJ0VGltZS5nZXRNb250aCgpLCBzdGFydFRpbWUuZ2V0RGF0ZSgpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGNFbmRUaW1lID0gbmV3IERhdGUoRGF0ZS5VVEMoZW5kVGltZS5nZXRGdWxsWWVhcigpLCBlbmRUaW1lLmdldE1vbnRoKCksIGVuZFRpbWUuZ2V0RGF0ZSgpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzID0gc2NvcGUucm93cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVzID0gc2NvcGUuZGF0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVIb3VyID0gMzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZURheSA9IDg2NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICAvL2FkZCBhbGxkYXkgZXBzXG4gICAgICAgICAgICAgICAgICAgICAgICBlcHMgPSAwLjAxNixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5RXZlbnRJblJhbmdlID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxFdmVudEluUmFuZ2UgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXI7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3MuaGFzRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZGF5ID0gMDsgZGF5IDwgNzsgZGF5ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGhvdXIgPSAwOyBob3VyIDwgMjQ7IGhvdXIgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93c1tob3VyXVtkYXldLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tob3VyXVtkYXldLmV2ZW50cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLmhhc0V2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZXMuaGFzRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZGF5ID0gMDsgZGF5IDwgNzsgZGF5ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZXNbZGF5XS5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXNbZGF5XS5ldmVudHMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVzLmhhc0V2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudFNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudFN0YXJ0VGltZSA9IG5ldyBEYXRlKGV2ZW50LnN0YXJ0VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRFbmRUaW1lID0gbmV3IERhdGUoZXZlbnQuZW5kVGltZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5hbGxEYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDw9IHV0Y1N0YXJ0VGltZSB8fCBldmVudFN0YXJ0VGltZSA+PSB1dGNFbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERheUV2ZW50SW5SYW5nZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsbERheVN0YXJ0SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudFN0YXJ0VGltZSA8PSB1dGNTdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERheVN0YXJ0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5U3RhcnRJbmRleCA9IE1hdGguZmxvb3IoKGV2ZW50U3RhcnRUaW1lIC0gdXRjU3RhcnRUaW1lKSAvIG9uZURheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxsRGF5RW5kSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPj0gdXRjRW5kVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5RW5kSW5kZXggPSBNYXRoLmNlaWwoKHV0Y0VuZFRpbWUgLSB1dGNTdGFydFRpbWUpIC8gb25lRGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERheUVuZEluZGV4ID0gTWF0aC5jZWlsKChldmVudEVuZFRpbWUgLSB1dGNTdGFydFRpbWUpIC8gb25lRGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5QWxsRGF5RXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4OiBhbGxEYXlTdGFydEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kSW5kZXg6IGFsbERheUVuZEluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQgPSBkYXRlc1thbGxEYXlTdGFydEluZGV4XS5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudFNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQucHVzaChkaXNwbGF5QWxsRGF5RXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LnB1c2goZGlzcGxheUFsbERheUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVzW2FsbERheVN0YXJ0SW5kZXhdLmV2ZW50cyA9IGV2ZW50U2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDw9IHN0YXJ0VGltZSB8fCBldmVudFN0YXJ0VGltZSA+PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbEV2ZW50SW5SYW5nZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVEaWZmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmZlcmVuY2VTdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U3RhcnRUaW1lIDw9IHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VTdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV2ZW50U3RhcnRUaW1lIC0gc3RhcnRUaW1lIC0gKGV2ZW50U3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdGFydFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSkgKiA2MDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlU3RhcnQgPSB0aW1lRGlmZiAvIG9uZUhvdXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmZlcmVuY2VFbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPj0gZW5kVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmYgPSBlbmRUaW1lIC0gc3RhcnRUaW1lIC0gKGVuZFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0VGltZS5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VFbmQgPSB0aW1lRGlmZiAvIG9uZUhvdXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV2ZW50RW5kVGltZSAtIHN0YXJ0VGltZSAtIChldmVudEVuZFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0VGltZS5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VFbmQgPSB0aW1lRGlmZiAvIG9uZUhvdXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRJbmRleCA9IE1hdGguZmxvb3IodGltZURpZmZlcmVuY2VTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRJbmRleCA9IE1hdGguY2VpbCh0aW1lRGlmZmVyZW5jZUVuZCAtIGVwcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFJvd0luZGV4ID0gc3RhcnRJbmRleCAlIDI0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF5SW5kZXggPSBNYXRoLmZsb29yKHN0YXJ0SW5kZXggLyAyNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRPZkRheSA9IGRheUluZGV4ICogMjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRSb3dJbmRleDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRPZkRheSArPSAyNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmRPZkRheSA8PSBlbmRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFJvd0luZGV4ID0gMjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZFJvd0luZGV4ID0gZW5kSW5kZXggJSAyNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5RXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXg6IHN0YXJ0Um93SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kSW5kZXg6IGVuZFJvd0luZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQgPSByb3dzW3N0YXJ0Um93SW5kZXhdW2RheUluZGV4XS5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldC5wdXNoKGRpc3BsYXlFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQucHVzaChkaXNwbGF5RXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3Nbc3RhcnRSb3dJbmRleF1bZGF5SW5kZXhdLmV2ZW50cyA9IGV2ZW50U2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRSb3dJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlJbmRleCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChlbmRPZkRheSA8IGVuZEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm9ybWFsRXZlbnRJblJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGRheSA9IDA7IGRheSA8IDc7IGRheSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyZWRFdmVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGhvdXIgPSAwOyBob3VyIDwgMjQ7IGhvdXIgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93c1tob3VyXVtkYXldLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZEV2ZW50cyA9IG9yZGVyZWRFdmVudHMuY29uY2F0KHJvd3NbaG91cl1bZGF5XS5ldmVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkRXZlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5oYXNFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucGxhY2VFdmVudHMob3JkZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbERheUV2ZW50SW5SYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyZWRBbGxEYXlFdmVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZGF5ID0gMDsgZGF5IDwgNzsgZGF5ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZXNbZGF5XS5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZEFsbERheUV2ZW50cyA9IG9yZGVyZWRBbGxEYXlFdmVudHMuY29uY2F0KGRhdGVzW2RheV0uZXZlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJlZEFsbERheUV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXMuaGFzRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucGxhY2VBbGxEYXlFdmVudHMob3JkZXJlZEFsbERheUV2ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVTY3JvbGxHdXR0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3REYXlPZldlZWsgPSBjdHJsLnJhbmdlLnN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVzID0gZ2V0RGF0ZXMoZmlyc3REYXlPZldlZWssIDcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2Vla051bWJlckluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgd2Vla0Zvcm1hdFBhdHRlcm4gPSAndycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5yb3dzID0gY3JlYXRlRGF0ZU9iamVjdHMoZmlyc3REYXlPZldlZWspO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRlcyA9IGRhdGVzO1xuICAgICAgICAgICAgICAgICAgICB3ZWVrTnVtYmVySW5kZXggPSBjdHJsLmZvcm1hdFdlZWtUaXRsZS5pbmRleE9mKHdlZWtGb3JtYXRQYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBkYXRlRmlsdGVyKGZpcnN0RGF5T2ZXZWVrLCBjdHJsLmZvcm1hdFdlZWtUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3ZWVrTnVtYmVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2Uod2Vla0Zvcm1hdFBhdHRlcm4sIGdldElTTzg2MDFXZWVrTnVtYmVyKGZpcnN0RGF5T2ZXZWVrKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudC50aXRsZSA9IHRpdGxlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLl9nZXRSYW5nZSA9IGZ1bmN0aW9uIGdldFJhbmdlKGN1cnJlbnREYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSBjdXJyZW50RGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXkgPSBjdXJyZW50RGF0ZS5nZXREYXkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUgLSBkYXkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXRlIC0gZGF5ICsgNyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vVGhpcyBjYW4gYmUgZGVjb21pc3Npb25lZCB3aGVuIHVwZ3JhZGUgdG8gQW5ndWxhciAxLjNcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGVja0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTsgLy8gVGh1cnNkYXlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ2RheXZpZXcnLCBbJ2RhdGVGaWx0ZXInLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoZGF0ZUZpbHRlciwgJHRpbWVvdXQpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvZGF5Lmh0bWwnLFxuICAgICAgICAgICAgcmVxdWlyZTogJ15jYWxlbmRhcicsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZm9ybWF0SG91ckNvbHVtbiA9IGN0cmwuZm9ybWF0SG91ckNvbHVtbjtcblxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2Nyb2xsR3V0dGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjdHJsLm1vZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IHtkYXlzOiAxfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVTY3JvbGxHdXR0ZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbERheUV2ZW50Qm9keSA9IGNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCA9IGFsbERheUV2ZW50Qm9keS5vZmZzZXRXaWR0aCAtIGFsbERheUV2ZW50Qm9keS5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vcm1hbEV2ZW50Qm9keSA9IGNoaWxkcmVuWzFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsRXZlbnRHdXR0ZXJXaWR0aCA9IG5vcm1hbEV2ZW50Qm9keS5vZmZzZXRXaWR0aCAtIG5vcm1hbEV2ZW50Qm9keS5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGd1dHRlcldpZHRoID0gYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCB8fCBub3JtYWxFdmVudEd1dHRlcldpZHRoIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChndXR0ZXJXaWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxEYXlFdmVudEd1dHRlcldpZHRoIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hbGxEYXlFdmVudEd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmFsbERheUV2ZW50R3V0dGVyV2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vcm1hbEV2ZW50R3V0dGVyV2lkdGggPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm5vcm1hbEd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm5vcm1hbEd1dHRlcldpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURhdGVPYmplY3RzKHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93cyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRIb3VyID0gc3RhcnRUaW1lLmdldEhvdXJzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSA9IHN0YXJ0VGltZS5nZXREYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaG91ciA9IDA7IGhvdXIgPCAyNDsgaG91ciArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gbmV3IERhdGUoc3RhcnRUaW1lLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNldEhvdXJzKGN1cnJlbnRIb3VyICsgaG91cik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNldERhdGUoY3VycmVudERhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93cztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uIChzZWxlY3RlZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnRpbWVTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudGltZVNlbGVjdGVkKHtzZWxlY3RlZFRpbWU6IHNlbGVjdGVkVGltZX0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN0cmwuX29uRGF0YUxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50U291cmNlID0gY3RybC5ldmVudFNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlbiA9IGV2ZW50U291cmNlID8gZXZlbnRTb3VyY2UubGVuZ3RoIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IGN0cmwucmFuZ2Uuc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IGN0cmwucmFuZ2UuZW5kVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0Y1N0YXJ0VGltZSA9IG5ldyBEYXRlKERhdGUuVVRDKHN0YXJ0VGltZS5nZXRGdWxsWWVhcigpLCBzdGFydFRpbWUuZ2V0TW9udGgoKSwgc3RhcnRUaW1lLmdldERhdGUoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXRjRW5kVGltZSA9IG5ldyBEYXRlKERhdGUuVVRDKGVuZFRpbWUuZ2V0RnVsbFllYXIoKSwgZW5kVGltZS5nZXRNb250aCgpLCBlbmRUaW1lLmdldERhdGUoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cyA9IHNjb3BlLnJvd3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXlFdmVudHMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZUhvdXIgPSAzNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBzID0gMC4wMTYsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbEV2ZW50SW5SYW5nZSA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocm93cy5oYXNFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChob3VyID0gMDsgaG91ciA8IDI0OyBob3VyICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93c1tob3VyXS5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tob3VyXS5ldmVudHMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MuaGFzRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50U291cmNlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50U3RhcnRUaW1lID0gbmV3IERhdGUoZXZlbnQuc3RhcnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudEVuZFRpbWUgPSBuZXcgRGF0ZShldmVudC5lbmRUaW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPD0gdXRjU3RhcnRUaW1lIHx8IGV2ZW50U3RhcnRUaW1lID49IHV0Y0VuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5RXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50RW5kVGltZSA8PSBzdGFydFRpbWUgfHwgZXZlbnRTdGFydFRpbWUgPj0gZW5kVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxFdmVudEluUmFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmZlcmVuY2VTdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRTdGFydFRpbWUgPD0gc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlU3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZXZlbnRTdGFydFRpbWUgLSBzdGFydFRpbWUgLSAoZXZlbnRTdGFydFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0VGltZS5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZVN0YXJ0ID0gdGltZURpZmYgLyBvbmVIb3VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZmVyZW5jZUVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRFbmRUaW1lID49IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmYgPSBlbmRUaW1lIC0gc3RhcnRUaW1lIC0gKGVuZFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0VGltZS5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZUVuZCA9IHRpbWVEaWZmIC8gb25lSG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGV2ZW50RW5kVGltZSAtIHN0YXJ0VGltZSAtIChldmVudEVuZFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0VGltZS5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZUVuZCA9IHRpbWVEaWZmIC8gb25lSG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRJbmRleCA9IE1hdGguZmxvb3IodGltZURpZmZlcmVuY2VTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZEluZGV4ID0gTWF0aC5jZWlsKHRpbWVEaWZmZXJlbmNlRW5kIC0gZXBzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5RXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleDogc3RhcnRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kSW5kZXg6IGVuZEluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0ID0gcm93c1tzdGFydEluZGV4XS5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LnB1c2goZGlzcGxheUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldC5wdXNoKGRpc3BsYXlFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3Nbc3RhcnRJbmRleF0uZXZlbnRzID0gZXZlbnRTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vcm1hbEV2ZW50SW5SYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyZWRFdmVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaG91ciA9IDA7IGhvdXIgPCAyNDsgaG91ciArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3NbaG91cl0uZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyZWRFdmVudHMgPSBvcmRlcmVkRXZlbnRzLmNvbmNhdChyb3dzW2hvdXJdLmV2ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyZWRFdmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MuaGFzRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucGxhY2VFdmVudHMob3JkZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5hbGxEYXlFdmVudHMgPSBhbGxEYXlFdmVudHM7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2Nyb2xsR3V0dGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0aW5nRGF0ZSA9IGN0cmwucmFuZ2Uuc3RhcnRUaW1lO1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJvd3MgPSBjcmVhdGVEYXRlT2JqZWN0cyhzdGFydGluZ0RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5hbGxEYXlFdmVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZGF0ZXMgPSBbc3RhcnRpbmdEYXRlXTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudC50aXRsZSA9IGRhdGVGaWx0ZXIoc3RhcnRpbmdEYXRlLCBjdHJsLmZvcm1hdERheVRpdGxlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY3RybC5fZ2V0UmFuZ2UgPSBmdW5jdGlvbiBnZXRSYW5nZShjdXJyZW50RGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gY3VycmVudERhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXRlICsgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfV0pO1xuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9yY2FsZW5kYXIvY2FsZW5kYXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3JjYWxlbmRhci9jYWxlbmRhci5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLXN3aXRjaD1cXFwiY2FsZW5kYXJNb2RlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwicm93IGNhbGVuZGFyLW5hdmJhclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJuYXYtbGVmdCBjb2wteHMtMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiPjxpXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FsZW5kYXItaGVhZGVyIGNvbC14cy04XFxcIj57e3RpdGxlfX08L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcIm5hdi1yaWdodCBjb2wteHMtMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCI+PGlcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRheXZpZXcgbmctc3dpdGNoLXdoZW49XFxcImRheVxcXCI+PC9kYXl2aWV3PlxcblwiICtcbiAgICBcIiAgICA8bW9udGh2aWV3IG5nLXN3aXRjaC13aGVuPVxcXCJtb250aFxcXCI+PC9tb250aHZpZXc+XFxuXCIgK1xuICAgIFwiICAgIDx3ZWVrdmlldyBuZy1zd2l0Y2gtd2hlbj1cXFwid2Vla1xcXCI+PC93ZWVrdmlldz5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcmNhbGVuZGFyL2RheS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcmNhbGVuZGFyL2RheS5odG1sXCIsXG4gICAgXCI8ZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJkYXl2aWV3LWFsbGRheS10YWJsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkYXl2aWV3LWFsbGRheS1sYWJlbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgYWxsIGRheVxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJkYXl2aWV3LWFsbGRheS1jb250ZW50LXdyYXBwZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgZGF5dmlldy1hbGxkYXktY29udGVudC10YWJsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJjYWxlbmRhci1jZWxsXFxcIiBuZy1jbGFzcz1cXFwieydjYWxlbmRhci1ldmVudC13cmFwJzphbGxEYXlFdmVudHN9XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIG5nLXN0eWxlPVxcXCJ7aGVpZ2h0OiAyNSphbGxEYXlFdmVudHMubGVuZ3RoKydweCd9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cXFwiZGlzcGxheUV2ZW50IGluIGFsbERheUV2ZW50c1xcXCIgY2xhc3M9XFxcImNhbGVuZGFyLWV2ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XFxcImV2ZW50U2VsZWN0ZWQoe2V2ZW50OmRpc3BsYXlFdmVudC5ldmVudH0pXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctc3R5bGU9XFxcInt0b3A6IDI1KiRpbmRleCsncHgnLHdpZHRoOiAnMTAwJScsaGVpZ2h0OicyNXB4J31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYWxlbmRhci1ldmVudC1pbm5lclxcXCI+e3tkaXNwbGF5RXZlbnQuZXZlbnQudGl0bGV9fTwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDx0ZCBuZy1pZj1cXFwiYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aD4wXFxcIiBjbGFzcz1cXFwiZ3V0dGVyLWNvbHVtblxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICBuZy1zdHlsZT1cXFwie3dpZHRoOmFsbERheUV2ZW50R3V0dGVyV2lkdGgrJ3B4J31cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90YWJsZT5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwic2Nyb2xsYWJsZVxcXCIgc3R5bGU9XFxcImhlaWdodDogNDAwcHhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1maXhlZFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcInRtIGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJjYWxlbmRhci1ob3VyLWNvbHVtbiB0ZXh0LWNlbnRlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICB7e3RtLnRpbWUgfCBkYXRlOiBmb3JtYXRIb3VyQ29sdW1ufX1cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJjYWxlbmRhci1jZWxsXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KHRtLnRpbWUpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctY2xhc3M9XFxcInsnY2FsZW5kYXItZXZlbnQtd3JhcCc6IHRtLmV2ZW50c31cXFwiIG5nLWlmPVxcXCJ0bS5ldmVudHNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctcmVwZWF0PVxcXCJkaXNwbGF5RXZlbnQgaW4gdG0uZXZlbnRzXFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItZXZlbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwiZXZlbnRTZWxlY3RlZCh7ZXZlbnQ6ZGlzcGxheUV2ZW50LmV2ZW50fSlcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1zdHlsZT1cXFwie2xlZnQ6IDEwMC9kaXNwbGF5RXZlbnQub3ZlcmxhcE51bWJlcipkaXNwbGF5RXZlbnQucG9zaXRpb24rJyUnLCB3aWR0aDogMTAwL2Rpc3BsYXlFdmVudC5vdmVybGFwTnVtYmVyKyclJywgaGVpZ2h0OiAzNyooZGlzcGxheUV2ZW50LmVuZEluZGV4LWRpc3BsYXlFdmVudC5zdGFydEluZGV4KSsncHgnfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyLWV2ZW50LWlubmVyXFxcIj57e2Rpc3BsYXlFdmVudC5ldmVudC50aXRsZX19PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RhYmxlPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcmNhbGVuZGFyL21vbnRoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9yY2FsZW5kYXIvbW9udGguaHRtbFwiLFxuICAgIFwiPGRpdj5cXG5cIiArXG4gICAgXCIgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1maXhlZCBtb250aHZpZXctZGF0ZXRhYmxlIG1vbnRodmlldy1kYXRldGFibGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICAgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0aCBuZy1zaG93PVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJjYWxlbmRhci13ZWVrLWNvbHVtbiB0ZXh0LWNlbnRlclxcXCI+IzwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRoIG5nLXJlcGVhdD1cXFwibGFiZWwgaW4gbGFiZWxzIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHNtYWxsPnt7bGFiZWx9fTwvc21hbGw+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90aD5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgICAgICAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICAgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItd2Vlay1jb2x1bW4gdGV4dC1jZW50ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8c21hbGw+PGVtPnt7IHdlZWtOdW1iZXJzWyRpbmRleF0gfX08L2VtPjwvc21hbGw+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcIm1vbnRodmlldy1kYXRlQ2VsbFxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgbmctY2xhc3M9XFxcInsndGV4dC1jZW50ZXInOnRydWUsICdtb250aHZpZXctY3VycmVudCc6IGR0LmN1cnJlbnQmJiFkdC5zZWxlY3RlZCYmIWR0Lmhhc0V2ZW50LCdtb250aHZpZXctc2Vjb25kYXJ5LXdpdGgtZXZlbnQnOiBkdC5zZWNvbmRhcnkmJmR0Lmhhc0V2ZW50LCAnbW9udGh2aWV3LXByaW1hcnktd2l0aC1ldmVudCc6IWR0LnNlY29uZGFyeSYmZHQuaGFzRXZlbnQmJiFkdC5zZWxlY3RlZCwgJ21vbnRodmlldy1zZWxlY3RlZCc6IGR0LnNlbGVjdGVkfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDxkaXYgbmctY2xhc3M9XFxcInsndGV4dC1tdXRlZCc6ZHQuc2Vjb25kYXJ5fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICB7e2R0LmxhYmVsfX1cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3Rib2R5PlxcblwiICtcbiAgICBcIiAgICA8L3RhYmxlPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IG5nLWlmPVxcXCJzaG93RXZlbnREZXRhaWxcXFwiIGNsYXNzPVxcXCJldmVudC1kZXRhaWwtY29udGFpbmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcInNjcm9sbGFibGVcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6IDIwMHB4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLXN0cmlwZWQgdGFibGUtZml4ZWRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dHIgbmctcmVwZWF0PVxcXCJldmVudCBpbiBzZWxlY3RlZERhdGUuZXZlbnRzXFxcIiBuZy1pZj1cXFwic2VsZWN0ZWREYXRlLmV2ZW50c1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8dGQgbmctaWY9XFxcIiFldmVudC5hbGxEYXlcXFwiIGNsYXNzPVxcXCJtb250aHZpZXctZXZlbnRkZXRhaWwtdGltZWNvbHVtblxcXCI+e3tldmVudC5zdGFydFRpbWV8ZGF0ZTogJ0hIOm1tJ319XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgLVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIHt7ZXZlbnQuZW5kVGltZXxkYXRlOiAnSEg6bW0nfX1cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8dGQgbmctaWY9XFxcImV2ZW50LmFsbERheVxcXCIgY2xhc3M9XFxcIm1vbnRodmlldy1ldmVudGRldGFpbC10aW1lY29sdW1uXFxcIj5BbGwgZGF5PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiZXZlbnQtZGV0YWlsXFxcIiBuZy1jbGljaz1cXFwiZXZlbnRTZWxlY3RlZCh7ZXZlbnQ6ZXZlbnR9KVxcXCI+e3tldmVudC50aXRsZX19PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRyIG5nLWlmPVxcXCIhc2VsZWN0ZWREYXRlLmV2ZW50c1xcXCI+PHRkIGNsYXNzPVxcXCJuby1ldmVudC1sYWJlbFxcXCI+Tm8gRXZlbnRzPC90ZD48L3RyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdGFibGU+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JjYWxlbmRhci93ZWVrLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9yY2FsZW5kYXIvd2Vlay5odG1sXCIsXG4gICAgXCI8ZGl2PlxcblwiICtcbiAgICBcIiAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWZpeGVkIHdlZWt2aWV3LWhlYWRlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRoIGNsYXNzPVxcXCJjYWxlbmRhci1ob3VyLWNvbHVtblxcXCI+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGggbmctcmVwZWF0PVxcXCJkdCBpbiBkYXRlc1xcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyIHdlZWt2aWV3LWhlYWRlci1sYWJlbFxcXCI+e3tkdC5kYXRlfCBkYXRlOlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICBmb3JtYXRXZWVrVmlld0RheUhlYWRlcn19XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90aD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGggbmctaWY9XFxcImd1dHRlcldpZHRoPjBcXFwiIGNsYXNzPVxcXCJndXR0ZXItY29sdW1uXFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiBndXR0ZXJXaWR0aCsncHgnfVxcXCI+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgICA8L3RhYmxlPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJ3ZWVrdmlldy1hbGxkYXktdGFibGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwid2Vla3ZpZXctYWxsZGF5LWxhYmVsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICBhbGwgZGF5XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcIndlZWt2aWV3LWFsbGRheS1jb250ZW50LXdyYXBwZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtZml4ZWQgd2Vla3ZpZXctYWxsZGF5LWNvbnRlbnQtdGFibGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImRheSBpbiBkYXRlcyB0cmFjayBieSBkYXkuZGF0ZVxcXCIgY2xhc3M9XFxcImNhbGVuZGFyLWNlbGxcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctY2xhc3M9XFxcInsnY2FsZW5kYXItZXZlbnQtd3JhcCc6IGRheS5ldmVudHN9XFxcIiBuZy1pZj1cXFwiZGF5LmV2ZW50c1xcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXN0eWxlPVxcXCJ7aGVpZ2h0OiAyNSpkYXkuZXZlbnRzLmxlbmd0aCsncHgnfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctcmVwZWF0PVxcXCJkaXNwbGF5RXZlbnQgaW4gZGF5LmV2ZW50c1xcXCIgY2xhc3M9XFxcImNhbGVuZGFyLWV2ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJldmVudFNlbGVjdGVkKHtldmVudDpkaXNwbGF5RXZlbnQuZXZlbnR9KVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1zdHlsZT1cXFwie3RvcDogMjUqZGlzcGxheUV2ZW50LnBvc2l0aW9uKydweCcsIHdpZHRoOiAxMDAqKGRpc3BsYXlFdmVudC5lbmRJbmRleC1kaXNwbGF5RXZlbnQuc3RhcnRJbmRleCkrJyUnLCBoZWlnaHQ6ICcyNXB4J31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FsZW5kYXItZXZlbnQtaW5uZXJcXFwiPnt7ZGlzcGxheUV2ZW50LmV2ZW50LnRpdGxlfX08L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPHRkIG5nLWlmPVxcXCJhbGxEYXlFdmVudEd1dHRlcldpZHRoPjBcXFwiIGNsYXNzPVxcXCJndXR0ZXItY29sdW1uXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIG5nLXN0eWxlPVxcXCJ7d2lkdGg6IGFsbERheUV2ZW50R3V0dGVyV2lkdGgrJ3B4J31cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90YWJsZT5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwic2Nyb2xsYWJsZVxcXCIgc3R5bGU9XFxcImhlaWdodDogNDAwcHhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1maXhlZFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY2FsZW5kYXItaG91ci1jb2x1bW4gdGV4dC1jZW50ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAge3tyb3dbMF0udGltZSB8IGRhdGU6IGZvcm1hdEhvdXJDb2x1bW59fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dGQgbmctcmVwZWF0PVxcXCJ0bSBpbiByb3cgdHJhY2sgYnkgdG0udGltZVxcXCIgY2xhc3M9XFxcImNhbGVuZGFyLWNlbGxcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QodG0udGltZSlcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1jbGFzcz1cXFwieydjYWxlbmRhci1ldmVudC13cmFwJzogdG0uZXZlbnRzfVxcXCIgbmctaWY9XFxcInRtLmV2ZW50c1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XFxcImRpc3BsYXlFdmVudCBpbiB0bS5ldmVudHNcXFwiIGNsYXNzPVxcXCJjYWxlbmRhci1ldmVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJldmVudFNlbGVjdGVkKHtldmVudDpkaXNwbGF5RXZlbnQuZXZlbnR9KVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXN0eWxlPVxcXCJ7bGVmdDogMTAwL2Rpc3BsYXlFdmVudC5vdmVybGFwTnVtYmVyKmRpc3BsYXlFdmVudC5wb3NpdGlvbisnJScsIHdpZHRoOiAxMDAvZGlzcGxheUV2ZW50Lm92ZXJsYXBOdW1iZXIrJyUnLCBoZWlnaHQ6IDM3KihkaXNwbGF5RXZlbnQuZW5kSW5kZXgtZGlzcGxheUV2ZW50LnN0YXJ0SW5kZXgpKydweCd9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FsZW5kYXItZXZlbnQtaW5uZXJcXFwiPnt7ZGlzcGxheUV2ZW50LmV2ZW50LnRpdGxlfX08L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dGQgbmctaWY9XFxcIm5vcm1hbEd1dHRlcldpZHRoPjBcXFwiIGNsYXNzPVxcXCJndXR0ZXItY29sdW1uXFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiBub3JtYWxHdXR0ZXJXaWR0aCsncHgnfVxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RhYmxlPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cIik7XG59XSk7Iiwic3BlY2lhbGlzdC5mYWN0b3J5KCdkYXRhU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXHR2YXIgc2lnblVwRG9jT2JqID0ge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0RnVsbERvY3Rvckxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cDovLzAuMC4wLjA6ODA4MS9kb2N0b3IvbGlzdCcpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hlY2tVc2VyRXhpc3RhbmNlOiBmdW5jdGlvbigpIHtcblxuICAgICAgICB9LFxuICAgICAgICBzaWduVXBEb2N0b3I6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJ2h0dHA6Ly8wLjAuMC4wOjgwODEvZG9jdG9yL2FkZCcsb2JqKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgICAgIHNldFNlc3Npb24ocmVzcCk7XG4gICAgICAgICAgICBcdHJldHVybiByZXNwO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIHZhciBvYmogPSB7XG4gICAgICAgICAgICAvLyAgICAgJ3Nlc3Npb25JZCc6ICcyMzQ1ODg2MycsXG4gICAgICAgICAgICAvLyAgICAgJ2RvY0RhdGEnOiB7ICduYW1lJzogJ25pdGluJywgJ2VtYWlsJzogJ250bmdpcmlAZ21haWwuY29tJywgJ2FkZHJlc3MnOiAna3NqZG52IHNrdm5qJywgJ2NpdHknOiAnR3VyZ2FvbicsICdzdGF0ZSc6ICdoYXJ5YW5hJywgJ21vYic6ICc3MDQxMjk5Mjg3MycsICdjbGluaWMnOiAna3NqYmQnLCAnZmVlJzogJzY5OScsICdodl9mZWUnOiAnNzM2NScgfVxuICAgICAgICAgICAgLy8gfTtcbiAgICAgICAgICAgIC8vIHNpZ25VcERvY09iaiA9IG9iajtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkYXRhU2VydmljZScsc2lnblVwRG9jT2JqKTtcbiAgICAgICAgICAgIC8vcmV0dXJuIHNpZ25VcERvY09iajtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U2Vzc2lvbjpmdW5jdGlvbih1c2VyKXtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnVzZXIgPSBKU09OLnN0cmluZ2lmeSgkc2NvcGUudXNlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNlc3Npb246ZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uU3RvcmFnZS51c2VyO1xuICAgICAgICB9LFxuICAgICAgICBnZXREb2N0b3JEYXRhOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnaHR0cDovLzAuMC4wLjA6ODA4MS9kb2N0b3IvJytpZCkudGhlbihmdW5jdGlvbihyZXNwKXtcbiAgICAgICAgICAgIFx0cmV0dXJuIHJlc3AuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1dKVxuIiwic3BlY2lhbGlzdC5jb250cm9sbGVyKCdkb2NQcm9maWxlQ3RybCcsIFsnJHNjb3BlJywgJ2RhdGFTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCBkYXRhU2VydmljZSkge1xuICAgIHZhciBkb2N0b3JJZCA9IDQ7XG4gICAgJHNjb3BlLmVkaXRQcm9maWxlMiA9IGZhbHNlO1xuICAgICRzY29wZS5lZGl0UHJvZmlsZSA9IHRydWU7XG4gICAgLy8gZGF0YVNlcnZpY2UuZ2V0RG9jdG9yRGF0YShkb2N0b3JJZCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIC8vICAgICAkc2NvcGUuZG9jdG9yRGF0YSA9IGRhdGFbMF07XG4gICAgLy8gfSk7XG4gICAgJHNjb3BlLmRvY0pzb247XG4gICAgZGF0YVNlcnZpY2UuZ2V0RG9jdG9yRGF0YSgnMTQnKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAkc2NvcGUuZG9jSnNvbiA9IHJlc3BbMF07XG4gICAgICAgIGNvbnNvbGUubG9nKCdkb2N0b3IgZGF0YScsICRzY29wZS5kb2NKc29uKTtcbiAgICB9KTtcblxuICAgICRzY29wZS5zaG93RWRpdEZvcm0gPSBmdW5jdGlvbih0YWJJZCl7XG4gICAgICAgIGlmICh0YWJJZCA9PSAnMScpe1xuICAgICAgICAgICAgJHNjb3BlLmVkaXRQcm9maWxlMiA9IGZhbHNlO1xuICAgICAgICAgICAgJHNjb3BlLmVkaXRQcm9maWxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiMVwiKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCIyXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodGFiSWQgPT0gJzInKSB7XG4gICAgICAgICAgICAkc2NvcGUuZWRpdFByb2ZpbGUyID0gdHJ1ZTtcbiAgICAgICAgICAgICRzY29wZS5lZGl0UHJvZmlsZSA9IGZhbHNlO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCIyXCIpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIjFcIikuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJzInKS5jbGFzc05hbWUgKz0gJ2FjdGl2ZSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUubW9kZSA9ICd3ZWVrJztcbiAgICAkc2NvcGUuZXZlbnRTb3VyY2UgPSBjcmVhdGVSYW5kb21FdmVudHMoKTtcbiAgICAkc2NvcGUuc2VsZWN0ZWQgPSAwO1xuICAgICRzY29wZS5zZWxlY3QgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBpbmRleDtcbiAgICB9XG4gICAgJHNjb3BlLm5hdlByb2ZpbGVMaXN0ID0gW3sgJ3NyZWYnOiAnZGFzaGJvYXJkJywgJ3RpdGxlJzogJ0Rhc2hib2FyZCcgfSwgeyAnc3JlZic6ICdmYXEnLCAndGl0bGUnOiAnRkFRJyB9LCB7ICdzcmVmJzogJ3BsYW5zJywgJ3RpdGxlJzogJ1ByaWNpbmcgUGxhbnMnIH0sIHsgJ3NyZWYnOiAncHJvZmlsZScsICd0aXRsZSc6ICdVc2VyIEFjY291bnQnIH1dO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZG9tRXZlbnRzKCkge1xuICAgICAgICB2YXIgZXZlbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTA7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdmFyIGV2ZW50VHlwZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0RGF5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTApIC0gNDU7XG4gICAgICAgICAgICB2YXIgZW5kRGF5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgKyBzdGFydERheTtcbiAgICAgICAgICAgIHZhciBzdGFydFRpbWU7XG4gICAgICAgICAgICB2YXIgZW5kVGltZTtcbiAgICAgICAgICAgIGlmIChldmVudFR5cGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZShEYXRlLlVUQyhkYXRlLmdldFVUQ0Z1bGxZZWFyKCksIGRhdGUuZ2V0VVRDTW9udGgoKSwgZGF0ZS5nZXRVVENEYXRlKCkgKyBzdGFydERheSkpO1xuICAgICAgICAgICAgICAgIGlmIChlbmREYXkgPT09IHN0YXJ0RGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZERheSArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbmRUaW1lID0gbmV3IERhdGUoRGF0ZS5VVEMoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkYXRlLmdldFVUQ01vbnRoKCksIGRhdGUuZ2V0VVRDRGF0ZSgpICsgZW5kRGF5KSk7XG4gICAgICAgICAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0FsbCBEYXkgLSAnICsgaSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIGFsbERheTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRNaW51dGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNCAqIDYwKTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kTWludXRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTgwKSArIHN0YXJ0TWludXRlO1xuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSArIHN0YXJ0RGF5LCAwLCBkYXRlLmdldE1pbnV0ZXMoKSArIHN0YXJ0TWludXRlKTtcbiAgICAgICAgICAgICAgICBlbmRUaW1lID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpICsgZW5kRGF5LCAwLCBkYXRlLmdldE1pbnV0ZXMoKSArIGVuZE1pbnV0ZSk7XG4gICAgICAgICAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogaSArICdNciBOaXRpbicsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lLFxuICAgICAgICAgICAgICAgICAgICBhbGxEYXk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICB9XG59XSk7XG4iLCJzcGVjaWFsaXN0LmNvbnRyb2xsZXIoJ2RvY1NpZ251cEN0cmwnLCBbJyRzY29wZScsJyRzdGF0ZScsJ2RhdGFTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwkc3RhdGUsZGF0YVNlcnZpY2UpIHtcblx0JHNjb3BlLnNlY29uZEZvcm0gPSBmYWxzZTtcblx0JHNjb3BlLmZpcnN0Rm9ybSA9IHRydWU7XG5cdCRzY29wZS5lbWFpbF9lcnIgPSBmYWxzZTtcblx0JHNjb3BlLnB3ZF9lcnIgPSBmYWxzZTtcblx0JHNjb3BlLmVycl9tc2cgPSBmYWxzZTtcblx0JHNjb3BlLm1vYmlsZVJlZ0V4ID0gXCIvXlswLTldezEwLDEwfSQvO1wiO1xuXHQkc2NvcGUucGluQ29kZVJlZ0V4ID0gXCIvXlswLTldezYsNn0kLztcIjtcblx0dmFyIHNpZ25VcERhdGEgPSB7fTtcblx0JHNjb3BlLmNoZWNrRW1haWxQd2RWYWxpZGl0eSA9IGZ1bmN0aW9uKHZhbHVlKXtcblx0XHRpZih2YWx1ZSA9PSAnZW1haWwnKXtcblx0XHRcdGlmKCRzY29wZS5lbWFpbCAhPT0gJHNjb3BlLmNvbmZFbWFpbCl7XG5cdFx0XHRcdCRzY29wZS5lbWFpbF9lcnIgPSB0cnVlO1xuXHRcdFx0XHQkc2NvcGUuZW1haWxfZXJyX21zZyA9ICdFbWFpbCBkaWQgbm90IG1hdGNoJztcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkc2NvcGUuZW1haWxfZXJyID0gZmFsc2U7XG5cdFx0XHRcdCRzY29wZS5lbWFpbF9lcnJfbXNnID0gJyc7XG5cdFx0XHR9XG5cdFx0fWVsc2UgaWYodmFsdWUgPT0ncHdkJyl7XG5cdFx0XHRpZigkc2NvcGUucGFzcyAhPT0gJHNjb3BlLmNvbmZQYXNzKXtcblx0XHRcdFx0JHNjb3BlLnBhc3NfZXJyID0gdHJ1ZTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkc2NvcGUucGFzc19lcnIgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XHRcdFxuXHR9O1xuXHQkc2NvcGUuYnJpbmdTZWNvbmRGb3JtID0gZnVuY3Rpb24oaXNWYWxpZCl7XG5cdFx0aWYoaXNWYWxpZCl7XG5cdFx0XHQkc2NvcGUuZXJyX21zZyA9IGZhbHNlO1xuXHRcdFx0c2lnblVwRGF0YS5uYW1lID0gJHNjb3BlLmZuYW1lICtcIiBcIisgJHNjb3BlLmxuYW1lO1xuXHRcdFx0aWYoJHNjb3BlLmVtYWlsID09ICRzY29wZS5jb25mRW1haWwpe1xuXHRcdFx0XHRzaWduVXBEYXRhLmVtYWlsID0gJHNjb3BlLmVtYWlsO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdCRzY29wZS5lbWFpbF9lcnIgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYoJHNjb3BlLnBhc3MgPT0gJHNjb3BlLmNvbmZQYXNzKXtcblx0XHRcdFx0c2lnblVwRGF0YS5wYXNzd29yZCA9ICRzY29wZS5wYXNzO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdCRzY29wZS5wYXNzX2VyciA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRpZighJHNjb3BlLnBhc3NfZXJyICYmICEkc2NvcGUuZW1haWxfZXJyKXtcblx0XHRcdFx0JHNjb3BlLnNlY29uZEZvcm0gPSB0cnVlO1xuXHRcdFx0XHQkc2NvcGUuZmlyc3RGb3JtID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmKCFpc1ZhbGlkKXtcblx0XHRcdCRzY29wZS5lcnJfbXNnID0gdHJ1ZTtcblx0XHR9XG5cdH07XG5cblx0JHNjb3BlLnNlbmRTaWdudXBEb2MgPSBmdW5jdGlvbihpc1ZhbGlkKXtcblx0XHRpZihpc1ZhbGlkKXtcblx0XHRcdCRzY29wZS5lcnJfbXNnID0gZmFsc2U7XG5cdFx0XHRzaWduVXBEYXRhLmFkZHJlc3MgPSAkc2NvcGUuYWRkcmVzczEgKyAnICcgKyAkc2NvcGUuYWRkcmVzczI7XG5cdFx0XHRzaWduVXBEYXRhLnBpbiA9ICRzY29wZS5waW5Db2RlO1xuXHRcdFx0c2lnblVwRGF0YS5jaXR5ID0gJHNjb3BlLmNpdHk7XG5cdFx0XHRzaWduVXBEYXRhLnN0YXRlID0gJHNjb3BlLnN0YXRlO1xuXHRcdFx0c2lnblVwRGF0YS5tb2JpbGUgPSAkc2NvcGUubW9iaWxlTm87XG5cdFx0XHRzaWduVXBEYXRhLmNsaW5pY19uYW1lID0gJHNjb3BlLmNsaW5pY05hbWU7XG5cdFx0XHRzaWduVXBEYXRhLmZlZSA9ICRzY29wZS5jbGluaWNGZWU7XG5cdFx0XHRzaWduVXBEYXRhLmh2X2ZlZSA9ICRzY29wZS5ob21lVmlzaXQ7XG5cdFx0XHRkYXRhU2VydmljZS5zaWduVXBEb2N0b3Ioc2lnblVwRGF0YSkudGhlbihmdW5jdGlvbihyZXNwKXtcblx0XHRcdFx0aWYocmVzcCl7XG5cdFx0XHRcdFx0JHN0YXRlLmdvKCdkb2N0b3JQcm9maWxlLmRhc2hib2FyZCcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0Ly90byBiZSByZW1vdmVkXG5cdFx0XHQvLyBkYXRhU2VydmljZS5zaWduVXBEb2N0b3Ioc2lnblVwRGF0YSkudGhlbihmdW5jdGlvbihyZXNwKXtcblx0XHRcdC8vIFx0JHN0YXRlLmdvKCdkb2N0b3JQcm9maWxlLmRhc2hib2FyZCcpO1xuXHRcdFx0Ly8gfSk7XG5cdFx0fSBlbHNlIGlmKCFpc1ZhbGlkKXtcblx0XHRcdCRzY29wZS5lcnJfbXNnID0gdHJ1ZTtcblx0XHR9XG5cdH07XG59XSk7Iiwic3BlY2lhbGlzdC5jb250cm9sbGVyKCdkb2N0b3JQb3J0YWxDdHJsJywgWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG5cdFxufV0pIiwiYW5ndWxhci5tb2R1bGUoJ3NwZWNpYWxpc3QudGFnaXQnLCBbXSlcbiAgICAuZGlyZWN0aXZlKCd0YWdJdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIHRhZ3M6IFwiPVwiLFxuICAgICAgICAgICAgICAgIHJlbW92ZTogXCImXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXY+PHVsIGNsYXNzPVwidGFnc1wiPjxsaSAgY2xhc3M9XCJ0YWdpdFwiIG5nLXJlcGVhdD1cInRhZyBpbiB0YWdzIFwiPjxzcGFuIGNsYXNzPVwidGFnVGV4dFwiPnt7Ojp0YWcubmFtZX19PC9zcGFuPjxhICBuZy1jbGljaz1cInJlbW92ZSh7aWR4OnRhZy5pZH0pXCIgY2xhc3M9XCJkQ3Jvc3NcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+eDwvYT48L2xpPjwvdWw+PC9kaXY+JyxcblxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkY3RybCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCRzY29wZSwgJGF0dHJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnc3BlY2lhbGlzdC5saXN0aW5nJywgW10pXG4gICAgIC5kaXJlY3RpdmUoJ25nUmVwZWF0RG9uZU5vdGlmaWNhdGlvbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgICAgIGlmICghc2NvcGUuJHBhcmVudC5tdWx0aVNlbGVjdCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLnNlbGVjdGVkSWQgJiYgc2NvcGUuc2VsZWN0ZWRJZC5sZW5ndGghPTAgJiYgc2NvcGUuJGxhc3QgJiYgIXNjb3BlLiRwYXJlbnQuZmlyc3RSZWFwZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudC5maXJzdFJlYXBldCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpdGVtJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzY29wZS5zZWxlY3RlZElkWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNjb3BlLmRhdGFbc2NvcGUuaWRIYXNoLmluZGV4T2Yoc2NvcGUuc2VsZWN0ZWRJZFswXSldLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2VsZWN0ZWQ6IHNjb3BlLnNlbGVjdGVkSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHNjb3BlLiRwYXJlbnQuaWRIYXNoKTtcbiAgICAgICAgfTtcbiAgICB9KS5kaXJlY3RpdmUoJ2xpc3RpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgJ2RhdGEnOiAnPScsXG4gICAgICAgICAgICAgICAgJ3R1cGxlQ291bnQnOiAnQCcsXG4gICAgICAgICAgICAgICAgJ3NlbGVjdGVkSWQnOiAnPScsXG4gICAgICAgICAgICAgICAgJ21heEhlaWdodCc6ICdAJyxcbiAgICAgICAgICAgICAgICAnY2FsbGJhY2snOiAnJmxpc3RpbmdDYWxsYmFjaycsXG4gICAgICAgICAgICAgICAgJ211bHRpU2VsZWN0JzogJ0AnLFxuICAgICAgICAgICAgICAgICdmaWx0ZXJOYW1lJzogXCI9XCIsXG4gICAgICAgICAgICAgICAgJ2FjdGl2ZSc6ICc9J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICBcbiAgICAgICAgICAgIC8vdGVtcGxhdGU6ICc8dWw+PGxpIG5nLXJlcGVhdD1cIml0ZW0gaW4gZGF0YXxsaW1pdFRvOnR1cGxlQ291bnRcIiBuZy1yZXBlYXQtZG9uZS1ub3RpZmljYXRpb249e3tpdGVtLmlkfX0gbmctY2xpY2s9XCJjaGVja0l0ZW0odGhpcylcIj48aW5wdXQgbmctaWY9XCJtdWx0aVNlbGVjdFwiIHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPWl0ZW0uY2hlY2tlZD48ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7XCIgbmctdHJhbnNjbHVkZT48L2Rpdj48L2xpPjwvdWw+JyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPHVsPjxsaSBuZy1yZXBlYXQ9XCJpdGVtIGluIGRhdGFcIiBuZy1yZXBlYXQtZG9uZS1ub3RpZmljYXRpb249e3tpdGVtLmlkfX0gbmctY2xpY2s9XCJjaGVja0l0ZW0odGhpcylcIiBuZy1jbGFzcz1cInthY3RpdmU6aXRlbS5hY3RpdmUsIG5vdFNlbGVjdGFibGU6aXRlbS5ub3RTZWxlY3RhYmxlfVwiPjxpbnB1dCBuZy1pZj1cIm11bHRpU2VsZWN0ID09IFxcJ3RydWVcXCcgJiYgIWl0ZW0ubm90U2VsZWN0YWJsZVwiIHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPWl0ZW0uY2hlY2tlZD57e3NlbGVjdGVkTmFtZX19PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrOyB3aWR0aDphdXRvO1wiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+PC9saT48L3VsPicsXG5cbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIsIGNvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuZmlyc3RSZWFwZXQgPSAwO1xuICAgICAgICAgICAgICAgIHNjb3BlLnNlbE9iaiA9IHt9O1xuICAgICAgICAgICAgICAgIHNjb3BlLmlkSGFzaCA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChzY29wZS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGEuZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5pZEhhc2gucHVzaCh4LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKCdzZWxlY3QnLCBmdW5jdGlvbihldmVudCwgc29tZURhdGEsIGZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1Ub1NlbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1Ub1NlbCA9IHNjb3BlLmRhdGFbc2NvcGUuaWRIYXNoLmluZGV4T2YoZmxhZyldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbVRvU2VsID0gc2NvcGUuZGF0YVtzY29wZS5hY3RpdmVdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2hlY2tJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpdGVtJzogZWxlbVRvU2VsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNjb3BlLiRvbignZGVTZWxlY3QnLGZ1bmN0aW9uKGV2ZW50LGlkKXtcblxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKG1hdGNoSWR4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5hY3RpdmUgPCBpRWxlbWVudC5maW5kKCdsaScpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLmFjdGl2ZSA9PT0gbWF0Y2hJZHg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hY3RpdmUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIHJldHVybiBzY29wZS5hY3RpdmUgPT09IG1hdGNoSWR4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLmNoZWNrSXRlbSA9IGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuYXR0ciA9IGlBdHRyO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pdGVtLm5vdFNlbGVjdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaUVsZW1lbnQuYWRkQ2xhc3MoJ25vdFNlbGVjdGFibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNoZWNrU2VsZWN0aW9uKF90aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5jYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaXRlbSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogX3RoaXMuaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBfdGhpcy5pdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2VsZWN0ZWQ6IHNjb3BlLnNlbGVjdGVkSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMuaXRlbS5jaGVja2VkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgICAgIHNjb3BlLmNoZWNrU2VsZWN0aW9uID0gZnVuY3Rpb24odCkgeyAvLyBhcnJheSBhbmQgc2VsZWN0ZWRJZCB3aWxsIGJlIHRoZSBzYW1lIGFmdGVyIHRoaXMsIFxuICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSB0Lml0ZW0uaWQ7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkSWQgPSBzY29wZS5zZWxlY3RlZElkIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuYXR0ci5tdWx0aVNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gc2NvcGUuc2VsZWN0ZWRJZC5pbmRleE9mKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkSWQucHVzaChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsT2JqW2lkXSA9IHQuaXRlbS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuaXRlbS5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWRJZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY29wZS5zZWxPYmpbaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuaXRlbS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkSWQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkSWQucHVzaChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3QuaXRlbS5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdzcGVjaWFsaXN0LmRyb29wZScsIFsnc3BlY2lhbGlzdC5saXN0aW5nJywgJ3NwZWNpYWxpc3QudGFnaXQnXSlcblxuLmRpcmVjdGl2ZSgnZHJvb3BlJywgW1wiJGRvY3VtZW50XCIsIGZ1bmN0aW9uKCRkb2N1bWVudCkge1xuICAgIC8vIFJ1bnMgZHVyaW5nIGNvbXBpbGVcbiAgICByZXR1cm4ge1xuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgb3B0aW9uOiBcIj1cIixcbiAgICAgICAgICAgIGNhbGxiYWNrOiBcIiZkcm9vcGVDYWxsYmFja1wiLFxuICAgICAgICAgICAgZGF0YTogXCI9XCIsXG4gICAgICAgICAgICBzZWxlY3RlZElkOiBcIj1cIixcbiAgICAgICAgICAgIGFwaTogXCI9XCJcbiAgICAgICAgfSxcbiAgICAgICAgLy8gY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkdHJhbnNjbHVkZSkge30sXG4gICAgICAgIHJlc3RyaWN0OiAnRScsIC8vIEUgPSBFbGVtZW50LCBBID0gQXR0cmlidXRlLCBDID0gQ2xhc3MsIE0gPSBDb21tZW50XG4gICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImRkd25cIj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiRER3cmFwXCI+JyArXG4gICAgICAgICAgICAnPHVsIGNsYXNzPVwiRERzZWFyY2hcIj4nICtcbiAgICAgICAgICAgICc8bGkgY2xhc3M9XCJmcnN0XCIgc3R5bGU9XCJmbG9hdDogbm9uZTtcIj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiRERpbnB1dFdyYXBcIj4nICtcbiAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cImRkSWNvbiBzcmNoVHh0XCIgbmctY2xpY2s9XCJzaG93RHJvcCgpXCI+PC9zcGFuPicgK1xuICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLWNsaWNrPVwic2hvd0Ryb3AoKVwiIGlkPVwiXCIgY2xhc3M9XCJzcmNoVHh0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgc3R5bGU9XCJjb2xvcjogcmdiKDY4LCA2OCwgNjgpO1wiIG5nLW1vZGVsPVwic2VsZWN0ZWROYW1lXCI+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPC9saT4nICtcbiAgICAgICAgICAgICc8L3VsPicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkZF9kd25cIiBuZy1zaG93PVwic2hvd1wiPicgK1xuICAgICAgICAgICAgJzxsaXN0aW5nIHR1cGxlY291bnQ9XCIxMFwiIG11bHRpLXNlbGVjdD1cInt7b3B0aW9uLm11bHRpc2VsZWN0fX1cIiBhY3RpdmU9XCJhY3RpdmVJbmRleFwiIHNlbGVjdGVkLWlkID1cInNlbGVjdGVkSWRcIiBsaXN0aW5nLWNhbGxiYWNrPVwibGlzdGluZ0NhbGxiYWNrKGl0ZW0pXCIgZGF0YT1cImRhdGFcIiBmaWx0ZXItbmFtZT1cInNlbGVjdGVkTmFtZVwiPicgK1xuICAgICAgICAgICAgJzxkaXY+PHNwYW4+e3skcGFyZW50Lml0ZW0ubmFtZX19PC9zcGFuPjwvZGl2PicgK1xuICAgICAgICAgICAgJzwvbGlzdGluZz4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgICAgICB2YXIgX19vcHRpb25zX18gPSB7XG4gICAgICAgICAgICAgICAgZmllbGRBdHRyOiB7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnRW50ZXIgeW91ciBWYWx1ZXMnXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxpbmtpbmcoc2NvcGUsIGlFbG0sIGlBdHRycywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGlFbG0pO1xuICAgICAgICAgICAgICAgIC8vYmluZCBrZXlib2FyZCBldmVudHM6IGFycm93cyB1cCgzOCkgLyBkb3duKDQwKSwgZW50ZXIoMTMpIGFuZCB0YWIoOSksIGVzYygyNylcbiAgICAgICAgICAgICAgICBpRWxtLmZpbmQoJ2lucHV0Jykub24oJ2tleWRvd24nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChldnQud2hpY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuc2VsZWN0ZWROYW1lID09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5ibHVyT3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdzZWxlY3QnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGFbc2NvcGUuYWN0aXZlSW5kZXhdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZGF0YVtzY29wZS5hY3RpdmVJbmRleF0uYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGFbc2NvcGUuYWN0aXZlSW5kZXhdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZGF0YVtzY29wZS5hY3RpdmVJbmRleF0uYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzY29wZS5vcHRpb25zID0gYW5ndWxhci5tZXJnZShfX29wdGlvbnNfXywgc2NvcGUub3B0aW9uKTtcbiAgICAgICAgICAgICAgICBzY29wZS50YWdzID0gW107XG4gICAgICAgICAgICAgICAgaUVsbS5maW5kKCdpbnB1dCcpLmF0dHIoc2NvcGUub3B0aW9ucy5maWVsZEF0dHIpXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogW2Z1bmN0aW9uIGNhbGxlZCBvbiBsaXN0IGNsaWNrLSBhZnRlciBsaXN0aW5nIGNhbGxiYWNrXVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSAge1t0eXBlXX0gcmV0T2JqIFtvYmplY3QgZnJvbSBsaXN0aW5nIGNhbGxiYWNrXVxuICAgICAgICAgICAgICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICBbdGFncyBvYmplY3QgdXBkYXRlZF1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzY29wZS5hcGkgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0RHJvb3BlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2NvcGUuYWN0aXZlID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZE5hbWUgPSBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWRJZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RJdGVtOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKCBpZCApID09PSAnW29iamVjdCBBcnJheV0nKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnc2VsZWN0Jyx0aGlzLGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnc2VsZWN0JywgdGhpcywgaWQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzY29wZS5saXN0aW5nQ2FsbGJhY2sgPSBmdW5jdGlvbihyZXRPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1RhZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXRPYmouaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXRPYmoubmFtZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzY29wZS50YWdVcGRhdGUobmV3VGFnLCByZXRPYmouY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUudGFnVXBkYXRlID0gZnVuY3Rpb24odGFnT2JqLCBjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5vcHRpb24ubXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudGFncy5wdXNoKHRhZ09iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHNjb3BlLnRhZ3MuaW5kZXhPZih0YWdPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRhZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkTmFtZSA9IHRhZ09iai5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpdGVtXCI6IHRhZ09ialxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFtjYWxsZWQgb24gaW5wdXQgZm9jdXMgLSB3aWxsIHNob3cgdGhlIGxpc3RdXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2NvcGUuc2hvd0Ryb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHNjb3BlLm9wdGlvbi5tdWx0aXNlbGVjdCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5sYXN0U2VsZWN0ZWQgPSBzY29wZS5zZWxlY3RlZE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZE5hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHBhckVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXJhREQnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHNjcm9sbENvbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGRfZHduJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBmc3RFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGRfZHduJykuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKVswXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2NvcGUuc2Nyb2xsSGFuZGxlcihwYXJFbG0sIHNjcm9sbENvbnQsIGZzdEVsbSwgZnN0RWxtKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogW3JlbW92aW5nIGFsbCB0YWdzXVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNjb3BlLnJlbW92ZUFsbFRhZ3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUudGFncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUub3B0aW9uLm11bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2NvcGUuc2VsZWN0ZWRJZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHNjb3BlLmRhdGEuaW5kZXhPZihzY29wZS5zZWxlY3RlZElkW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhW2luZGV4XS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZE5hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLmJsdXJPdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJsdXJPYmogPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNjb3BlLnNlbGVjdGVkTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6ICdubydcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBzY29wZS5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzY29wZS5saXN0aW5nQ2FsbGJhY2soYmx1ck9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFtoaWRlIGxpc3QgZHJvcCBvbiBkb2N1bWVudCBjbGlja11cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAkZG9jdW1lbnQub24oXCJjbGlja1wiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZWxlbWVudChldmVudC50YXJnZXQpLmhhc0NsYXNzKCdzcmNoVHh0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNjb3BlLnNlbGVjdGVkTmFtZSA9PSBcIlwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZE5hbWUgPSBzY29wZS5sYXN0U2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgLy8gIHNjb3BlLmJsdXJPdXQoKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XSk7Iiwic3BlY2lhbGlzdC5jb250cm9sbGVyKCdtYWluQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHR2YXIganNvbiA9IFt7J25hbWUnOidEZWxoaSd9LHsnbmFtZSc6J05vaWRhJ30seyduYW1lJzonR3VyZ2Fvbid9XVxuXHQkc2NvcGUub3B0aW9ucyA9IHt9O1xuXHQkc2NvcGUub3B0aW9ucyA9IHtcblx0XHRkYXRhOmpzb24sXG5cdFx0bXVsdGlzZWxlY3Q6dHJ1ZSxcblx0XHRtYXhIZWlnaHQ6IDI1MFxuXHR9O1xuXHRcdCRzY29wZS5kYXRhID0gW3snbmFtZSc6J0RlbGhpJ30seyduYW1lJzonTm9pZGEnfSx7J25hbWUnOidHdXJnYW9uJ31dXG4gICAgICAgICRzY29wZS5zZWxlY3RlZElkID0gW107XG4gICAgICAgICRzY29wZS5vbkNsaWNrRnVuYyA9IGZ1bmN0aW9uKG9iajEpIHtcbiAgICAgICAgICAgIC8vJHNjb3BlLmNiT2JqID0gb2JqO1xuICAgICAgICAgIGNvbnNvbGUubG9nKG9iajEpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5hcGkgPSB7fTtcbn1dKSIsInNwZWNpYWxpc3QuY29udHJvbGxlcignU2VhcmNoQ3RybCcsIFsnJHNjb3BlJywnJHN0YXRlJywnZGF0YVNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCRzdGF0ZSxkYXRhU2VydmljZSkge1xuXHQkc2NvcGUuZG9jdG9ySWQ7XG5cdGRhdGFTZXJ2aWNlLmdldEZ1bGxEb2N0b3JMaXN0KCkudGhlbihmdW5jdGlvbihkYXRhKXtcblx0XHRjb25zb2xlLmxvZyhkYXRhKTtcblx0XHQkc2NvcGUuZG9jdG9yTGlzdCA9IGRhdGE7XG5cdFx0JHNjb3BlLmRvY3RvcklkID0gZGF0YS5pZDtcblx0fSk7XG5cdCRzY29wZS5kb2N0b3JCb29rID0gZnVuY3Rpb24oaWQpe1xuXHRcdCRzdGF0ZS5nbygnZG9jdG9yJyk7XG5cdH1cbn1dKSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
