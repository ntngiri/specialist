var specialist = angular.module('specialist', ['ui.router']).config(['$stateProvider', '$locationProvider', '$urlRouterProvider', function ($stateProvider, $locationProvider, $urlRouterProvider) {
	$urlRouterProvider.otherwise('/');
	$stateProvider.state('home', {
		url: '/',
		templateUrl: './build/html/main.html',
		controller: 'mainController'
	}).state('search', {
		url: '/search',
		templateUrl: './build/html/search.html',
		controller: 'SearchCtrl'
	}).state('doctorPortal', {
		url: '/doctorPortal',
		templateUrl: './build/html/doctorPortal.html',
		controller: 'doctorPortalCtrl'
	}).state('ques', {
		url: '/ques',
		templateUrl: './build/html/quesans.html'
	}).state('docSignup', {
		url: '/docSignup',
		templateUrl: './build/html/docSignup.html',
		controller: 'docSignupCtrl'
	}).state('doctorProfile', {
		url: '/doctorProfile',
		templateUrl: './build/html/docProfile.html',
		controller: 'docProfileCtrl',
		abstract: true
	}).state('doctorProfile.dashboard', {
		url: '',
		templateUrl: './build/html/docprofileDashboard.html'
	}).state('doctorProfile.faq', {
		url: '/faq',
		templateUrl: './build/html/docFaq.html'
	}).state('doctorProfile.plans', {
		url: '/plans',
		templateUrl: './build/html/docPlans.html'
	}).state('doctorProfile.profile', {
		url: '/profile',
		templateUrl: './build/html/docUserProfile.html'
	});
	$locationProvider.html5Mode(true);
}]);
//angular.module("ui.rCalendar.tpls", ["../template/rcalendar/calender.html","../template/rcalendar/day.html","../template/rcalendar/month.html","../template/rcalendar/week.html"]);
//angular.module('ui.rCalendar', [])
specialist.constant('calendarConfig', {
    formatDay: 'dd',
    formatDayHeader: 'EEE',
    formatDayTitle: 'MMMM dd, yyyy',
    formatWeekTitle: 'MMMM yyyy, Week w',
    formatMonthTitle: 'MMMM yyyy',
    formatWeekViewDayHeader: 'EEE d',
    formatHourColumn: 'ha',
    calendarMode: 'month',
    showWeeks: false,
    showEventDetail: true,
    startingDay: 0,
    eventSource: null,
    queryMode: 'local'
}).controller('ui.rCalendar.CalendarController', ['$scope', '$attrs', '$parse', '$interpolate', '$log', 'dateFilter', 'calendarConfig', function ($scope, $attrs, $parse, $interpolate, $log, dateFilter, calendarConfig) {
    'use strict';

    var self = this,
        ngModelCtrl = { $setViewValue: angular.noop }; // nullModelCtrl;

    // Configuration attributes
    angular.forEach(['formatDay', 'formatDayHeader', 'formatDayTitle', 'formatWeekTitle', 'formatMonthTitle', 'formatWeekViewDayHeader', 'formatHourColumn', 'showWeeks', 'showEventDetail', 'startingDay', 'eventSource', 'queryMode'], function (key, index) {
        self[key] = angular.isDefined($attrs[key]) ? index < 7 ? $interpolate($attrs[key])($scope.$parent) : $scope.$parent.$eval($attrs[key]) : calendarConfig[key];
    });

    $scope.$parent.$watch($attrs.eventSource, function (value) {
        self.onEventSourceChanged(value);
    });

    $scope.calendarMode = $scope.calendarMode || calendarConfig.calendarMode;
    if (angular.isDefined($attrs.initDate)) {
        self.currentCalendarDate = $scope.$parent.$eval($attrs.initDate);
    }
    if (!self.currentCalendarDate) {
        self.currentCalendarDate = new Date();
        if ($attrs.ngModel && !$scope.$parent.$eval($attrs.ngModel)) {
            $parse($attrs.ngModel).assign($scope.$parent, self.currentCalendarDate);
        }
    }

    self.init = function (ngModelCtrl_) {
        ngModelCtrl = ngModelCtrl_;

        ngModelCtrl.$render = function () {
            self.render();
        };
    };

    self.render = function () {
        if (ngModelCtrl.$modelValue) {
            var date = new Date(ngModelCtrl.$modelValue),
                isValid = !isNaN(date);

            if (isValid) {
                this.currentCalendarDate = date;
            } else {
                $log.error('"ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
            }
            ngModelCtrl.$setValidity('date', isValid);
        }
        this.refreshView();
    };

    self.refreshView = function () {
        if (this.mode) {
            this.range = this._getRange(this.currentCalendarDate);
            this._refreshView();
            this.rangeChanged();
        }
    };

    // Split array into smaller arrays
    self.split = function (arr, size) {
        var arrays = [];
        while (arr.length > 0) {
            arrays.push(arr.splice(0, size));
        }
        return arrays;
    };

    self.onEventSourceChanged = function (value) {
        self.eventSource = value;
        if (self._onDataLoaded) {
            self._onDataLoaded();
        }
    };

    $scope.move = function (direction) {
        var step = self.mode.step,
            currentCalendarDate = self.currentCalendarDate,
            year = currentCalendarDate.getFullYear() + direction * (step.years || 0),
            month = currentCalendarDate.getMonth() + direction * (step.months || 0),
            date = currentCalendarDate.getDate() + direction * (step.days || 0),
            firstDayInNextMonth;

        currentCalendarDate.setFullYear(year, month, date);
        if ($scope.calendarMode === 'month') {
            firstDayInNextMonth = new Date(year, month + 1, 1);
            if (firstDayInNextMonth.getTime() <= currentCalendarDate.getTime()) {
                self.currentCalendarDate = new Date(firstDayInNextMonth - 24 * 60 * 60 * 1000);
            }
        }
        ngModelCtrl.$setViewValue(self.currentCalendarDate);
        self.refreshView();
    };

    self.move = function (direction) {
        $scope.move(direction);
    };

    self.rangeChanged = function () {
        if (self.queryMode === 'local') {
            if (self.eventSource && self._onDataLoaded) {
                self._onDataLoaded();
            }
        } else if (self.queryMode === 'remote') {
            if ($scope.rangeChanged) {
                $scope.rangeChanged({
                    startTime: this.range.startTime,
                    endTime: this.range.endTime
                });
            }
        }
    };

    function overlap(event1, event2) {
        return !(event1.endIndex <= event2.startIndex || event2.endIndex <= event1.startIndex);
    }

    function calculatePosition(events) {
        var i,
            j,
            len = events.length,
            maxColumn = 0,
            col,
            isForbidden = new Array(len);

        for (i = 0; i < len; i += 1) {
            for (col = 0; col < maxColumn; col += 1) {
                isForbidden[col] = false;
            }
            for (j = 0; j < i; j += 1) {
                if (overlap(events[i], events[j])) {
                    isForbidden[events[j].position] = true;
                }
            }
            for (col = 0; col < maxColumn; col += 1) {
                if (!isForbidden[col]) {
                    break;
                }
            }
            if (col < maxColumn) {
                events[i].position = col;
            } else {
                events[i].position = maxColumn++;
            }
        }
    }

    function calculateWidth(orderedEvents) {
        var cells = new Array(24),
            event,
            index,
            i,
            j,
            len,
            eventCountInCell,
            currentEventInCell;

        //sort by position in descending order, the right most columns should be calculated first
        orderedEvents.sort(function (eventA, eventB) {
            return eventB.position - eventA.position;
        });
        for (i = 0; i < 24; i += 1) {
            cells[i] = {
                calculated: false,
                events: []
            };
        }
        len = orderedEvents.length;
        for (i = 0; i < len; i += 1) {
            event = orderedEvents[i];
            index = event.startIndex;
            while (index < event.endIndex) {
                cells[index].events.push(event);
                index += 1;
            }
        }

        i = 0;
        while (i < len) {
            event = orderedEvents[i];
            if (!event.overlapNumber) {
                var overlapNumber = event.position + 1;
                event.overlapNumber = overlapNumber;
                var eventQueue = [event];
                while (event = eventQueue.shift()) {
                    index = event.startIndex;
                    while (index < event.endIndex) {
                        if (!cells[index].calculated) {
                            cells[index].calculated = true;
                            if (cells[index].events) {
                                eventCountInCell = cells[index].events.length;
                                for (j = 0; j < eventCountInCell; j += 1) {
                                    currentEventInCell = cells[index].events[j];
                                    if (!currentEventInCell.overlapNumber) {
                                        currentEventInCell.overlapNumber = overlapNumber;
                                        eventQueue.push(currentEventInCell);
                                    }
                                }
                            }
                        }
                        index += 1;
                    }
                }
            }
            i += 1;
        }
    }

    self.placeEvents = function (orderedEvents) {
        calculatePosition(orderedEvents);
        calculateWidth(orderedEvents);
    };

    self.placeAllDayEvents = function (orderedEvents) {
        calculatePosition(orderedEvents);
    };
}]).directive('calendar', function () {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './build/html/calender.html',
        scope: {
            calendarMode: '=',
            rangeChanged: '&',
            eventSelected: '&',
            timeSelected: '&'
        },
        require: ['calendar', '?^ngModel'],
        controller: 'ui.rCalendar.CalendarController',
        link: function (scope, element, attrs, ctrls) {
            var calendarCtrl = ctrls[0],
                ngModelCtrl = ctrls[1];

            if (ngModelCtrl) {
                calendarCtrl.init(ngModelCtrl);
            }

            scope.$on('changeDate', function (event, direction) {
                calendarCtrl.move(direction);
            });

            scope.$on('eventSourceChanged', function (event, value) {
                calendarCtrl.onEventSourceChanged(value);
            });
        }
    };
}).directive('monthview', ['dateFilter', function (dateFilter) {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './build/html/month.html',
        require: ['^calendar', '?^ngModel'],
        link: function (scope, element, attrs, ctrls) {
            var ctrl = ctrls[0],
                ngModelCtrl = ctrls[1];
            scope.showWeeks = ctrl.showWeeks;
            scope.showEventDetail = ctrl.showEventDetail;

            ctrl.mode = {
                step: { months: 1 }
            };

            function getDates(startDate, n) {
                var dates = new Array(n),
                    current = new Date(startDate),
                    i = 0;
                current.setHours(12); // Prevent repeated dates because of timezone bug
                while (i < n) {
                    dates[i++] = new Date(current);
                    current.setDate(current.getDate() + 1);
                }
                return dates;
            }

            scope.select = function (selectedDate) {
                var rows = scope.rows;
                if (rows) {
                    var currentCalendarDate = ctrl.currentCalendarDate;
                    var currentMonth = currentCalendarDate.getMonth();
                    var currentYear = currentCalendarDate.getFullYear();
                    var selectedMonth = selectedDate.getMonth();
                    var selectedYear = selectedDate.getFullYear();
                    var direction = 0;
                    if (currentYear === selectedYear) {
                        if (currentMonth !== selectedMonth) {
                            direction = currentMonth < selectedMonth ? 1 : -1;
                        }
                    } else {
                        direction = currentYear < selectedYear ? 1 : -1;
                    }

                    ctrl.currentCalendarDate = selectedDate;
                    if (ngModelCtrl) {
                        ngModelCtrl.$setViewValue(selectedDate);
                    }
                    if (direction === 0) {
                        for (var row = 0; row < 6; row += 1) {
                            for (var date = 0; date < 7; date += 1) {
                                var selected = ctrl.compare(selectedDate, rows[row][date].date) === 0;
                                rows[row][date].selected = selected;
                                if (selected) {
                                    scope.selectedDate = rows[row][date];
                                }
                            }
                        }
                    } else {
                        ctrl.refreshView();
                    }

                    if (scope.timeSelected) {
                        scope.timeSelected({ selectedTime: selectedDate });
                    }
                }
            };

            ctrl._refreshView = function () {
                var startDate = ctrl.range.startTime,
                    date = startDate.getDate(),
                    month = (startDate.getMonth() + (date !== 1 ? 1 : 0)) % 12,
                    year = startDate.getFullYear() + (date !== 1 && month === 0 ? 1 : 0);

                var days = getDates(startDate, 42);
                for (var i = 0; i < 42; i++) {
                    days[i] = angular.extend(createDateObject(days[i], ctrl.formatDay), {
                        secondary: days[i].getMonth() !== month
                    });
                }

                scope.labels = new Array(7);
                for (var j = 0; j < 7; j++) {
                    scope.labels[j] = dateFilter(days[j].date, ctrl.formatDayHeader);
                }

                var headerDate = new Date(year, month, 1);
                scope.$parent.title = dateFilter(headerDate, ctrl.formatMonthTitle);
                scope.rows = ctrl.split(days, 7);

                if (scope.showWeeks) {
                    scope.weekNumbers = [];
                    var thursdayIndex = (4 + 7 - ctrl.startingDay) % 7,
                        numWeeks = scope.rows.length;
                    for (var curWeek = 0; curWeek < numWeeks; curWeek++) {
                        scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));
                    }
                }
            };

            function createDateObject(date, format) {
                return {
                    date: date,
                    label: dateFilter(date, format),
                    selected: ctrl.compare(date, ctrl.currentCalendarDate) === 0,
                    current: ctrl.compare(date, new Date()) === 0
                };
            }

            function compareEvent(event1, event2) {
                if (event1.allDay) {
                    return 1;
                } else if (event2.allDay) {
                    return -1;
                } else {
                    return event1.startTime.getTime() - event2.startTime.getTime();
                }
            }

            ctrl._onDataLoaded = function () {
                var eventSource = ctrl.eventSource,
                    len = eventSource ? eventSource.length : 0,
                    startTime = ctrl.range.startTime,
                    endTime = ctrl.range.endTime,
                    utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),
                    utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),
                    rows = scope.rows,
                    oneDay = 86400000,
                    eps = 0.001,
                    row,
                    date,
                    hasEvent = false;

                if (rows.hasEvent) {
                    for (row = 0; row < 6; row += 1) {
                        for (date = 0; date < 7; date += 1) {
                            if (rows[row][date].hasEvent) {
                                rows[row][date].events = null;
                                rows[row][date].hasEvent = false;
                            }
                        }
                    }
                }

                for (var i = 0; i < len; i += 1) {
                    var event = eventSource[i];
                    var eventStartTime = new Date(event.startTime);
                    var eventEndTime = new Date(event.endTime);
                    var st;
                    var et;

                    if (event.allDay) {
                        if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {
                            continue;
                        } else {
                            st = utcStartTime;
                            et = utcEndTime;
                        }
                    } else {
                        if (eventEndTime <= startTime || eventStartTime >= endTime) {
                            continue;
                        } else {
                            st = startTime;
                            et = endTime;
                        }
                    }

                    var timeDiff;
                    var timeDifferenceStart;
                    if (eventStartTime <= st) {
                        timeDifferenceStart = 0;
                    } else {
                        timeDiff = eventStartTime - st;
                        if (!event.allDay) {
                            timeDiff = timeDiff - (eventStartTime.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;
                        }
                        timeDifferenceStart = timeDiff / oneDay;
                    }

                    var timeDifferenceEnd;
                    if (eventEndTime >= et) {
                        timeDiff = et - st;
                        if (!event.allDay) {
                            timeDiff = timeDiff - (et.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;
                        }
                        timeDifferenceEnd = timeDiff / oneDay;
                    } else {
                        timeDiff = eventEndTime - st;
                        if (!event.allDay) {
                            timeDiff = timeDiff - (eventEndTime.getTimezoneOffset() - st.getTimezoneOffset()) * 60000;
                        }
                        timeDifferenceEnd = timeDiff / oneDay;
                    }

                    var index = Math.floor(timeDifferenceStart);
                    var eventSet;
                    while (index < timeDifferenceEnd - eps) {
                        var rowIndex = Math.floor(index / 7);
                        var dayIndex = Math.floor(index % 7);
                        rows[rowIndex][dayIndex].hasEvent = true;
                        eventSet = rows[rowIndex][dayIndex].events;
                        if (eventSet) {
                            eventSet.push(event);
                        } else {
                            eventSet = [];
                            eventSet.push(event);
                            rows[rowIndex][dayIndex].events = eventSet;
                        }
                        index += 1;
                    }
                }

                for (row = 0; row < 6; row += 1) {
                    for (date = 0; date < 7; date += 1) {
                        if (rows[row][date].hasEvent) {
                            hasEvent = true;
                            rows[row][date].events.sort(compareEvent);
                        }
                    }
                }
                rows.hasEvent = hasEvent;

                var findSelected = false;
                for (row = 0; row < 6; row += 1) {
                    for (date = 0; date < 7; date += 1) {
                        if (rows[row][date].selected) {
                            scope.selectedDate = rows[row][date];
                            findSelected = true;
                            break;
                        }
                    }
                    if (findSelected) {
                        break;
                    }
                }
            };

            ctrl.compare = function (date1, date2) {
                return new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());
            };

            ctrl._getRange = function getRange(currentDate) {
                var year = currentDate.getFullYear(),
                    month = currentDate.getMonth(),
                    firstDayOfMonth = new Date(year, month, 1),
                    difference = ctrl.startingDay - firstDayOfMonth.getDay(),
                    numDisplayedFromPreviousMonth = difference > 0 ? 7 - difference : -difference,
                    startDate = new Date(firstDayOfMonth),
                    endDate;

                if (numDisplayedFromPreviousMonth > 0) {
                    startDate.setDate(-numDisplayedFromPreviousMonth + 1);
                }

                endDate = new Date(startDate);
                endDate.setDate(endDate.getDate() + 42);

                return {
                    startTime: startDate,
                    endTime: endDate
                };
            };

            function getISO8601WeekNumber(date) {
                var checkDate = new Date(date);
                checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday
                var time = checkDate.getTime();
                checkDate.setMonth(0); // Compare with Jan 1
                checkDate.setDate(1);
                return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
            }

            ctrl.refreshView();
        }
    };
}]).directive('weekview', ['dateFilter', '$timeout', function (dateFilter, $timeout) {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './build/html/week.html',
        require: '^calendar',
        link: function (scope, element, attrs, ctrl) {
            scope.formatWeekViewDayHeader = ctrl.formatWeekViewDayHeader;
            scope.formatHourColumn = ctrl.formatHourColumn;

            $timeout(function () {
                updateScrollGutter();
            });

            ctrl.mode = {
                step: { days: 7 }
            };

            function updateScrollGutter() {
                var children = element.children();
                var allDayEventBody = children[1].children[1];
                var allDayEventGutterWidth = allDayEventBody.offsetWidth - allDayEventBody.clientWidth;
                var normalEventBody = children[2];
                var normalEventGutterWidth = normalEventBody.offsetWidth - normalEventBody.clientWidth;
                var gutterWidth = allDayEventGutterWidth || normalEventGutterWidth || 0;
                if (gutterWidth > 0) {
                    scope.gutterWidth = gutterWidth;
                    if (allDayEventGutterWidth <= 0) {
                        scope.allDayEventGutterWidth = gutterWidth;
                    } else {
                        scope.allDayEventGutterWidth = 0;
                    }
                    if (normalEventGutterWidth <= 0) {
                        scope.normalGutterWidth = gutterWidth;
                    } else {
                        scope.normalGutterWidth = 0;
                    }
                }
            }

            function getDates(startTime, n) {
                var dates = new Array(n),
                    current = new Date(startTime),
                    i = 0;
                current.setHours(12); // Prevent repeated dates because of timezone bug
                while (i < n) {
                    dates[i++] = {
                        date: new Date(current)
                    };
                    current.setDate(current.getDate() + 1);
                }
                return dates;
            }

            function createDateObjects(startTime) {
                var times = [],
                    row,
                    time,
                    currentHour = startTime.getHours(),
                    currentDate = startTime.getDate();

                for (var hour = 0; hour < 24; hour += 1) {
                    row = [];
                    for (var day = 0; day < 7; day += 1) {
                        time = new Date(startTime.getTime());
                        time.setHours(currentHour + hour);
                        time.setDate(currentDate + day);
                        row.push({
                            time: time
                        });
                    }
                    times.push(row);
                }
                return times;
            }

            scope.select = function (selectedTime) {
                if (scope.timeSelected) {
                    scope.timeSelected({ selectedTime: selectedTime });
                }
            };

            ctrl._onDataLoaded = function () {
                var eventSource = ctrl.eventSource,
                    len = eventSource ? eventSource.length : 0,
                    startTime = ctrl.range.startTime,
                    endTime = ctrl.range.endTime,
                    utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),
                    utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),
                    rows = scope.rows,
                    dates = scope.dates,
                    oneHour = 3600000,
                    oneDay = 86400000,

                //add allday eps
                eps = 0.016,
                    eventSet,
                    allDayEventInRange = false,
                    normalEventInRange = false,
                    day,
                    hour;

                if (rows.hasEvent) {
                    for (day = 0; day < 7; day += 1) {
                        for (hour = 0; hour < 24; hour += 1) {
                            if (rows[hour][day].events) {
                                rows[hour][day].events = null;
                            }
                        }
                    }
                    rows.hasEvent = false;
                }

                if (dates.hasEvent) {
                    for (day = 0; day < 7; day += 1) {
                        if (dates[day].events) {
                            dates[day].events = null;
                        }
                    }
                    dates.hasEvent = false;
                }

                for (var i = 0; i < len; i += 1) {
                    var event = eventSource[i];
                    var eventStartTime = new Date(event.startTime);
                    var eventEndTime = new Date(event.endTime);

                    if (event.allDay) {
                        if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {
                            continue;
                        } else {
                            allDayEventInRange = true;

                            var allDayStartIndex;
                            if (eventStartTime <= utcStartTime) {
                                allDayStartIndex = 0;
                            } else {
                                allDayStartIndex = Math.floor((eventStartTime - utcStartTime) / oneDay);
                            }

                            var allDayEndIndex;
                            if (eventEndTime >= utcEndTime) {
                                allDayEndIndex = Math.ceil((utcEndTime - utcStartTime) / oneDay);
                            } else {
                                allDayEndIndex = Math.ceil((eventEndTime - utcStartTime) / oneDay);
                            }

                            var displayAllDayEvent = {
                                event: event,
                                startIndex: allDayStartIndex,
                                endIndex: allDayEndIndex
                            };

                            eventSet = dates[allDayStartIndex].events;
                            if (eventSet) {
                                eventSet.push(displayAllDayEvent);
                            } else {
                                eventSet = [];
                                eventSet.push(displayAllDayEvent);
                                dates[allDayStartIndex].events = eventSet;
                            }
                        }
                    } else {
                        if (eventEndTime <= startTime || eventStartTime >= endTime) {
                            continue;
                        } else {
                            normalEventInRange = true;

                            var timeDiff;
                            var timeDifferenceStart;
                            if (eventStartTime <= startTime) {
                                timeDifferenceStart = 0;
                            } else {
                                timeDiff = eventStartTime - startTime - (eventStartTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                                timeDifferenceStart = timeDiff / oneHour;
                            }

                            var timeDifferenceEnd;
                            if (eventEndTime >= endTime) {
                                timeDiff = endTime - startTime - (endTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                                timeDifferenceEnd = timeDiff / oneHour;
                            } else {
                                timeDiff = eventEndTime - startTime - (eventEndTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                                timeDifferenceEnd = timeDiff / oneHour;
                            }

                            var startIndex = Math.floor(timeDifferenceStart);
                            var endIndex = Math.ceil(timeDifferenceEnd - eps);
                            var startRowIndex = startIndex % 24;
                            var dayIndex = Math.floor(startIndex / 24);
                            var endOfDay = dayIndex * 24;
                            var endRowIndex;

                            do {
                                endOfDay += 24;
                                if (endOfDay <= endIndex) {
                                    endRowIndex = 24;
                                } else {
                                    endRowIndex = endIndex % 24;
                                }
                                var displayEvent = {
                                    event: event,
                                    startIndex: startRowIndex,
                                    endIndex: endRowIndex
                                };
                                eventSet = rows[startRowIndex][dayIndex].events;
                                if (eventSet) {
                                    eventSet.push(displayEvent);
                                } else {
                                    eventSet = [];
                                    eventSet.push(displayEvent);
                                    rows[startRowIndex][dayIndex].events = eventSet;
                                }
                                startRowIndex = 0;
                                dayIndex += 1;
                            } while (endOfDay < endIndex);
                        }
                    }
                }

                if (normalEventInRange) {
                    for (day = 0; day < 7; day += 1) {
                        var orderedEvents = [];
                        for (hour = 0; hour < 24; hour += 1) {
                            if (rows[hour][day].events) {
                                orderedEvents = orderedEvents.concat(rows[hour][day].events);
                            }
                        }
                        if (orderedEvents.length > 0) {
                            rows.hasEvent = true;
                            ctrl.placeEvents(orderedEvents);
                        }
                    }
                }

                if (allDayEventInRange) {
                    var orderedAllDayEvents = [];
                    for (day = 0; day < 7; day += 1) {
                        if (dates[day].events) {
                            orderedAllDayEvents = orderedAllDayEvents.concat(dates[day].events);
                        }
                    }
                    if (orderedAllDayEvents.length > 0) {
                        dates.hasEvent = true;
                        ctrl.placeAllDayEvents(orderedAllDayEvents);
                    }
                }

                $timeout(function () {
                    updateScrollGutter();
                });
            };

            ctrl._refreshView = function () {
                var firstDayOfWeek = ctrl.range.startTime,
                    dates = getDates(firstDayOfWeek, 7),
                    weekNumberIndex,
                    weekFormatPattern = 'w',
                    title;

                scope.rows = createDateObjects(firstDayOfWeek);
                scope.dates = dates;
                weekNumberIndex = ctrl.formatWeekTitle.indexOf(weekFormatPattern);
                title = dateFilter(firstDayOfWeek, ctrl.formatWeekTitle);
                if (weekNumberIndex !== -1) {
                    title = title.replace(weekFormatPattern, getISO8601WeekNumber(firstDayOfWeek));
                }
                scope.$parent.title = title;
            };

            ctrl._getRange = function getRange(currentDate) {
                var year = currentDate.getFullYear(),
                    month = currentDate.getMonth(),
                    date = currentDate.getDate(),
                    day = currentDate.getDay(),
                    firstDayOfWeek = new Date(year, month, date - day),
                    endTime = new Date(year, month, date - day + 7);

                return {
                    startTime: firstDayOfWeek,
                    endTime: endTime
                };
            };

            //This can be decomissioned when upgrade to Angular 1.3
            function getISO8601WeekNumber(date) {
                var checkDate = new Date(date);
                checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday
                var time = checkDate.getTime();
                checkDate.setMonth(0); // Compare with Jan 1
                checkDate.setDate(1);
                return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
            }

            ctrl.refreshView();
        }
    };
}]).directive('dayview', ['dateFilter', '$timeout', function (dateFilter, $timeout) {
    'use strict';

    return {
        restrict: 'EA',
        replace: true,
        templateUrl: './build/html/day.html',
        require: '^calendar',
        link: function (scope, element, attrs, ctrl) {
            scope.formatHourColumn = ctrl.formatHourColumn;

            $timeout(function () {
                updateScrollGutter();
            });

            ctrl.mode = {
                step: { days: 1 }
            };

            function updateScrollGutter() {
                var children = element.children();
                var allDayEventBody = children[0].children[1];
                var allDayEventGutterWidth = allDayEventBody.offsetWidth - allDayEventBody.clientWidth;
                var normalEventBody = children[1];
                var normalEventGutterWidth = normalEventBody.offsetWidth - normalEventBody.clientWidth;
                var gutterWidth = allDayEventGutterWidth || normalEventGutterWidth || 0;
                if (gutterWidth > 0) {
                    if (allDayEventGutterWidth <= 0) {
                        scope.allDayEventGutterWidth = gutterWidth;
                    } else {
                        scope.allDayEventGutterWidth = 0;
                    }
                    if (normalEventGutterWidth <= 0) {
                        scope.normalGutterWidth = gutterWidth;
                    } else {
                        scope.normalGutterWidth = 0;
                    }
                }
            }

            function createDateObjects(startTime) {
                var rows = [],
                    time,
                    currentHour = startTime.getHours(),
                    currentDate = startTime.getDate();

                for (var hour = 0; hour < 24; hour += 1) {
                    time = new Date(startTime.getTime());
                    time.setHours(currentHour + hour);
                    time.setDate(currentDate);
                    rows.push({
                        time: time
                    });
                }
                return rows;
            }

            scope.select = function (selectedTime) {
                if (scope.timeSelected) {
                    scope.timeSelected({ selectedTime: selectedTime });
                }
            };

            ctrl._onDataLoaded = function () {
                var eventSource = ctrl.eventSource,
                    len = eventSource ? eventSource.length : 0,
                    startTime = ctrl.range.startTime,
                    endTime = ctrl.range.endTime,
                    utcStartTime = new Date(Date.UTC(startTime.getFullYear(), startTime.getMonth(), startTime.getDate())),
                    utcEndTime = new Date(Date.UTC(endTime.getFullYear(), endTime.getMonth(), endTime.getDate())),
                    rows = scope.rows,
                    allDayEvents = [],
                    oneHour = 3600000,
                    eps = 0.016,
                    eventSet,
                    normalEventInRange = false,
                    hour;

                if (rows.hasEvent) {
                    for (hour = 0; hour < 24; hour += 1) {
                        if (rows[hour].events) {
                            rows[hour].events = null;
                        }
                    }
                    rows.hasEvent = false;
                }

                for (var i = 0; i < len; i += 1) {
                    var event = eventSource[i];
                    var eventStartTime = new Date(event.startTime);
                    var eventEndTime = new Date(event.endTime);

                    if (event.allDay) {
                        if (eventEndTime <= utcStartTime || eventStartTime >= utcEndTime) {
                            continue;
                        } else {
                            allDayEvents.push({
                                event: event
                            });
                        }
                    } else {
                        if (eventEndTime <= startTime || eventStartTime >= endTime) {
                            continue;
                        } else {
                            normalEventInRange = true;
                        }

                        var timeDiff;
                        var timeDifferenceStart;
                        if (eventStartTime <= startTime) {
                            timeDifferenceStart = 0;
                        } else {
                            timeDiff = eventStartTime - startTime - (eventStartTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                            timeDifferenceStart = timeDiff / oneHour;
                        }

                        var timeDifferenceEnd;
                        if (eventEndTime >= endTime) {
                            timeDiff = endTime - startTime - (endTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                            timeDifferenceEnd = timeDiff / oneHour;
                        } else {
                            timeDiff = eventEndTime - startTime - (eventEndTime.getTimezoneOffset() - startTime.getTimezoneOffset()) * 60000;
                            timeDifferenceEnd = timeDiff / oneHour;
                        }

                        var startIndex = Math.floor(timeDifferenceStart);
                        var endIndex = Math.ceil(timeDifferenceEnd - eps);

                        var displayEvent = {
                            event: event,
                            startIndex: startIndex,
                            endIndex: endIndex
                        };

                        eventSet = rows[startIndex].events;
                        if (eventSet) {
                            eventSet.push(displayEvent);
                        } else {
                            eventSet = [];
                            eventSet.push(displayEvent);
                            rows[startIndex].events = eventSet;
                        }
                    }
                }

                if (normalEventInRange) {
                    var orderedEvents = [];
                    for (hour = 0; hour < 24; hour += 1) {
                        if (rows[hour].events) {
                            orderedEvents = orderedEvents.concat(rows[hour].events);
                        }
                    }
                    if (orderedEvents.length > 0) {
                        rows.hasEvent = true;
                        ctrl.placeEvents(orderedEvents);
                    }
                }

                scope.allDayEvents = allDayEvents;

                $timeout(function () {
                    updateScrollGutter();
                });
            };

            ctrl._refreshView = function () {
                var startingDate = ctrl.range.startTime;

                scope.rows = createDateObjects(startingDate);
                scope.allDayEvents = [];
                scope.dates = [startingDate];
                scope.$parent.title = dateFilter(startingDate, ctrl.formatDayTitle);
            };

            ctrl._getRange = function getRange(currentDate) {
                var year = currentDate.getFullYear(),
                    month = currentDate.getMonth(),
                    date = currentDate.getDate(),
                    startTime = new Date(year, month, date),
                    endTime = new Date(year, month, date + 1);

                return {
                    startTime: startTime,
                    endTime: endTime
                };
            };

            ctrl.refreshView();
        }
    };
}]);
angular.module("template/rcalendar/calendar.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/calendar.html", "<div ng-switch=\"calendarMode\">\n" + "    <div class=\"row calendar-navbar\">\n" + "        <div class=\"nav-left col-xs-2\">\n" + "            <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"move(-1)\"><i\n" + "                    class=\"glyphicon glyphicon-chevron-left\"></i></button>\n" + "        </div>\n" + "        <div class=\"calendar-header col-xs-8\">{{title}}</div>\n" + "        <div class=\"nav-right col-xs-2\">\n" + "            <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"move(1)\"><i\n" + "                    class=\"glyphicon glyphicon-chevron-right\"></i></button>\n" + "        </div>\n" + "    </div>\n" + "    <dayview ng-switch-when=\"day\"></dayview>\n" + "    <monthview ng-switch-when=\"month\"></monthview>\n" + "    <weekview ng-switch-when=\"week\"></weekview>\n" + "</div>\n" + "");
}]);

angular.module("template/rcalendar/day.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/day.html", "<div>\n" + "    <div class=\"dayview-allday-table\">\n" + "        <div class=\"dayview-allday-label\">\n" + "            all day\n" + "        </div>\n" + "        <div class=\"dayview-allday-content-wrapper\">\n" + "            <table class=\"table table-bordered dayview-allday-content-table\">\n" + "                <tbody>\n" + "                <tr>\n" + "                    <td class=\"calendar-cell\" ng-class=\"{'calendar-event-wrap':allDayEvents}\"\n" + "                        ng-style=\"{height: 25*allDayEvents.length+'px'}\">\n" + "                        <div ng-repeat=\"displayEvent in allDayEvents\" class=\"calendar-event\"\n" + "                             ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                             ng-style=\"{top: 25*$index+'px',width: '100%',height:'25px'}\">\n" + "                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                        </div>\n" + "                    </td>\n" + "                    <td ng-if=\"allDayEventGutterWidth>0\" class=\"gutter-column\"\n" + "                        ng-style=\"{width:allDayEventGutterWidth+'px'}\"></td>\n" + "                </tr>\n" + "                </tbody>\n" + "            </table>\n" + "        </div>\n" + "    </div>\n" + "    <div class=\"scrollable\" style=\"height: 400px\">\n" + "        <table class=\"table table-bordered table-fixed\">\n" + "            <tbody>\n" + "            <tr ng-repeat=\"tm in rows track by $index\">\n" + "                <td class=\"calendar-hour-column text-center\">\n" + "                    {{tm.time | date: formatHourColumn}}\n" + "                </td>\n" + "                <td class=\"calendar-cell\" ng-click=\"select(tm.time)\">\n" + "                    <div ng-class=\"{'calendar-event-wrap': tm.events}\" ng-if=\"tm.events\">\n" + "                        <div ng-repeat=\"displayEvent in tm.events\" class=\"calendar-event\"\n" + "                             ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                             ng-style=\"{left: 100/displayEvent.overlapNumber*displayEvent.position+'%', width: 100/displayEvent.overlapNumber+'%', height: 37*(displayEvent.endIndex-displayEvent.startIndex)+'px'}\">\n" + "                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                        </div>\n" + "                    </div>\n" + "                </td>\n" + "            </tr>\n" + "            </tbody>\n" + "        </table>\n" + "    </div>\n" + "</div>");
}]);

angular.module("template/rcalendar/month.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/month.html", "<div>\n" + "    <table class=\"table table-bordered table-fixed monthview-datetable monthview-datetable\">\n" + "        <thead>\n" + "        <tr>\n" + "            <th ng-show=\"showWeeks\" class=\"calendar-week-column text-center\">#</th>\n" + "            <th ng-repeat=\"label in labels track by $index\" class=\"text-center\">\n" + "                <small>{{label}}</small>\n" + "            </th>\n" + "        </tr>\n" + "        </thead>\n" + "        <tbody>\n" + "        <tr ng-repeat=\"row in rows track by $index\">\n" + "            <td ng-show=\"showWeeks\" class=\"calendar-week-column text-center\">\n" + "                <small><em>{{ weekNumbers[$index] }}</em></small>\n" + "            </td>\n" + "            <td ng-repeat=\"dt in row track by dt.date\" class=\"monthview-dateCell\" ng-click=\"select(dt.date)\"\n" + "                ng-class=\"{'text-center':true, 'monthview-current': dt.current&&!dt.selected&&!dt.hasEvent,'monthview-secondary-with-event': dt.secondary&&dt.hasEvent, 'monthview-primary-with-event':!dt.secondary&&dt.hasEvent&&!dt.selected, 'monthview-selected': dt.selected}\">\n" + "                <div ng-class=\"{'text-muted':dt.secondary}\">\n" + "                    {{dt.label}}\n" + "                </div>\n" + "            </td>\n" + "        </tr>\n" + "        </tbody>\n" + "    </table>\n" + "    <div ng-if=\"showEventDetail\" class=\"event-detail-container\">\n" + "        <div class=\"scrollable\" style=\"height: 200px\">\n" + "            <table class=\"table table-bordered table-striped table-fixed\">\n" + "                <tr ng-repeat=\"event in selectedDate.events\" ng-if=\"selectedDate.events\">\n" + "                    <td ng-if=\"!event.allDay\" class=\"monthview-eventdetail-timecolumn\">{{event.startTime|date: 'HH:mm'}}\n" + "                        -\n" + "                        {{event.endTime|date: 'HH:mm'}}\n" + "                    </td>\n" + "                    <td ng-if=\"event.allDay\" class=\"monthview-eventdetail-timecolumn\">All day</td>\n" + "                    <td class=\"event-detail\" ng-click=\"eventSelected({event:event})\">{{event.title}}</td>\n" + "                </tr>\n" + "                <tr ng-if=\"!selectedDate.events\"><td class=\"no-event-label\">No Events</td></tr>\n" + "            </table>\n" + "        </div>\n" + "    </div>\n" + "</div>");
}]);

angular.module("template/rcalendar/week.html", []).run(["$templateCache", function ($templateCache) {
    $templateCache.put("template/rcalendar/week.html", "<div>\n" + "    <table class=\"table table-bordered table-fixed weekview-header\">\n" + "        <thead>\n" + "        <tr>\n" + "            <th class=\"calendar-hour-column\"></th>\n" + "            <th ng-repeat=\"dt in dates\" class=\"text-center weekview-header-label\">{{dt.date| date:\n" + "                formatWeekViewDayHeader}}\n" + "            </th>\n" + "            <th ng-if=\"gutterWidth>0\" class=\"gutter-column\" ng-style=\"{width: gutterWidth+'px'}\"></th>\n" + "        </tr>\n" + "        </thead>\n" + "    </table>\n" + "    <div class=\"weekview-allday-table\">\n" + "        <div class=\"weekview-allday-label\">\n" + "            all day\n" + "        </div>\n" + "        <div class=\"weekview-allday-content-wrapper\">\n" + "            <table class=\"table table-bordered table-fixed weekview-allday-content-table\">\n" + "                <tbody>\n" + "                <tr>\n" + "                    <td ng-repeat=\"day in dates track by day.date\" class=\"calendar-cell\">\n" + "                        <div ng-class=\"{'calendar-event-wrap': day.events}\" ng-if=\"day.events\"\n" + "                             ng-style=\"{height: 25*day.events.length+'px'}\">\n" + "                            <div ng-repeat=\"displayEvent in day.events\" class=\"calendar-event\"\n" + "                                 ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                                 ng-style=\"{top: 25*displayEvent.position+'px', width: 100*(displayEvent.endIndex-displayEvent.startIndex)+'%', height: '25px'}\">\n" + "                                <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                            </div>\n" + "                        </div>\n" + "                    </td>\n" + "                    <td ng-if=\"allDayEventGutterWidth>0\" class=\"gutter-column\"\n" + "                        ng-style=\"{width: allDayEventGutterWidth+'px'}\"></td>\n" + "                </tr>\n" + "                </tbody>\n" + "            </table>\n" + "        </div>\n" + "    </div>\n" + "    <div class=\"scrollable\" style=\"height: 400px\">\n" + "        <table class=\"table table-bordered table-fixed\">\n" + "            <tbody>\n" + "            <tr ng-repeat=\"row in rows track by $index\">\n" + "                <td class=\"calendar-hour-column text-center\">\n" + "                    {{row[0].time | date: formatHourColumn}}\n" + "                </td>\n" + "                <td ng-repeat=\"tm in row track by tm.time\" class=\"calendar-cell\" ng-click=\"select(tm.time)\">\n" + "                    <div ng-class=\"{'calendar-event-wrap': tm.events}\" ng-if=\"tm.events\">\n" + "                        <div ng-repeat=\"displayEvent in tm.events\" class=\"calendar-event\"\n" + "                             ng-click=\"eventSelected({event:displayEvent.event})\"\n" + "                             ng-style=\"{left: 100/displayEvent.overlapNumber*displayEvent.position+'%', width: 100/displayEvent.overlapNumber+'%', height: 37*(displayEvent.endIndex-displayEvent.startIndex)+'px'}\">\n" + "                            <div class=\"calendar-event-inner\">{{displayEvent.event.title}}</div>\n" + "                        </div>\n" + "                    </div>\n" + "                </td>\n" + "                <td ng-if=\"normalGutterWidth>0\" class=\"gutter-column\" ng-style=\"{width: normalGutterWidth+'px'}\"></td>\n" + "            </tr>\n" + "            </tbody>\n" + "        </table>\n" + "    </div>\n" + "</div>");
}]);
specialist.factory('dataService', ['$http', function ($http) {
    var signUpDocObj = {};
    return {
        getFullDoctorList: function () {
            return $http.get('http://0.0.0.0:8080/doctor/list').then(function (resp) {
                return resp.data;
            });
        },
        checkUserExistance: function () {},
        signUpDoctor: function (obj) {
            // return $http.post('http://0.0.0.0:8080/doctor/add',obj).then(function(resp){
            // 	return resp;
            // })
            // var obj = {
            //     'sessionId': '23458863',
            //     'docData': { 'name': 'nitin', 'email': 'ntngiri@gmail.com', 'address': 'ksjdnv skvnj', 'city': 'Gurgaon', 'state': 'haryana', 'mob': '70412992873', 'clinic': 'ksjbd', 'fee': '699', 'hv_fee': '7365' }
            // };
            signUpDocObj = obj;
            console.log('dataService', signUpDocObj);
            //return signUpDocObj;
        },
        getDoctorData: function () {
            // return $http.get('http://0.0.0.0:8080/doctor/'+id).then(function(resp){
            // 	return resp.data;
            // });
            return signUpDocObj;
        }
    };
}]);
specialist.controller('docProfileCtrl', ['$scope', 'dataService', function ($scope, dataService) {
    var doctorId = 4;
    // dataService.getDoctorData(doctorId).then(function(data) {
    //     console.log(data);
    //     $scope.doctorData = data[0];
    // });
    $scope.docJson = dataService.getDoctorData();
    console.log('docprofile', docJson);

    $scope.mode = 'week';
    $scope.eventSource = createRandomEvents();
    $scope.selected = 0;
    $scope.select = function (index) {
        $scope.selected = index;
    };
    $scope.navProfileList = [{ 'sref': 'dashboard', 'title': 'Dashboard' }, { 'sref': 'faq', 'title': 'FAQ' }, { 'sref': 'plans', 'title': 'Pricing Plans' }, { 'sref': 'profile', 'title': 'User Account' }];

    function createRandomEvents() {
        var events = [];
        for (var i = 0; i < 50; i += 1) {
            var date = new Date();
            var eventType = Math.floor(Math.random() * 2);
            var startDay = Math.floor(Math.random() * 90) - 45;
            var endDay = Math.floor(Math.random() * 2) + startDay;
            var startTime;
            var endTime;
            if (eventType === 0) {
                startTime = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate() + startDay));
                if (endDay === startDay) {
                    endDay += 1;
                }
                endTime = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate() + endDay));
                events.push({
                    title: 'All Day - ' + i,
                    startTime: startTime,
                    endTime: endTime,
                    allDay: true
                });
            } else {
                var startMinute = Math.floor(Math.random() * 24 * 60);
                var endMinute = Math.floor(Math.random() * 180) + startMinute;
                startTime = new Date(date.getFullYear(), date.getMonth(), date.getDate() + startDay, 0, date.getMinutes() + startMinute);
                endTime = new Date(date.getFullYear(), date.getMonth(), date.getDate() + endDay, 0, date.getMinutes() + endMinute);
                events.push({
                    title: i + 'Mr Nitin',
                    startTime: startTime,
                    endTime: endTime,
                    allDay: false
                });
            }
        }
        return events;
    }
}]);
specialist.controller('docSignupCtrl', ['$scope', '$state', 'dataService', function ($scope, $state, dataService) {
	$scope.secondForm = false;
	$scope.firstForm = true;
	$scope.email_err = false;
	$scope.pwd_err = false;
	$scope.err_msg = false;
	$scope.mobileRegEx = "/^[0-9]{10,10}$/;";
	$scope.pinCodeRegEx = "/^[0-9]{6,6}$/;";
	var signUpData = {};
	$scope.checkEmailPwdValidity = function (value) {
		if (value == 'email') {
			if ($scope.email !== $scope.confEmail) {
				$scope.email_err = true;
				$scope.email_err_msg = 'Email did not match';
			} else {
				$scope.email_err = false;
				$scope.email_err_msg = '';
			}
		} else if (value == 'pwd') {
			if ($scope.pass !== $scope.confPass) {
				$scope.pass_err = true;
			} else {
				$scope.pass_err = false;
			}
		}
	};
	$scope.bringSecondForm = function (isValid) {
		if (isValid) {
			$scope.err_msg = false;
			signUpData.name = $scope.fname + " " + $scope.lname;
			if ($scope.email == $scope.confEmail) {
				signUpData.email = $scope.email;
			} else {
				$scope.email_err = true;
			}
			if ($scope.pass == $scope.confPass) {
				signUpData.password = $scope.pass;
			} else {
				$scope.pass_err = true;
			}
			if (!$scope.pass_err && !$scope.email_err) {
				$scope.secondForm = true;
				$scope.firstForm = false;
			}
		} else if (!isValid) {
			$scope.err_msg = true;
		}
	};

	$scope.sendSignupDoc = function (isValid) {
		if (isValid) {
			$scope.err_msg = false;
			signUpData.address = $scope.address1 + ' ' + $scope.address2;
			signUpData.pin = $scope.pinCode;
			signUpData.city = $scope.city;
			signUpData.state = $scope.state;
			signUpData.mobile = $scope.mobileNo;
			signUpData.clinic_name = $scope.clinicName;
			signUpData.fee = $scope.clinicFee;
			signUpData.hv_fee = $scope.homeVisit;
			dataService.signUpDoctor(signUpData);
			$state.go('doctorProfile.dashboard'); //to be removed
			// dataService.signUpDoctor(signUpData).then(function(resp){
			// 	$state.go('doctorProfile.dashboard');
			// });
		} else if (!isValid) {
			$scope.err_msg = true;
		}
	};
}]);
specialist.controller('doctorPortalCtrl', ['$scope', function ($scope) {}]);
angular.module('specialist.tagit', []).directive('tagIt', function () {
    return {
        restrict: 'EA',
        scope: {
            tags: "=",
            remove: "&"
        },
        template: '<div><ul class="tags"><li  class="tagit" ng-repeat="tag in tags "><span class="tagText">{{::tag.name}}</span><a  ng-click="remove({idx:tag.id})" class="dCross" href="javascript:;">x</a></li></ul></div>',

        link: function ($scope, $element, $attrs, $ctrl) {
            // console.log($scope, $attrs);
        }
    };
});

angular.module('specialist.listing', []).directive('ngRepeatDoneNotification', function () {
    return function (scope, element, attrs) {

        if (!scope.$parent.multiSelect) {

            if (scope.selectedId && scope.selectedId.length != 0 && scope.$last && !scope.$parent.firstReapet) {
                scope.$parent.firstReapet = 1;
                scope.callback({
                    'item': {
                        id: scope.selectedId[0],
                        name: scope.data[scope.idHash.indexOf(scope.selectedId[0])].name,
                        allSelected: scope.selectedId,
                        checked: null,
                        first: true
                    }
                });
            }
        }
        //console.log(scope.$parent.idHash);
    };
}).directive('listing', function () {
    return {
        restrict: 'E',
        transclude: true,
        replace: true,
        scope: {
            'data': '=',
            'tupleCount': '@',
            'selectedId': '=',
            'maxHeight': '@',
            'callback': '&listingCallback',
            'multiSelect': '@',
            'filterName': "=",
            'active': '='
        },

        //template: '<ul><li ng-repeat="item in data|limitTo:tupleCount" ng-repeat-done-notification={{item.id}} ng-click="checkItem(this)"><input ng-if="multiSelect" type="checkbox" ng-model=item.checked><div style="display:inline-block;" ng-transclude></div></li></ul>',
        template: '<ul><li ng-repeat="item in data" ng-repeat-done-notification={{item.id}} ng-click="checkItem(this)" ng-class="{active:item.active, notSelectable:item.notSelectable}"><input ng-if="multiSelect == \'true\' && !item.notSelectable" type="checkbox" ng-model=item.checked>{{selectedName}}<div style="display:inline-block; width:auto;" ng-transclude></div></li></ul>',

        link: function (scope, iElement, iAttr, controllers) {
            scope.firstReapet = 0;
            scope.selObj = {};
            scope.idHash = [];
            if (scope.data) {
                scope.data.forEach(function (x) {
                    scope.idHash.push(x.id);
                });
            }
            scope.$on('select', function (event, someData, flag) {
                var elemToSel;
                if (flag) {
                    elemToSel = scope.data[scope.idHash.indexOf(flag)];
                } else {
                    elemToSel = scope.data[scope.active];
                }

                scope.checkItem({
                    'item': elemToSel
                });
            });
            scope.$on('deSelect', function (event, id) {});

            scope.isActive = function (matchIdx) {
                if (scope.active < iElement.find('li').length) {
                    return scope.active === matchIdx;
                } else {
                    scope.active = 0;
                    //  return scope.active === matchIdx;
                }
            };

            scope.checkItem = function (_this) {
                var arr = [];
                scope.attr = iAttr;

                if (_this.item.notSelectable) {
                    //iElement.addClass('notSelectable');
                    return;
                }

                scope.checkSelection(_this);

                scope.callback({
                    'item': {
                        id: _this.item.id,
                        name: _this.item.name,
                        allSelected: scope.selectedId,
                        checked: _this.item.checked
                    }
                });
            };

            scope.checkSelection = function (t) {
                // array and selectedId will be the same after this, 
                var id = t.item.id;
                scope.selectedId = scope.selectedId || [];
                if (scope.attr.multiSelect) {
                    var index = scope.selectedId.indexOf(id);
                    if (index == -1) {
                        scope.selectedId.push(id);
                        scope.selObj[id] = t.item.name;
                        t.item.checked = true;
                    } else {
                        scope.selectedId.splice(index, 1);
                        delete scope.selObj[id];
                        t.item.checked = false;
                    }
                } else {
                    scope.selectedId = [];
                    scope.selectedId.push(id);
                    //t.item.checked = true;
                }
            };
        }
    };
});

angular.module('specialist.droope', ['specialist.listing', 'specialist.tagit']).directive('droope', ["$document", function ($document) {
    // Runs during compile
    return {
        scope: {
            option: "=",
            callback: "&droopeCallback",
            data: "=",
            selectedId: "=",
            api: "="
        },
        // controller: function($scope, $element, $attrs, $transclude) {},
        restrict: 'E', // E = Element, A = Attribute, C = Class, M = Comment
        template: '<div class="ddwn">' + '<div class="DDwrap">' + '<ul class="DDsearch">' + '<li class="frst" style="float: none;">' + '<div class="DDinputWrap">' + '<span class="ddIcon srchTxt" ng-click="showDrop()"></span>' + '<input type="text" ng-click="showDrop()" id="" class="srchTxt" autocomplete="off" style="color: rgb(68, 68, 68);" ng-model="selectedName">' + '</div>' + '</li>' + '</ul>' + '</div>' + '<div class="dd_dwn" ng-show="show">' + '<listing tuplecount="10" multi-select="{{option.multiselect}}" active="activeIndex" selected-id ="selectedId" listing-callback="listingCallback(item)" data="data" filter-name="selectedName">' + '<div><span>{{$parent.item.name}}</span></div>' + '</listing>' + '</div>' + '</div>',
        replace: true,
        transclude: true,
        compile: function (tElement, tAttrs) {
            var __options__ = {
                fieldAttr: {
                    placeholder: 'Enter your Values'
                }

            };
            return function linking(scope, iElm, iAttrs, controller) {
                scope.activeIndex = 0;
                //console.log(iElm);
                //bind keyboard events: arrows up(38) / down(40), enter(13) and tab(9), esc(27)
                iElm.find('input').on('keydown', function (evt) {
                    var target;
                    switch (evt.which) {
                        case 8:
                            if (scope.selectedName == "") {
                                scope.show = true;
                            }
                            scope.$digest();
                            break;
                        case 9:
                            scope.blurOut();
                            break;
                        case 13:
                            evt.stopPropagation();
                            scope.$broadcast('select', this);
                            scope.$digest();
                            break;
                        case 38:
                            scope.data[scope.activeIndex].active = false;
                            scope.activeIndex--;
                            scope.data[scope.activeIndex].active = true;
                            scope.$digest();
                            break;
                        case 40:
                            scope.data[scope.activeIndex].active = false;
                            scope.activeIndex++;
                            scope.data[scope.activeIndex].active = true;
                            scope.$digest();
                            break;
                    }
                });
                scope.options = angular.merge(__options__, scope.option);
                scope.tags = [];
                iElm.find('input').attr(scope.options.fieldAttr);
                /**
                 * [function called on list click- after listing callback]
                 * @param  {[type]} retObj [object from listing callback]
                 * @return {[type]}      [tags object updated]
                 */
                scope.api = {
                    resetDroope: function () {
                        //scope.active = -1;
                        scope.selectedName = "", scope.selectedId = [];
                    },
                    selectItem: function (id) {
                        if (Object.prototype.toString.call(id) === '[object Array]') {
                            scope.$broadcast('select', this, id);
                        } else {
                            scope.$broadcast('select', this, id);
                        }
                    }
                };
                scope.listingCallback = function (retObj) {
                    var newTag = {
                        id: retObj.id,
                        name: retObj.name
                    };
                    scope.tagUpdate(newTag, retObj.checked);
                };

                scope.tagUpdate = function (tagObj, checked) {
                    if (scope.option.multiselect) {
                        if (checked) {
                            scope.tags.push(tagObj);
                        } else {
                            var index = scope.tags.indexOf(tagObj);
                            scope.tags.splice(index, 1);
                        }
                    } else {
                        scope.selectedName = tagObj.name;
                        scope.show = false;
                        scope.callback({
                            "item": tagObj
                        });
                    }

                    if (event) {
                        event.stopPropagation();
                    }
                };
                /**
                 * [called on input focus - will show the list]
                 */
                scope.showDrop = function () {
                    // if (scope.option.multiselect) {

                    // } else {
                    scope.lastSelected = scope.selectedName;
                    scope.selectedName = '';
                    scope.show = true;
                    //}
                    // var parElm = document.getElementById('meraDD');
                    // var scrollCont = document.getElementById('dd_dwn');
                    // var fstElm = document.getElementById('dd_dwn').getElementsByTagName("li")[0];
                    // scope.scrollHandler(parElm, scrollCont, fstElm, fstElm);
                };

                /**
                 * [removing all tags]
                 */
                scope.removeAllTags = function () {
                    scope.tags = [];
                    if (scope.option.multiselect) {
                        for (i = 0; i < scope.selectedId.length; i++) {
                            var index = scope.data.indexOf(scope.selectedId[i]);
                            scope.data[index].checked = false;
                        }
                    } else {
                        scope.selectedName = '';
                    }
                };

                scope.blurOut = function () {
                    var blurObj = {
                        id: "",
                        name: scope.selectedName,
                        checked: 'no'
                        //  scope.show = true;
                    };
                    scope.listingCallback(blurObj);
                };
                /**
                 * [hide list drop on document click]
                 */
                $document.on("click", function (event) {
                    if (!angular.element(event.target).hasClass('srchTxt')) {
                        scope.show = false;
                        if (scope.selectedName == "") {
                            scope.selectedName = scope.lastSelected;
                        }
                        //  scope.blurOut();
                    } else {}
                    scope.$apply();
                });
            };
        }
    };
}]);
specialist.controller('mainController', ['$scope', function ($scope) {
	var json = [{ 'name': 'Delhi' }, { 'name': 'Noida' }, { 'name': 'Gurgaon' }];
	$scope.options = {};
	$scope.options = {
		data: json,
		multiselect: true,
		maxHeight: 250
	};
	$scope.data = [{ 'name': 'Delhi' }, { 'name': 'Noida' }, { 'name': 'Gurgaon' }];
	$scope.selectedId = [];
	$scope.onClickFunc = function (obj1) {
		//$scope.cbObj = obj;
		console.log(obj1);
	};
	$scope.api = {};
}]);
specialist.controller('SearchCtrl', ['$scope', 'dataService', function ($scope, dataService) {
	dataService.getFullDoctorList().then(function (data) {
		console.log(data);
		$scope.doctorList = data;
	});
}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNhbGVuZGVyLmpzIiwiZGF0YVNlcnZpY2UuanMiLCJkb2NQcm9maWxlQ29udHJvbGxlci5qcyIsImRvY1NpZ251cENvbnRyb2xsZXIuanMiLCJkb2N0b3JQb3J0YWwuanMiLCJkcm9vcGUuanMiLCJtYWluQ29udHJvbGxlci5qcyIsInNlYXJjaENvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsic3BlY2lhbGlzdCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJhYnN0cmFjdCIsImh0bWw1TW9kZSIsImNvbnN0YW50IiwiZm9ybWF0RGF5IiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRXZWVrVGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwiZm9ybWF0V2Vla1ZpZXdEYXlIZWFkZXIiLCJmb3JtYXRIb3VyQ29sdW1uIiwiY2FsZW5kYXJNb2RlIiwic2hvd1dlZWtzIiwic2hvd0V2ZW50RGV0YWlsIiwic3RhcnRpbmdEYXkiLCJldmVudFNvdXJjZSIsInF1ZXJ5TW9kZSIsIiRzY29wZSIsIiRhdHRycyIsIiRwYXJzZSIsIiRpbnRlcnBvbGF0ZSIsIiRsb2ciLCJkYXRlRmlsdGVyIiwiY2FsZW5kYXJDb25maWciLCJzZWxmIiwibmdNb2RlbEN0cmwiLCIkc2V0Vmlld1ZhbHVlIiwibm9vcCIsImZvckVhY2giLCJrZXkiLCJpbmRleCIsImlzRGVmaW5lZCIsIiRwYXJlbnQiLCIkZXZhbCIsIiR3YXRjaCIsInZhbHVlIiwib25FdmVudFNvdXJjZUNoYW5nZWQiLCJpbml0RGF0ZSIsImN1cnJlbnRDYWxlbmRhckRhdGUiLCJEYXRlIiwibmdNb2RlbCIsImFzc2lnbiIsImluaXQiLCJuZ01vZGVsQ3RybF8iLCIkcmVuZGVyIiwicmVuZGVyIiwiJG1vZGVsVmFsdWUiLCJkYXRlIiwiaXNWYWxpZCIsImlzTmFOIiwiZXJyb3IiLCIkc2V0VmFsaWRpdHkiLCJyZWZyZXNoVmlldyIsIm1vZGUiLCJyYW5nZSIsIl9nZXRSYW5nZSIsIl9yZWZyZXNoVmlldyIsInJhbmdlQ2hhbmdlZCIsInNwbGl0IiwiYXJyIiwic2l6ZSIsImFycmF5cyIsImxlbmd0aCIsInB1c2giLCJzcGxpY2UiLCJfb25EYXRhTG9hZGVkIiwibW92ZSIsImRpcmVjdGlvbiIsInN0ZXAiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJ5ZWFycyIsIm1vbnRoIiwiZ2V0TW9udGgiLCJtb250aHMiLCJnZXREYXRlIiwiZGF5cyIsImZpcnN0RGF5SW5OZXh0TW9udGgiLCJzZXRGdWxsWWVhciIsImdldFRpbWUiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwib3ZlcmxhcCIsImV2ZW50MSIsImV2ZW50MiIsImVuZEluZGV4Iiwic3RhcnRJbmRleCIsImNhbGN1bGF0ZVBvc2l0aW9uIiwiZXZlbnRzIiwiaSIsImoiLCJsZW4iLCJtYXhDb2x1bW4iLCJjb2wiLCJpc0ZvcmJpZGRlbiIsIkFycmF5IiwicG9zaXRpb24iLCJjYWxjdWxhdGVXaWR0aCIsIm9yZGVyZWRFdmVudHMiLCJjZWxscyIsImV2ZW50IiwiZXZlbnRDb3VudEluQ2VsbCIsImN1cnJlbnRFdmVudEluQ2VsbCIsInNvcnQiLCJldmVudEEiLCJldmVudEIiLCJjYWxjdWxhdGVkIiwib3ZlcmxhcE51bWJlciIsImV2ZW50UXVldWUiLCJzaGlmdCIsInBsYWNlRXZlbnRzIiwicGxhY2VBbGxEYXlFdmVudHMiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcGxhY2UiLCJzY29wZSIsImV2ZW50U2VsZWN0ZWQiLCJ0aW1lU2VsZWN0ZWQiLCJyZXF1aXJlIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsImN0cmxzIiwiY2FsZW5kYXJDdHJsIiwiJG9uIiwiY3RybCIsImdldERhdGVzIiwic3RhcnREYXRlIiwibiIsImRhdGVzIiwiY3VycmVudCIsInNldEhvdXJzIiwic2V0RGF0ZSIsInNlbGVjdCIsInNlbGVjdGVkRGF0ZSIsInJvd3MiLCJjdXJyZW50TW9udGgiLCJjdXJyZW50WWVhciIsInNlbGVjdGVkTW9udGgiLCJzZWxlY3RlZFllYXIiLCJyb3ciLCJzZWxlY3RlZCIsImNvbXBhcmUiLCJzZWxlY3RlZFRpbWUiLCJleHRlbmQiLCJjcmVhdGVEYXRlT2JqZWN0Iiwic2Vjb25kYXJ5IiwibGFiZWxzIiwiaGVhZGVyRGF0ZSIsInRpdGxlIiwid2Vla051bWJlcnMiLCJ0aHVyc2RheUluZGV4IiwibnVtV2Vla3MiLCJjdXJXZWVrIiwiZ2V0SVNPODYwMVdlZWtOdW1iZXIiLCJmb3JtYXQiLCJsYWJlbCIsImNvbXBhcmVFdmVudCIsImFsbERheSIsInV0Y1N0YXJ0VGltZSIsIlVUQyIsInV0Y0VuZFRpbWUiLCJvbmVEYXkiLCJlcHMiLCJoYXNFdmVudCIsImV2ZW50U3RhcnRUaW1lIiwiZXZlbnRFbmRUaW1lIiwic3QiLCJldCIsInRpbWVEaWZmIiwidGltZURpZmZlcmVuY2VTdGFydCIsImdldFRpbWV6b25lT2Zmc2V0IiwidGltZURpZmZlcmVuY2VFbmQiLCJNYXRoIiwiZmxvb3IiLCJldmVudFNldCIsInJvd0luZGV4IiwiZGF5SW5kZXgiLCJmaW5kU2VsZWN0ZWQiLCJkYXRlMSIsImRhdGUyIiwiZ2V0UmFuZ2UiLCJjdXJyZW50RGF0ZSIsImZpcnN0RGF5T2ZNb250aCIsImRpZmZlcmVuY2UiLCJnZXREYXkiLCJudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCIsImVuZERhdGUiLCJjaGVja0RhdGUiLCJ0aW1lIiwic2V0TW9udGgiLCJyb3VuZCIsIiR0aW1lb3V0IiwidXBkYXRlU2Nyb2xsR3V0dGVyIiwiY2hpbGRyZW4iLCJhbGxEYXlFdmVudEJvZHkiLCJhbGxEYXlFdmVudEd1dHRlcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsIm5vcm1hbEV2ZW50Qm9keSIsIm5vcm1hbEV2ZW50R3V0dGVyV2lkdGgiLCJndXR0ZXJXaWR0aCIsIm5vcm1hbEd1dHRlcldpZHRoIiwiY3JlYXRlRGF0ZU9iamVjdHMiLCJ0aW1lcyIsImN1cnJlbnRIb3VyIiwiZ2V0SG91cnMiLCJob3VyIiwiZGF5Iiwib25lSG91ciIsImFsbERheUV2ZW50SW5SYW5nZSIsIm5vcm1hbEV2ZW50SW5SYW5nZSIsImFsbERheVN0YXJ0SW5kZXgiLCJhbGxEYXlFbmRJbmRleCIsImNlaWwiLCJkaXNwbGF5QWxsRGF5RXZlbnQiLCJzdGFydFJvd0luZGV4IiwiZW5kT2ZEYXkiLCJlbmRSb3dJbmRleCIsImRpc3BsYXlFdmVudCIsImNvbmNhdCIsIm9yZGVyZWRBbGxEYXlFdmVudHMiLCJmaXJzdERheU9mV2VlayIsIndlZWtOdW1iZXJJbmRleCIsIndlZWtGb3JtYXRQYXR0ZXJuIiwiaW5kZXhPZiIsImFsbERheUV2ZW50cyIsInN0YXJ0aW5nRGF0ZSIsInJ1biIsIiR0ZW1wbGF0ZUNhY2hlIiwicHV0IiwiZmFjdG9yeSIsIiRodHRwIiwic2lnblVwRG9jT2JqIiwiZ2V0RnVsbERvY3Rvckxpc3QiLCJnZXQiLCJ0aGVuIiwicmVzcCIsImRhdGEiLCJjaGVja1VzZXJFeGlzdGFuY2UiLCJzaWduVXBEb2N0b3IiLCJvYmoiLCJjb25zb2xlIiwibG9nIiwiZ2V0RG9jdG9yRGF0YSIsImRhdGFTZXJ2aWNlIiwiZG9jdG9ySWQiLCJkb2NKc29uIiwiY3JlYXRlUmFuZG9tRXZlbnRzIiwibmF2UHJvZmlsZUxpc3QiLCJldmVudFR5cGUiLCJyYW5kb20iLCJzdGFydERheSIsImVuZERheSIsImdldFVUQ0Z1bGxZZWFyIiwiZ2V0VVRDTW9udGgiLCJnZXRVVENEYXRlIiwic3RhcnRNaW51dGUiLCJlbmRNaW51dGUiLCJnZXRNaW51dGVzIiwiJHN0YXRlIiwic2Vjb25kRm9ybSIsImZpcnN0Rm9ybSIsImVtYWlsX2VyciIsInB3ZF9lcnIiLCJlcnJfbXNnIiwibW9iaWxlUmVnRXgiLCJwaW5Db2RlUmVnRXgiLCJzaWduVXBEYXRhIiwiY2hlY2tFbWFpbFB3ZFZhbGlkaXR5IiwiZW1haWwiLCJjb25mRW1haWwiLCJlbWFpbF9lcnJfbXNnIiwicGFzcyIsImNvbmZQYXNzIiwicGFzc19lcnIiLCJicmluZ1NlY29uZEZvcm0iLCJuYW1lIiwiZm5hbWUiLCJsbmFtZSIsInBhc3N3b3JkIiwic2VuZFNpZ251cERvYyIsImFkZHJlc3MiLCJhZGRyZXNzMSIsImFkZHJlc3MyIiwicGluIiwicGluQ29kZSIsImNpdHkiLCJtb2JpbGUiLCJtb2JpbGVObyIsImNsaW5pY19uYW1lIiwiY2xpbmljTmFtZSIsImZlZSIsImNsaW5pY0ZlZSIsImh2X2ZlZSIsImhvbWVWaXNpdCIsImdvIiwidGFncyIsInJlbW92ZSIsInRlbXBsYXRlIiwiJGVsZW1lbnQiLCIkY3RybCIsIm11bHRpU2VsZWN0Iiwic2VsZWN0ZWRJZCIsIiRsYXN0IiwiZmlyc3RSZWFwZXQiLCJjYWxsYmFjayIsImlkIiwiaWRIYXNoIiwiYWxsU2VsZWN0ZWQiLCJjaGVja2VkIiwiZmlyc3QiLCJ0cmFuc2NsdWRlIiwiaUVsZW1lbnQiLCJpQXR0ciIsImNvbnRyb2xsZXJzIiwic2VsT2JqIiwieCIsInNvbWVEYXRhIiwiZmxhZyIsImVsZW1Ub1NlbCIsImFjdGl2ZSIsImNoZWNrSXRlbSIsImlzQWN0aXZlIiwibWF0Y2hJZHgiLCJmaW5kIiwiX3RoaXMiLCJhdHRyIiwiaXRlbSIsIm5vdFNlbGVjdGFibGUiLCJjaGVja1NlbGVjdGlvbiIsInQiLCIkZG9jdW1lbnQiLCJvcHRpb24iLCJhcGkiLCJjb21waWxlIiwidEVsZW1lbnQiLCJ0QXR0cnMiLCJfX29wdGlvbnNfXyIsImZpZWxkQXR0ciIsInBsYWNlaG9sZGVyIiwibGlua2luZyIsImlFbG0iLCJpQXR0cnMiLCJhY3RpdmVJbmRleCIsIm9uIiwiZXZ0IiwidGFyZ2V0Iiwid2hpY2giLCJzZWxlY3RlZE5hbWUiLCJzaG93IiwiJGRpZ2VzdCIsImJsdXJPdXQiLCJzdG9wUHJvcGFnYXRpb24iLCIkYnJvYWRjYXN0Iiwib3B0aW9ucyIsIm1lcmdlIiwicmVzZXREcm9vcGUiLCJzZWxlY3RJdGVtIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwibGlzdGluZ0NhbGxiYWNrIiwicmV0T2JqIiwibmV3VGFnIiwidGFnVXBkYXRlIiwidGFnT2JqIiwibXVsdGlzZWxlY3QiLCJzaG93RHJvcCIsImxhc3RTZWxlY3RlZCIsInJlbW92ZUFsbFRhZ3MiLCJibHVyT2JqIiwiaGFzQ2xhc3MiLCIkYXBwbHkiLCJqc29uIiwibWF4SGVpZ2h0Iiwib25DbGlja0Z1bmMiLCJvYmoxIiwiZG9jdG9yTGlzdCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsYUFBYUMsUUFBUUMsTUFBUixDQUFlLFlBQWYsRUFBNkIsQ0FBQyxXQUFELENBQTdCLEVBQ2hCQyxNQURnQixDQUNULENBQUMsZ0JBQUQsRUFBa0IsbUJBQWxCLEVBQXNDLG9CQUF0QyxFQUE0RCxVQUFVQyxjQUFWLEVBQXlCQyxpQkFBekIsRUFBMkNDLGtCQUEzQyxFQUErRDtBQUNsSUEsb0JBQW1CQyxTQUFuQixDQUE2QixHQUE3QjtBQUNBSCxnQkFDQ0ksS0FERCxDQUNPLE1BRFAsRUFDZTtBQUNkQyxPQUFJLEdBRFU7QUFFZEMsZUFBYSx3QkFGQztBQUdkQyxjQUFZO0FBSEUsRUFEZixFQU1DSCxLQU5ELENBTU8sUUFOUCxFQU1pQjtBQUNoQkMsT0FBSSxTQURZO0FBRWhCQyxlQUFhLDBCQUZHO0FBR2hCQyxjQUFZO0FBSEksRUFOakIsRUFXQ0gsS0FYRCxDQVdPLGNBWFAsRUFXdUI7QUFDdEJDLE9BQUksZUFEa0I7QUFFdEJDLGVBQWEsZ0NBRlM7QUFHdEJDLGNBQVk7QUFIVSxFQVh2QixFQWdCQ0gsS0FoQkQsQ0FnQk8sTUFoQlAsRUFnQmU7QUFDZEMsT0FBSSxPQURVO0FBRWRDLGVBQWE7QUFGQyxFQWhCZixFQXFCQ0YsS0FyQkQsQ0FxQk8sV0FyQlAsRUFxQm9CO0FBQ25CQyxPQUFJLFlBRGU7QUFFbkJDLGVBQWEsNkJBRk07QUFHbkJDLGNBQVk7QUFITyxFQXJCcEIsRUEwQkNILEtBMUJELENBMEJPLGVBMUJQLEVBMEJ3QjtBQUN2QkMsT0FBSSxnQkFEbUI7QUFFdkJDLGVBQWEsOEJBRlU7QUFHdkJDLGNBQVksZ0JBSFc7QUFJdkJDLFlBQVU7QUFKYSxFQTFCeEIsRUFnQ0NKLEtBaENELENBZ0NPLHlCQWhDUCxFQWdDa0M7QUFDM0JDLE9BQUssRUFEc0I7QUFFM0JDLGVBQWE7QUFGYyxFQWhDbEMsRUFvQ0lGLEtBcENKLENBb0NVLG1CQXBDVixFQW9DK0I7QUFDeEJDLE9BQUssTUFEbUI7QUFFeEJDLGVBQWE7QUFGVyxFQXBDL0IsRUF3Q0lGLEtBeENKLENBd0NVLHFCQXhDVixFQXdDaUM7QUFDMUJDLE9BQUssUUFEcUI7QUFFMUJDLGVBQWE7QUFGYSxFQXhDakMsRUE0Q0lGLEtBNUNKLENBNENVLHVCQTVDVixFQTRDbUM7QUFDNUJDLE9BQUssVUFEdUI7QUFFNUJDLGVBQWE7QUFGZSxFQTVDbkM7QUFnREFMLG1CQUFrQlEsU0FBbEIsQ0FBNEIsSUFBNUI7QUFDQSxDQW5ETyxDQURTLENBQWpCO0FDQUE7QUFDQTtBQUNJYixXQUFXYyxRQUFYLENBQW9CLGdCQUFwQixFQUFzQztBQUNsQ0MsZUFBVyxJQUR1QjtBQUVsQ0MscUJBQWlCLEtBRmlCO0FBR2xDQyxvQkFBZ0IsZUFIa0I7QUFJbENDLHFCQUFpQixtQkFKaUI7QUFLbENDLHNCQUFrQixXQUxnQjtBQU1sQ0MsNkJBQXlCLE9BTlM7QUFPbENDLHNCQUFrQixJQVBnQjtBQVFsQ0Msa0JBQWMsT0FSb0I7QUFTbENDLGVBQVcsS0FUdUI7QUFVbENDLHFCQUFpQixJQVZpQjtBQVdsQ0MsaUJBQWEsQ0FYcUI7QUFZbENDLGlCQUFhLElBWnFCO0FBYWxDQyxlQUFXO0FBYnVCLENBQXRDLEVBZUNoQixVQWZELENBZVksaUNBZlosRUFlK0MsQ0FBQyxRQUFELEVBQVcsUUFBWCxFQUFxQixRQUFyQixFQUErQixjQUEvQixFQUErQyxNQUEvQyxFQUF1RCxZQUF2RCxFQUFxRSxnQkFBckUsRUFBdUYsVUFBVWlCLE1BQVYsRUFBa0JDLE1BQWxCLEVBQTBCQyxNQUExQixFQUFrQ0MsWUFBbEMsRUFBZ0RDLElBQWhELEVBQXNEQyxVQUF0RCxFQUFrRUMsY0FBbEUsRUFBa0Y7QUFDcE47O0FBQ0EsUUFBSUMsT0FBTyxJQUFYO0FBQUEsUUFDSUMsY0FBYyxFQUFDQyxlQUFlcEMsUUFBUXFDLElBQXhCLEVBRGxCLENBRm9OLENBR25LOztBQUVqRDtBQUNBckMsWUFBUXNDLE9BQVIsQ0FBZ0IsQ0FBQyxXQUFELEVBQWMsaUJBQWQsRUFBaUMsZ0JBQWpDLEVBQW1ELGlCQUFuRCxFQUFzRSxrQkFBdEUsRUFBMEYseUJBQTFGLEVBQXFILGtCQUFySCxFQUNaLFdBRFksRUFDQyxpQkFERCxFQUNvQixhQURwQixFQUNtQyxhQURuQyxFQUNrRCxXQURsRCxDQUFoQixFQUNnRixVQUFVQyxHQUFWLEVBQWVDLEtBQWYsRUFBc0I7QUFDbEdOLGFBQUtLLEdBQUwsSUFBWXZDLFFBQVF5QyxTQUFSLENBQWtCYixPQUFPVyxHQUFQLENBQWxCLElBQWtDQyxRQUFRLENBQVIsR0FBWVYsYUFBYUYsT0FBT1csR0FBUCxDQUFiLEVBQTBCWixPQUFPZSxPQUFqQyxDQUFaLEdBQXdEZixPQUFPZSxPQUFQLENBQWVDLEtBQWYsQ0FBcUJmLE9BQU9XLEdBQVAsQ0FBckIsQ0FBMUYsR0FBK0hOLGVBQWVNLEdBQWYsQ0FBM0k7QUFDSCxLQUhEOztBQUtBWixXQUFPZSxPQUFQLENBQWVFLE1BQWYsQ0FBc0JoQixPQUFPSCxXQUE3QixFQUEwQyxVQUFVb0IsS0FBVixFQUFpQjtBQUN2RFgsYUFBS1ksb0JBQUwsQ0FBMEJELEtBQTFCO0FBQ0gsS0FGRDs7QUFJQWxCLFdBQU9OLFlBQVAsR0FBc0JNLE9BQU9OLFlBQVAsSUFBdUJZLGVBQWVaLFlBQTVEO0FBQ0EsUUFBSXJCLFFBQVF5QyxTQUFSLENBQWtCYixPQUFPbUIsUUFBekIsQ0FBSixFQUF3QztBQUNwQ2IsYUFBS2MsbUJBQUwsR0FBMkJyQixPQUFPZSxPQUFQLENBQWVDLEtBQWYsQ0FBcUJmLE9BQU9tQixRQUE1QixDQUEzQjtBQUNIO0FBQ0QsUUFBSSxDQUFDYixLQUFLYyxtQkFBVixFQUErQjtBQUMzQmQsYUFBS2MsbUJBQUwsR0FBMkIsSUFBSUMsSUFBSixFQUEzQjtBQUNBLFlBQUlyQixPQUFPc0IsT0FBUCxJQUFrQixDQUFDdkIsT0FBT2UsT0FBUCxDQUFlQyxLQUFmLENBQXFCZixPQUFPc0IsT0FBNUIsQ0FBdkIsRUFBNkQ7QUFDekRyQixtQkFBT0QsT0FBT3NCLE9BQWQsRUFBdUJDLE1BQXZCLENBQThCeEIsT0FBT2UsT0FBckMsRUFBOENSLEtBQUtjLG1CQUFuRDtBQUNIO0FBQ0o7O0FBRURkLFNBQUtrQixJQUFMLEdBQVksVUFBVUMsWUFBVixFQUF3QjtBQUNoQ2xCLHNCQUFja0IsWUFBZDs7QUFFQWxCLG9CQUFZbUIsT0FBWixHQUFzQixZQUFZO0FBQzlCcEIsaUJBQUtxQixNQUFMO0FBQ0gsU0FGRDtBQUdILEtBTkQ7O0FBUUFyQixTQUFLcUIsTUFBTCxHQUFjLFlBQVk7QUFDdEIsWUFBSXBCLFlBQVlxQixXQUFoQixFQUE2QjtBQUN6QixnQkFBSUMsT0FBTyxJQUFJUixJQUFKLENBQVNkLFlBQVlxQixXQUFyQixDQUFYO0FBQUEsZ0JBQ0lFLFVBQVUsQ0FBQ0MsTUFBTUYsSUFBTixDQURmOztBQUdBLGdCQUFJQyxPQUFKLEVBQWE7QUFDVCxxQkFBS1YsbUJBQUwsR0FBMkJTLElBQTNCO0FBQ0gsYUFGRCxNQUVPO0FBQ0gxQixxQkFBSzZCLEtBQUwsQ0FBVyx5SUFBWDtBQUNIO0FBQ0R6Qix3QkFBWTBCLFlBQVosQ0FBeUIsTUFBekIsRUFBaUNILE9BQWpDO0FBQ0g7QUFDRCxhQUFLSSxXQUFMO0FBQ0gsS0FiRDs7QUFlQTVCLFNBQUs0QixXQUFMLEdBQW1CLFlBQVk7QUFDM0IsWUFBSSxLQUFLQyxJQUFULEVBQWU7QUFDWCxpQkFBS0MsS0FBTCxHQUFhLEtBQUtDLFNBQUwsQ0FBZSxLQUFLakIsbUJBQXBCLENBQWI7QUFDQSxpQkFBS2tCLFlBQUw7QUFDQSxpQkFBS0MsWUFBTDtBQUNIO0FBQ0osS0FORDs7QUFRQTtBQUNBakMsU0FBS2tDLEtBQUwsR0FBYSxVQUFVQyxHQUFWLEVBQWVDLElBQWYsRUFBcUI7QUFDOUIsWUFBSUMsU0FBUyxFQUFiO0FBQ0EsZUFBT0YsSUFBSUcsTUFBSixHQUFhLENBQXBCLEVBQXVCO0FBQ25CRCxtQkFBT0UsSUFBUCxDQUFZSixJQUFJSyxNQUFKLENBQVcsQ0FBWCxFQUFjSixJQUFkLENBQVo7QUFDSDtBQUNELGVBQU9DLE1BQVA7QUFDSCxLQU5EOztBQVFBckMsU0FBS1ksb0JBQUwsR0FBNEIsVUFBVUQsS0FBVixFQUFpQjtBQUN6Q1gsYUFBS1QsV0FBTCxHQUFtQm9CLEtBQW5CO0FBQ0EsWUFBSVgsS0FBS3lDLGFBQVQsRUFBd0I7QUFDcEJ6QyxpQkFBS3lDLGFBQUw7QUFDSDtBQUNKLEtBTEQ7O0FBT0FoRCxXQUFPaUQsSUFBUCxHQUFjLFVBQVVDLFNBQVYsRUFBcUI7QUFDL0IsWUFBSUMsT0FBTzVDLEtBQUs2QixJQUFMLENBQVVlLElBQXJCO0FBQUEsWUFDSTlCLHNCQUFzQmQsS0FBS2MsbUJBRC9CO0FBQUEsWUFFSStCLE9BQU8vQixvQkFBb0JnQyxXQUFwQixLQUFvQ0gsYUFBYUMsS0FBS0csS0FBTCxJQUFjLENBQTNCLENBRi9DO0FBQUEsWUFHSUMsUUFBUWxDLG9CQUFvQm1DLFFBQXBCLEtBQWlDTixhQUFhQyxLQUFLTSxNQUFMLElBQWUsQ0FBNUIsQ0FIN0M7QUFBQSxZQUlJM0IsT0FBT1Qsb0JBQW9CcUMsT0FBcEIsS0FBZ0NSLGFBQWFDLEtBQUtRLElBQUwsSUFBYSxDQUExQixDQUozQztBQUFBLFlBS0lDLG1CQUxKOztBQU9BdkMsNEJBQW9Cd0MsV0FBcEIsQ0FBZ0NULElBQWhDLEVBQXNDRyxLQUF0QyxFQUE2Q3pCLElBQTdDO0FBQ0EsWUFBSTlCLE9BQU9OLFlBQVAsS0FBd0IsT0FBNUIsRUFBcUM7QUFDakNrRSxrQ0FBc0IsSUFBSXRDLElBQUosQ0FBUzhCLElBQVQsRUFBZUcsUUFBUSxDQUF2QixFQUEwQixDQUExQixDQUF0QjtBQUNBLGdCQUFJSyxvQkFBb0JFLE9BQXBCLE1BQWlDekMsb0JBQW9CeUMsT0FBcEIsRUFBckMsRUFBb0U7QUFDaEV2RCxxQkFBS2MsbUJBQUwsR0FBMkIsSUFBSUMsSUFBSixDQUFTc0Msc0JBQXNCLEtBQUssRUFBTCxHQUFVLEVBQVYsR0FBZSxJQUE5QyxDQUEzQjtBQUNIO0FBQ0o7QUFDRHBELG9CQUFZQyxhQUFaLENBQTBCRixLQUFLYyxtQkFBL0I7QUFDQWQsYUFBSzRCLFdBQUw7QUFDSCxLQWpCRDs7QUFtQkE1QixTQUFLMEMsSUFBTCxHQUFZLFVBQVVDLFNBQVYsRUFBcUI7QUFDN0JsRCxlQUFPaUQsSUFBUCxDQUFZQyxTQUFaO0FBQ0gsS0FGRDs7QUFJQTNDLFNBQUtpQyxZQUFMLEdBQW9CLFlBQVk7QUFDNUIsWUFBSWpDLEtBQUtSLFNBQUwsS0FBbUIsT0FBdkIsRUFBZ0M7QUFDNUIsZ0JBQUlRLEtBQUtULFdBQUwsSUFBb0JTLEtBQUt5QyxhQUE3QixFQUE0QztBQUN4Q3pDLHFCQUFLeUMsYUFBTDtBQUNIO0FBQ0osU0FKRCxNQUlPLElBQUl6QyxLQUFLUixTQUFMLEtBQW1CLFFBQXZCLEVBQWlDO0FBQ3BDLGdCQUFJQyxPQUFPd0MsWUFBWCxFQUF5QjtBQUNyQnhDLHVCQUFPd0MsWUFBUCxDQUFvQjtBQUNoQnVCLCtCQUFXLEtBQUsxQixLQUFMLENBQVcwQixTQUROO0FBRWhCQyw2QkFBUyxLQUFLM0IsS0FBTCxDQUFXMkI7QUFGSixpQkFBcEI7QUFJSDtBQUNKO0FBQ0osS0FiRDs7QUFlQSxhQUFTQyxPQUFULENBQWlCQyxNQUFqQixFQUF5QkMsTUFBekIsRUFBaUM7QUFDN0IsZUFBTyxFQUFFRCxPQUFPRSxRQUFQLElBQW1CRCxPQUFPRSxVQUExQixJQUF3Q0YsT0FBT0MsUUFBUCxJQUFtQkYsT0FBT0csVUFBcEUsQ0FBUDtBQUNIOztBQUVELGFBQVNDLGlCQUFULENBQTJCQyxNQUEzQixFQUFtQztBQUMvQixZQUFJQyxDQUFKO0FBQUEsWUFDSUMsQ0FESjtBQUFBLFlBRUlDLE1BQU1ILE9BQU8xQixNQUZqQjtBQUFBLFlBR0k4QixZQUFZLENBSGhCO0FBQUEsWUFJSUMsR0FKSjtBQUFBLFlBS0lDLGNBQWMsSUFBSUMsS0FBSixDQUFVSixHQUFWLENBTGxCOztBQU9BLGFBQUtGLElBQUksQ0FBVCxFQUFZQSxJQUFJRSxHQUFoQixFQUFxQkYsS0FBSyxDQUExQixFQUE2QjtBQUN6QixpQkFBS0ksTUFBTSxDQUFYLEVBQWNBLE1BQU1ELFNBQXBCLEVBQStCQyxPQUFPLENBQXRDLEVBQXlDO0FBQ3JDQyw0QkFBWUQsR0FBWixJQUFtQixLQUFuQjtBQUNIO0FBQ0QsaUJBQUtILElBQUksQ0FBVCxFQUFZQSxJQUFJRCxDQUFoQixFQUFtQkMsS0FBSyxDQUF4QixFQUEyQjtBQUN2QixvQkFBSVIsUUFBUU0sT0FBT0MsQ0FBUCxDQUFSLEVBQW1CRCxPQUFPRSxDQUFQLENBQW5CLENBQUosRUFBbUM7QUFDL0JJLGdDQUFZTixPQUFPRSxDQUFQLEVBQVVNLFFBQXRCLElBQWtDLElBQWxDO0FBQ0g7QUFDSjtBQUNELGlCQUFLSCxNQUFNLENBQVgsRUFBY0EsTUFBTUQsU0FBcEIsRUFBK0JDLE9BQU8sQ0FBdEMsRUFBeUM7QUFDckMsb0JBQUksQ0FBQ0MsWUFBWUQsR0FBWixDQUFMLEVBQXVCO0FBQ25CO0FBQ0g7QUFDSjtBQUNELGdCQUFJQSxNQUFNRCxTQUFWLEVBQXFCO0FBQ2pCSix1QkFBT0MsQ0FBUCxFQUFVTyxRQUFWLEdBQXFCSCxHQUFyQjtBQUNILGFBRkQsTUFFTztBQUNITCx1QkFBT0MsQ0FBUCxFQUFVTyxRQUFWLEdBQXFCSixXQUFyQjtBQUNIO0FBQ0o7QUFDSjs7QUFFRCxhQUFTSyxjQUFULENBQXdCQyxhQUF4QixFQUF1QztBQUNuQyxZQUFJQyxRQUFRLElBQUlKLEtBQUosQ0FBVSxFQUFWLENBQVo7QUFBQSxZQUNJSyxLQURKO0FBQUEsWUFFSXRFLEtBRko7QUFBQSxZQUdJMkQsQ0FISjtBQUFBLFlBSUlDLENBSko7QUFBQSxZQUtJQyxHQUxKO0FBQUEsWUFNSVUsZ0JBTko7QUFBQSxZQU9JQyxrQkFQSjs7QUFTQTtBQUNBSixzQkFBY0ssSUFBZCxDQUFtQixVQUFVQyxNQUFWLEVBQWtCQyxNQUFsQixFQUEwQjtBQUN6QyxtQkFBT0EsT0FBT1QsUUFBUCxHQUFrQlEsT0FBT1IsUUFBaEM7QUFDSCxTQUZEO0FBR0EsYUFBS1AsSUFBSSxDQUFULEVBQVlBLElBQUksRUFBaEIsRUFBb0JBLEtBQUssQ0FBekIsRUFBNEI7QUFDeEJVLGtCQUFNVixDQUFOLElBQVc7QUFDUGlCLDRCQUFZLEtBREw7QUFFUGxCLHdCQUFRO0FBRkQsYUFBWDtBQUlIO0FBQ0RHLGNBQU1PLGNBQWNwQyxNQUFwQjtBQUNBLGFBQUsyQixJQUFJLENBQVQsRUFBWUEsSUFBSUUsR0FBaEIsRUFBcUJGLEtBQUssQ0FBMUIsRUFBNkI7QUFDekJXLG9CQUFRRixjQUFjVCxDQUFkLENBQVI7QUFDQTNELG9CQUFRc0UsTUFBTWQsVUFBZDtBQUNBLG1CQUFPeEQsUUFBUXNFLE1BQU1mLFFBQXJCLEVBQStCO0FBQzNCYyxzQkFBTXJFLEtBQU4sRUFBYTBELE1BQWIsQ0FBb0J6QixJQUFwQixDQUF5QnFDLEtBQXpCO0FBQ0F0RSx5QkFBUyxDQUFUO0FBQ0g7QUFDSjs7QUFFRDJELFlBQUksQ0FBSjtBQUNBLGVBQU9BLElBQUlFLEdBQVgsRUFBZ0I7QUFDWlMsb0JBQVFGLGNBQWNULENBQWQsQ0FBUjtBQUNBLGdCQUFJLENBQUNXLE1BQU1PLGFBQVgsRUFBMEI7QUFDdEIsb0JBQUlBLGdCQUFnQlAsTUFBTUosUUFBTixHQUFpQixDQUFyQztBQUNBSSxzQkFBTU8sYUFBTixHQUFzQkEsYUFBdEI7QUFDQSxvQkFBSUMsYUFBYSxDQUFDUixLQUFELENBQWpCO0FBQ0EsdUJBQVFBLFFBQVFRLFdBQVdDLEtBQVgsRUFBaEIsRUFBcUM7QUFDakMvRSw0QkFBUXNFLE1BQU1kLFVBQWQ7QUFDQSwyQkFBT3hELFFBQVFzRSxNQUFNZixRQUFyQixFQUErQjtBQUMzQiw0QkFBSSxDQUFDYyxNQUFNckUsS0FBTixFQUFhNEUsVUFBbEIsRUFBOEI7QUFDMUJQLGtDQUFNckUsS0FBTixFQUFhNEUsVUFBYixHQUEwQixJQUExQjtBQUNBLGdDQUFJUCxNQUFNckUsS0FBTixFQUFhMEQsTUFBakIsRUFBeUI7QUFDckJhLG1EQUFtQkYsTUFBTXJFLEtBQU4sRUFBYTBELE1BQWIsQ0FBb0IxQixNQUF2QztBQUNBLHFDQUFLNEIsSUFBSSxDQUFULEVBQVlBLElBQUlXLGdCQUFoQixFQUFrQ1gsS0FBSyxDQUF2QyxFQUEwQztBQUN0Q1kseURBQXFCSCxNQUFNckUsS0FBTixFQUFhMEQsTUFBYixDQUFvQkUsQ0FBcEIsQ0FBckI7QUFDQSx3Q0FBSSxDQUFDWSxtQkFBbUJLLGFBQXhCLEVBQXVDO0FBQ25DTCwyREFBbUJLLGFBQW5CLEdBQW1DQSxhQUFuQztBQUNBQyxtREFBVzdDLElBQVgsQ0FBZ0J1QyxrQkFBaEI7QUFDSDtBQUNKO0FBQ0o7QUFDSjtBQUNEeEUsaUNBQVMsQ0FBVDtBQUNIO0FBQ0o7QUFDSjtBQUNEMkQsaUJBQUssQ0FBTDtBQUNIO0FBQ0o7O0FBRURqRSxTQUFLc0YsV0FBTCxHQUFtQixVQUFVWixhQUFWLEVBQXlCO0FBQ3hDWCwwQkFBa0JXLGFBQWxCO0FBQ0FELHVCQUFlQyxhQUFmO0FBQ0gsS0FIRDs7QUFLQTFFLFNBQUt1RixpQkFBTCxHQUF5QixVQUFVYixhQUFWLEVBQXlCO0FBQzlDWCwwQkFBa0JXLGFBQWxCO0FBQ0gsS0FGRDtBQUdILENBdE44QyxDQWYvQyxFQXNPQ2MsU0F0T0QsQ0FzT1csVUF0T1gsRUFzT3VCLFlBQVk7QUFDL0I7O0FBQ0EsV0FBTztBQUNIQyxrQkFBVSxJQURQO0FBRUhDLGlCQUFTLElBRk47QUFHSG5ILHFCQUFhLDRCQUhWO0FBSUhvSCxlQUFPO0FBQ0h4RywwQkFBYyxHQURYO0FBRUg4QywwQkFBYyxHQUZYO0FBR0gyRCwyQkFBZSxHQUhaO0FBSUhDLDBCQUFjO0FBSlgsU0FKSjtBQVVIQyxpQkFBUyxDQUFDLFVBQUQsRUFBYSxXQUFiLENBVk47QUFXSHRILG9CQUFZLGlDQVhUO0FBWUh1SCxjQUFNLFVBQVVKLEtBQVYsRUFBaUJLLE9BQWpCLEVBQTBCQyxLQUExQixFQUFpQ0MsS0FBakMsRUFBd0M7QUFDMUMsZ0JBQUlDLGVBQWVELE1BQU0sQ0FBTixDQUFuQjtBQUFBLGdCQUE2QmpHLGNBQWNpRyxNQUFNLENBQU4sQ0FBM0M7O0FBRUEsZ0JBQUlqRyxXQUFKLEVBQWlCO0FBQ2JrRyw2QkFBYWpGLElBQWIsQ0FBa0JqQixXQUFsQjtBQUNIOztBQUVEMEYsa0JBQU1TLEdBQU4sQ0FBVSxZQUFWLEVBQXdCLFVBQVV4QixLQUFWLEVBQWlCakMsU0FBakIsRUFBNEI7QUFDaER3RCw2QkFBYXpELElBQWIsQ0FBa0JDLFNBQWxCO0FBQ0gsYUFGRDs7QUFJQWdELGtCQUFNUyxHQUFOLENBQVUsb0JBQVYsRUFBZ0MsVUFBVXhCLEtBQVYsRUFBaUJqRSxLQUFqQixFQUF3QjtBQUNwRHdGLDZCQUFhdkYsb0JBQWIsQ0FBa0NELEtBQWxDO0FBQ0gsYUFGRDtBQUdIO0FBMUJFLEtBQVA7QUE0QkgsQ0FwUUQsRUFxUUM2RSxTQXJRRCxDQXFRVyxXQXJRWCxFQXFRd0IsQ0FBQyxZQUFELEVBQWUsVUFBVTFGLFVBQVYsRUFBc0I7QUFDekQ7O0FBQ0EsV0FBTztBQUNIMkYsa0JBQVUsSUFEUDtBQUVIQyxpQkFBUyxJQUZOO0FBR0huSCxxQkFBYSx5QkFIVjtBQUlIdUgsaUJBQVMsQ0FBQyxXQUFELEVBQWMsV0FBZCxDQUpOO0FBS0hDLGNBQU0sVUFBVUosS0FBVixFQUFpQkssT0FBakIsRUFBMEJDLEtBQTFCLEVBQWlDQyxLQUFqQyxFQUF3QztBQUMxQyxnQkFBSUcsT0FBT0gsTUFBTSxDQUFOLENBQVg7QUFBQSxnQkFDSWpHLGNBQWNpRyxNQUFNLENBQU4sQ0FEbEI7QUFFQVAsa0JBQU12RyxTQUFOLEdBQWtCaUgsS0FBS2pILFNBQXZCO0FBQ0F1RyxrQkFBTXRHLGVBQU4sR0FBd0JnSCxLQUFLaEgsZUFBN0I7O0FBRUFnSCxpQkFBS3hFLElBQUwsR0FBWTtBQUNSZSxzQkFBTSxFQUFDTSxRQUFRLENBQVQ7QUFERSxhQUFaOztBQUlBLHFCQUFTb0QsUUFBVCxDQUFrQkMsU0FBbEIsRUFBNkJDLENBQTdCLEVBQWdDO0FBQzVCLG9CQUFJQyxRQUFRLElBQUlsQyxLQUFKLENBQVVpQyxDQUFWLENBQVo7QUFBQSxvQkFBMEJFLFVBQVUsSUFBSTNGLElBQUosQ0FBU3dGLFNBQVQsQ0FBcEM7QUFBQSxvQkFBeUR0QyxJQUFJLENBQTdEO0FBQ0F5Qyx3QkFBUUMsUUFBUixDQUFpQixFQUFqQixFQUY0QixDQUVOO0FBQ3RCLHVCQUFPMUMsSUFBSXVDLENBQVgsRUFBYztBQUNWQywwQkFBTXhDLEdBQU4sSUFBYSxJQUFJbEQsSUFBSixDQUFTMkYsT0FBVCxDQUFiO0FBQ0FBLDRCQUFRRSxPQUFSLENBQWdCRixRQUFRdkQsT0FBUixLQUFvQixDQUFwQztBQUNIO0FBQ0QsdUJBQU9zRCxLQUFQO0FBQ0g7O0FBRURkLGtCQUFNa0IsTUFBTixHQUFlLFVBQVVDLFlBQVYsRUFBd0I7QUFDbkMsb0JBQUlDLE9BQU9wQixNQUFNb0IsSUFBakI7QUFDQSxvQkFBSUEsSUFBSixFQUFVO0FBQ04sd0JBQUlqRyxzQkFBc0J1RixLQUFLdkYsbUJBQS9CO0FBQ0Esd0JBQUlrRyxlQUFlbEcsb0JBQW9CbUMsUUFBcEIsRUFBbkI7QUFDQSx3QkFBSWdFLGNBQWNuRyxvQkFBb0JnQyxXQUFwQixFQUFsQjtBQUNBLHdCQUFJb0UsZ0JBQWdCSixhQUFhN0QsUUFBYixFQUFwQjtBQUNBLHdCQUFJa0UsZUFBZUwsYUFBYWhFLFdBQWIsRUFBbkI7QUFDQSx3QkFBSUgsWUFBWSxDQUFoQjtBQUNBLHdCQUFJc0UsZ0JBQWdCRSxZQUFwQixFQUFrQztBQUM5Qiw0QkFBSUgsaUJBQWlCRSxhQUFyQixFQUFvQztBQUNoQ3ZFLHdDQUFZcUUsZUFBZUUsYUFBZixHQUErQixDQUEvQixHQUFtQyxDQUFDLENBQWhEO0FBQ0g7QUFDSixxQkFKRCxNQUlPO0FBQ0h2RSxvQ0FBWXNFLGNBQWNFLFlBQWQsR0FBNkIsQ0FBN0IsR0FBaUMsQ0FBQyxDQUE5QztBQUNIOztBQUVEZCx5QkFBS3ZGLG1CQUFMLEdBQTJCZ0csWUFBM0I7QUFDQSx3QkFBSTdHLFdBQUosRUFBaUI7QUFDYkEsb0NBQVlDLGFBQVosQ0FBMEI0RyxZQUExQjtBQUNIO0FBQ0Qsd0JBQUluRSxjQUFjLENBQWxCLEVBQXFCO0FBQ2pCLDZCQUFLLElBQUl5RSxNQUFNLENBQWYsRUFBa0JBLE1BQU0sQ0FBeEIsRUFBMkJBLE9BQU8sQ0FBbEMsRUFBcUM7QUFDakMsaUNBQUssSUFBSTdGLE9BQU8sQ0FBaEIsRUFBbUJBLE9BQU8sQ0FBMUIsRUFBNkJBLFFBQVEsQ0FBckMsRUFBd0M7QUFDcEMsb0NBQUk4RixXQUFXaEIsS0FBS2lCLE9BQUwsQ0FBYVIsWUFBYixFQUEyQkMsS0FBS0ssR0FBTCxFQUFVN0YsSUFBVixFQUFnQkEsSUFBM0MsTUFBcUQsQ0FBcEU7QUFDQXdGLHFDQUFLSyxHQUFMLEVBQVU3RixJQUFWLEVBQWdCOEYsUUFBaEIsR0FBMkJBLFFBQTNCO0FBQ0Esb0NBQUlBLFFBQUosRUFBYztBQUNWMUIsMENBQU1tQixZQUFOLEdBQXFCQyxLQUFLSyxHQUFMLEVBQVU3RixJQUFWLENBQXJCO0FBQ0g7QUFDSjtBQUNKO0FBQ0oscUJBVkQsTUFVTztBQUNIOEUsNkJBQUt6RSxXQUFMO0FBQ0g7O0FBRUQsd0JBQUkrRCxNQUFNRSxZQUFWLEVBQXdCO0FBQ3BCRiw4QkFBTUUsWUFBTixDQUFtQixFQUFDMEIsY0FBY1QsWUFBZixFQUFuQjtBQUNIO0FBQ0o7QUFDSixhQXZDRDs7QUF5Q0FULGlCQUFLckUsWUFBTCxHQUFvQixZQUFZO0FBQzVCLG9CQUFJdUUsWUFBWUYsS0FBS3ZFLEtBQUwsQ0FBVzBCLFNBQTNCO0FBQUEsb0JBQ0lqQyxPQUFPZ0YsVUFBVXBELE9BQVYsRUFEWDtBQUFBLG9CQUVJSCxRQUFRLENBQUN1RCxVQUFVdEQsUUFBVixNQUF3QjFCLFNBQVMsQ0FBVCxHQUFhLENBQWIsR0FBaUIsQ0FBekMsQ0FBRCxJQUFnRCxFQUY1RDtBQUFBLG9CQUdJc0IsT0FBTzBELFVBQVV6RCxXQUFWLE1BQTJCdkIsU0FBUyxDQUFULElBQWN5QixVQUFVLENBQXhCLEdBQTRCLENBQTVCLEdBQWdDLENBQTNELENBSFg7O0FBS0Esb0JBQUlJLE9BQU9rRCxTQUFTQyxTQUFULEVBQW9CLEVBQXBCLENBQVg7QUFDQSxxQkFBSyxJQUFJdEMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEVBQXBCLEVBQXdCQSxHQUF4QixFQUE2QjtBQUN6QmIseUJBQUthLENBQUwsSUFBVW5HLFFBQVEwSixNQUFSLENBQWVDLGlCQUFpQnJFLEtBQUthLENBQUwsQ0FBakIsRUFBMEJvQyxLQUFLekgsU0FBL0IsQ0FBZixFQUEwRDtBQUNoRThJLG1DQUFXdEUsS0FBS2EsQ0FBTCxFQUFRaEIsUUFBUixPQUF1QkQ7QUFEOEIscUJBQTFELENBQVY7QUFHSDs7QUFFRDJDLHNCQUFNZ0MsTUFBTixHQUFlLElBQUlwRCxLQUFKLENBQVUsQ0FBVixDQUFmO0FBQ0EscUJBQUssSUFBSUwsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLENBQXBCLEVBQXVCQSxHQUF2QixFQUE0QjtBQUN4QnlCLDBCQUFNZ0MsTUFBTixDQUFhekQsQ0FBYixJQUFrQnBFLFdBQVdzRCxLQUFLYyxDQUFMLEVBQVEzQyxJQUFuQixFQUF5QjhFLEtBQUt4SCxlQUE5QixDQUFsQjtBQUNIOztBQUVELG9CQUFJK0ksYUFBYSxJQUFJN0csSUFBSixDQUFTOEIsSUFBVCxFQUFlRyxLQUFmLEVBQXNCLENBQXRCLENBQWpCO0FBQ0EyQyxzQkFBTW5GLE9BQU4sQ0FBY3FILEtBQWQsR0FBc0IvSCxXQUFXOEgsVUFBWCxFQUF1QnZCLEtBQUtySCxnQkFBNUIsQ0FBdEI7QUFDQTJHLHNCQUFNb0IsSUFBTixHQUFhVixLQUFLbkUsS0FBTCxDQUFXa0IsSUFBWCxFQUFpQixDQUFqQixDQUFiOztBQUVBLG9CQUFJdUMsTUFBTXZHLFNBQVYsRUFBcUI7QUFDakJ1RywwQkFBTW1DLFdBQU4sR0FBb0IsRUFBcEI7QUFDQSx3QkFBSUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFKLEdBQVExQixLQUFLL0csV0FBZCxJQUE2QixDQUFqRDtBQUFBLHdCQUNJMEksV0FBV3JDLE1BQU1vQixJQUFOLENBQVd6RSxNQUQxQjtBQUVBLHlCQUFLLElBQUkyRixVQUFVLENBQW5CLEVBQXNCQSxVQUFVRCxRQUFoQyxFQUEwQ0MsU0FBMUMsRUFBcUQ7QUFDakR0Qyw4QkFBTW1DLFdBQU4sQ0FBa0J2RixJQUFsQixDQUNJMkYscUJBQXFCdkMsTUFBTW9CLElBQU4sQ0FBV2tCLE9BQVgsRUFBb0JGLGFBQXBCLEVBQW1DeEcsSUFBeEQsQ0FESjtBQUVIO0FBQ0o7QUFDSixhQS9CRDs7QUFpQ0EscUJBQVNrRyxnQkFBVCxDQUEwQmxHLElBQTFCLEVBQWdDNEcsTUFBaEMsRUFBd0M7QUFDcEMsdUJBQU87QUFDSDVHLDBCQUFNQSxJQURIO0FBRUg2RywyQkFBT3RJLFdBQVd5QixJQUFYLEVBQWlCNEcsTUFBakIsQ0FGSjtBQUdIZCw4QkFBVWhCLEtBQUtpQixPQUFMLENBQWEvRixJQUFiLEVBQW1COEUsS0FBS3ZGLG1CQUF4QixNQUFpRCxDQUh4RDtBQUlINEYsNkJBQVNMLEtBQUtpQixPQUFMLENBQWEvRixJQUFiLEVBQW1CLElBQUlSLElBQUosRUFBbkIsTUFBbUM7QUFKekMsaUJBQVA7QUFNSDs7QUFFRCxxQkFBU3NILFlBQVQsQ0FBc0IxRSxNQUF0QixFQUE4QkMsTUFBOUIsRUFBc0M7QUFDbEMsb0JBQUlELE9BQU8yRSxNQUFYLEVBQW1CO0FBQ2YsMkJBQU8sQ0FBUDtBQUNILGlCQUZELE1BRU8sSUFBSTFFLE9BQU8wRSxNQUFYLEVBQW1CO0FBQ3RCLDJCQUFPLENBQUMsQ0FBUjtBQUNILGlCQUZNLE1BRUE7QUFDSCwyQkFBUTNFLE9BQU9ILFNBQVAsQ0FBaUJELE9BQWpCLEtBQTZCSyxPQUFPSixTQUFQLENBQWlCRCxPQUFqQixFQUFyQztBQUNIO0FBQ0o7O0FBRUQ4QyxpQkFBSzVELGFBQUwsR0FBcUIsWUFBWTtBQUM3QixvQkFBSWxELGNBQWM4RyxLQUFLOUcsV0FBdkI7QUFBQSxvQkFDSTRFLE1BQU01RSxjQUFjQSxZQUFZK0MsTUFBMUIsR0FBbUMsQ0FEN0M7QUFBQSxvQkFFSWtCLFlBQVk2QyxLQUFLdkUsS0FBTCxDQUFXMEIsU0FGM0I7QUFBQSxvQkFHSUMsVUFBVTRDLEtBQUt2RSxLQUFMLENBQVcyQixPQUh6QjtBQUFBLG9CQUlJOEUsZUFBZSxJQUFJeEgsSUFBSixDQUFTQSxLQUFLeUgsR0FBTCxDQUFTaEYsVUFBVVYsV0FBVixFQUFULEVBQWtDVSxVQUFVUCxRQUFWLEVBQWxDLEVBQXdETyxVQUFVTCxPQUFWLEVBQXhELENBQVQsQ0FKbkI7QUFBQSxvQkFLSXNGLGFBQWEsSUFBSTFILElBQUosQ0FBU0EsS0FBS3lILEdBQUwsQ0FBUy9FLFFBQVFYLFdBQVIsRUFBVCxFQUFnQ1csUUFBUVIsUUFBUixFQUFoQyxFQUFvRFEsUUFBUU4sT0FBUixFQUFwRCxDQUFULENBTGpCO0FBQUEsb0JBTUk0RCxPQUFPcEIsTUFBTW9CLElBTmpCO0FBQUEsb0JBT0kyQixTQUFTLFFBUGI7QUFBQSxvQkFRSUMsTUFBTSxLQVJWO0FBQUEsb0JBU0l2QixHQVRKO0FBQUEsb0JBVUk3RixJQVZKO0FBQUEsb0JBV0lxSCxXQUFXLEtBWGY7O0FBYUEsb0JBQUk3QixLQUFLNkIsUUFBVCxFQUFtQjtBQUNmLHlCQUFLeEIsTUFBTSxDQUFYLEVBQWNBLE1BQU0sQ0FBcEIsRUFBdUJBLE9BQU8sQ0FBOUIsRUFBaUM7QUFDN0IsNkJBQUs3RixPQUFPLENBQVosRUFBZUEsT0FBTyxDQUF0QixFQUF5QkEsUUFBUSxDQUFqQyxFQUFvQztBQUNoQyxnQ0FBSXdGLEtBQUtLLEdBQUwsRUFBVTdGLElBQVYsRUFBZ0JxSCxRQUFwQixFQUE4QjtBQUMxQjdCLHFDQUFLSyxHQUFMLEVBQVU3RixJQUFWLEVBQWdCeUMsTUFBaEIsR0FBeUIsSUFBekI7QUFDQStDLHFDQUFLSyxHQUFMLEVBQVU3RixJQUFWLEVBQWdCcUgsUUFBaEIsR0FBMkIsS0FBM0I7QUFDSDtBQUNKO0FBQ0o7QUFDSjs7QUFFRCxxQkFBSyxJQUFJM0UsSUFBSSxDQUFiLEVBQWdCQSxJQUFJRSxHQUFwQixFQUF5QkYsS0FBSyxDQUE5QixFQUFpQztBQUM3Qix3QkFBSVcsUUFBUXJGLFlBQVkwRSxDQUFaLENBQVo7QUFDQSx3QkFBSTRFLGlCQUFpQixJQUFJOUgsSUFBSixDQUFTNkQsTUFBTXBCLFNBQWYsQ0FBckI7QUFDQSx3QkFBSXNGLGVBQWUsSUFBSS9ILElBQUosQ0FBUzZELE1BQU1uQixPQUFmLENBQW5CO0FBQ0Esd0JBQUlzRixFQUFKO0FBQ0Esd0JBQUlDLEVBQUo7O0FBRUEsd0JBQUlwRSxNQUFNMEQsTUFBVixFQUFrQjtBQUNkLDRCQUFJUSxnQkFBZ0JQLFlBQWhCLElBQWdDTSxrQkFBa0JKLFVBQXRELEVBQWtFO0FBQzlEO0FBQ0gseUJBRkQsTUFFTztBQUNITSxpQ0FBS1IsWUFBTDtBQUNBUyxpQ0FBS1AsVUFBTDtBQUNIO0FBQ0oscUJBUEQsTUFPTztBQUNILDRCQUFJSyxnQkFBZ0J0RixTQUFoQixJQUE2QnFGLGtCQUFrQnBGLE9BQW5ELEVBQTREO0FBQ3hEO0FBQ0gseUJBRkQsTUFFTztBQUNIc0YsaUNBQUt2RixTQUFMO0FBQ0F3RixpQ0FBS3ZGLE9BQUw7QUFDSDtBQUNKOztBQUVELHdCQUFJd0YsUUFBSjtBQUNBLHdCQUFJQyxtQkFBSjtBQUNBLHdCQUFJTCxrQkFBa0JFLEVBQXRCLEVBQTBCO0FBQ3RCRyw4Q0FBc0IsQ0FBdEI7QUFDSCxxQkFGRCxNQUVPO0FBQ0hELG1DQUFXSixpQkFBaUJFLEVBQTVCO0FBQ0EsNEJBQUcsQ0FBQ25FLE1BQU0wRCxNQUFWLEVBQWtCO0FBQ2RXLHVDQUFXQSxXQUFXLENBQUNKLGVBQWVNLGlCQUFmLEtBQXFDSixHQUFHSSxpQkFBSCxFQUF0QyxJQUFnRSxLQUF0RjtBQUNIO0FBQ0RELDhDQUFzQkQsV0FBV1AsTUFBakM7QUFDSDs7QUFFRCx3QkFBSVUsaUJBQUo7QUFDQSx3QkFBSU4sZ0JBQWdCRSxFQUFwQixFQUF3QjtBQUNwQkMsbUNBQVdELEtBQUtELEVBQWhCO0FBQ0EsNEJBQUcsQ0FBQ25FLE1BQU0wRCxNQUFWLEVBQWtCO0FBQ2RXLHVDQUFXQSxXQUFXLENBQUNELEdBQUdHLGlCQUFILEtBQXlCSixHQUFHSSxpQkFBSCxFQUExQixJQUFvRCxLQUExRTtBQUNIO0FBQ0RDLDRDQUFvQkgsV0FBV1AsTUFBL0I7QUFDSCxxQkFORCxNQU1PO0FBQ0hPLG1DQUFXSCxlQUFlQyxFQUExQjtBQUNBLDRCQUFHLENBQUNuRSxNQUFNMEQsTUFBVixFQUFrQjtBQUNkVyx1Q0FBV0EsV0FBVyxDQUFDSCxhQUFhSyxpQkFBYixLQUFtQ0osR0FBR0ksaUJBQUgsRUFBcEMsSUFBOEQsS0FBcEY7QUFDSDtBQUNEQyw0Q0FBb0JILFdBQVdQLE1BQS9CO0FBQ0g7O0FBRUQsd0JBQUlwSSxRQUFRK0ksS0FBS0MsS0FBTCxDQUFXSixtQkFBWCxDQUFaO0FBQ0Esd0JBQUlLLFFBQUo7QUFDQSwyQkFBT2pKLFFBQVE4SSxvQkFBb0JULEdBQW5DLEVBQXdDO0FBQ3BDLDRCQUFJYSxXQUFXSCxLQUFLQyxLQUFMLENBQVdoSixRQUFRLENBQW5CLENBQWY7QUFDQSw0QkFBSW1KLFdBQVdKLEtBQUtDLEtBQUwsQ0FBV2hKLFFBQVEsQ0FBbkIsQ0FBZjtBQUNBeUcsNkJBQUt5QyxRQUFMLEVBQWVDLFFBQWYsRUFBeUJiLFFBQXpCLEdBQW9DLElBQXBDO0FBQ0FXLG1DQUFXeEMsS0FBS3lDLFFBQUwsRUFBZUMsUUFBZixFQUF5QnpGLE1BQXBDO0FBQ0EsNEJBQUl1RixRQUFKLEVBQWM7QUFDVkEscUNBQVNoSCxJQUFULENBQWNxQyxLQUFkO0FBQ0gseUJBRkQsTUFFTztBQUNIMkUsdUNBQVcsRUFBWDtBQUNBQSxxQ0FBU2hILElBQVQsQ0FBY3FDLEtBQWQ7QUFDQW1DLGlDQUFLeUMsUUFBTCxFQUFlQyxRQUFmLEVBQXlCekYsTUFBekIsR0FBa0N1RixRQUFsQztBQUNIO0FBQ0RqSixpQ0FBUyxDQUFUO0FBQ0g7QUFDSjs7QUFFRCxxQkFBSzhHLE1BQU0sQ0FBWCxFQUFjQSxNQUFNLENBQXBCLEVBQXVCQSxPQUFPLENBQTlCLEVBQWlDO0FBQzdCLHlCQUFLN0YsT0FBTyxDQUFaLEVBQWVBLE9BQU8sQ0FBdEIsRUFBeUJBLFFBQVEsQ0FBakMsRUFBb0M7QUFDaEMsNEJBQUl3RixLQUFLSyxHQUFMLEVBQVU3RixJQUFWLEVBQWdCcUgsUUFBcEIsRUFBOEI7QUFDMUJBLHVDQUFXLElBQVg7QUFDQTdCLGlDQUFLSyxHQUFMLEVBQVU3RixJQUFWLEVBQWdCeUMsTUFBaEIsQ0FBdUJlLElBQXZCLENBQTRCc0QsWUFBNUI7QUFDSDtBQUNKO0FBQ0o7QUFDRHRCLHFCQUFLNkIsUUFBTCxHQUFnQkEsUUFBaEI7O0FBRUEsb0JBQUljLGVBQWUsS0FBbkI7QUFDQSxxQkFBS3RDLE1BQU0sQ0FBWCxFQUFjQSxNQUFNLENBQXBCLEVBQXVCQSxPQUFPLENBQTlCLEVBQWlDO0FBQzdCLHlCQUFLN0YsT0FBTyxDQUFaLEVBQWVBLE9BQU8sQ0FBdEIsRUFBeUJBLFFBQVEsQ0FBakMsRUFBb0M7QUFDaEMsNEJBQUl3RixLQUFLSyxHQUFMLEVBQVU3RixJQUFWLEVBQWdCOEYsUUFBcEIsRUFBOEI7QUFDMUIxQixrQ0FBTW1CLFlBQU4sR0FBcUJDLEtBQUtLLEdBQUwsRUFBVTdGLElBQVYsQ0FBckI7QUFDQW1JLDJDQUFlLElBQWY7QUFDQTtBQUNIO0FBQ0o7QUFDRCx3QkFBSUEsWUFBSixFQUFrQjtBQUNkO0FBQ0g7QUFDSjtBQUNKLGFBcEhEOztBQXNIQXJELGlCQUFLaUIsT0FBTCxHQUFlLFVBQVVxQyxLQUFWLEVBQWlCQyxLQUFqQixFQUF3QjtBQUNuQyx1QkFBUSxJQUFJN0ksSUFBSixDQUFTNEksTUFBTTdHLFdBQU4sRUFBVCxFQUE4QjZHLE1BQU0xRyxRQUFOLEVBQTlCLEVBQWdEMEcsTUFBTXhHLE9BQU4sRUFBaEQsSUFBbUUsSUFBSXBDLElBQUosQ0FBUzZJLE1BQU05RyxXQUFOLEVBQVQsRUFBOEI4RyxNQUFNM0csUUFBTixFQUE5QixFQUFnRDJHLE1BQU16RyxPQUFOLEVBQWhELENBQTNFO0FBQ0gsYUFGRDs7QUFJQWtELGlCQUFLdEUsU0FBTCxHQUFpQixTQUFTOEgsUUFBVCxDQUFrQkMsV0FBbEIsRUFBK0I7QUFDNUMsb0JBQUlqSCxPQUFPaUgsWUFBWWhILFdBQVosRUFBWDtBQUFBLG9CQUNJRSxRQUFROEcsWUFBWTdHLFFBQVosRUFEWjtBQUFBLG9CQUVJOEcsa0JBQWtCLElBQUloSixJQUFKLENBQVM4QixJQUFULEVBQWVHLEtBQWYsRUFBc0IsQ0FBdEIsQ0FGdEI7QUFBQSxvQkFHSWdILGFBQWEzRCxLQUFLL0csV0FBTCxHQUFtQnlLLGdCQUFnQkUsTUFBaEIsRUFIcEM7QUFBQSxvQkFJSUMsZ0NBQWlDRixhQUFhLENBQWQsR0FBbUIsSUFBSUEsVUFBdkIsR0FBb0MsQ0FBQ0EsVUFKekU7QUFBQSxvQkFLSXpELFlBQVksSUFBSXhGLElBQUosQ0FBU2dKLGVBQVQsQ0FMaEI7QUFBQSxvQkFNSUksT0FOSjs7QUFRQSxvQkFBSUQsZ0NBQWdDLENBQXBDLEVBQXVDO0FBQ25DM0QsOEJBQVVLLE9BQVYsQ0FBa0IsQ0FBQ3NELDZCQUFELEdBQWlDLENBQW5EO0FBQ0g7O0FBRURDLDBCQUFVLElBQUlwSixJQUFKLENBQVN3RixTQUFULENBQVY7QUFDQTRELHdCQUFRdkQsT0FBUixDQUFnQnVELFFBQVFoSCxPQUFSLEtBQW9CLEVBQXBDOztBQUVBLHVCQUFPO0FBQ0hLLCtCQUFXK0MsU0FEUjtBQUVIOUMsNkJBQVMwRztBQUZOLGlCQUFQO0FBSUgsYUFwQkQ7O0FBc0JBLHFCQUFTakMsb0JBQVQsQ0FBOEIzRyxJQUE5QixFQUFvQztBQUNoQyxvQkFBSTZJLFlBQVksSUFBSXJKLElBQUosQ0FBU1EsSUFBVCxDQUFoQjtBQUNBNkksMEJBQVV4RCxPQUFWLENBQWtCd0QsVUFBVWpILE9BQVYsS0FBc0IsQ0FBdEIsSUFBMkJpSCxVQUFVSCxNQUFWLE1BQXNCLENBQWpELENBQWxCLEVBRmdDLENBRXdDO0FBQ3hFLG9CQUFJSSxPQUFPRCxVQUFVN0csT0FBVixFQUFYO0FBQ0E2RywwQkFBVUUsUUFBVixDQUFtQixDQUFuQixFQUpnQyxDQUlUO0FBQ3ZCRiwwQkFBVXhELE9BQVYsQ0FBa0IsQ0FBbEI7QUFDQSx1QkFBT3lDLEtBQUtDLEtBQUwsQ0FBV0QsS0FBS2tCLEtBQUwsQ0FBVyxDQUFDRixPQUFPRCxTQUFSLElBQXFCLFFBQWhDLElBQTRDLENBQXZELElBQTRELENBQW5FO0FBQ0g7O0FBRUQvRCxpQkFBS3pFLFdBQUw7QUFDSDtBQWhSRSxLQUFQO0FBa1JILENBcFJ1QixDQXJReEIsRUEwaEJDNEQsU0ExaEJELENBMGhCVyxVQTFoQlgsRUEwaEJ1QixDQUFDLFlBQUQsRUFBZSxVQUFmLEVBQTJCLFVBQVUxRixVQUFWLEVBQXNCMEssUUFBdEIsRUFBZ0M7QUFDOUU7O0FBQ0EsV0FBTztBQUNIL0Usa0JBQVUsSUFEUDtBQUVIQyxpQkFBUyxJQUZOO0FBR0huSCxxQkFBYSx3QkFIVjtBQUlIdUgsaUJBQVMsV0FKTjtBQUtIQyxjQUFNLFVBQVVKLEtBQVYsRUFBaUJLLE9BQWpCLEVBQTBCQyxLQUExQixFQUFpQ0ksSUFBakMsRUFBdUM7QUFDekNWLGtCQUFNMUcsdUJBQU4sR0FBZ0NvSCxLQUFLcEgsdUJBQXJDO0FBQ0EwRyxrQkFBTXpHLGdCQUFOLEdBQXlCbUgsS0FBS25ILGdCQUE5Qjs7QUFFQXNMLHFCQUFTLFlBQVk7QUFDakJDO0FBQ0gsYUFGRDs7QUFJQXBFLGlCQUFLeEUsSUFBTCxHQUFZO0FBQ1JlLHNCQUFNLEVBQUNRLE1BQU0sQ0FBUDtBQURFLGFBQVo7O0FBSUEscUJBQVNxSCxrQkFBVCxHQUE4QjtBQUMxQixvQkFBSUMsV0FBVzFFLFFBQVEwRSxRQUFSLEVBQWY7QUFDQSxvQkFBSUMsa0JBQWtCRCxTQUFTLENBQVQsRUFBWUEsUUFBWixDQUFxQixDQUFyQixDQUF0QjtBQUNBLG9CQUFJRSx5QkFBeUJELGdCQUFnQkUsV0FBaEIsR0FBOEJGLGdCQUFnQkcsV0FBM0U7QUFDQSxvQkFBSUMsa0JBQWtCTCxTQUFTLENBQVQsQ0FBdEI7QUFDQSxvQkFBSU0seUJBQXlCRCxnQkFBZ0JGLFdBQWhCLEdBQThCRSxnQkFBZ0JELFdBQTNFO0FBQ0Esb0JBQUlHLGNBQWNMLDBCQUEwQkksc0JBQTFCLElBQW9ELENBQXRFO0FBQ0Esb0JBQUlDLGNBQWMsQ0FBbEIsRUFBcUI7QUFDakJ0RiwwQkFBTXNGLFdBQU4sR0FBb0JBLFdBQXBCO0FBQ0Esd0JBQUlMLDBCQUEwQixDQUE5QixFQUFpQztBQUM3QmpGLDhCQUFNaUYsc0JBQU4sR0FBK0JLLFdBQS9CO0FBQ0gscUJBRkQsTUFFTztBQUNIdEYsOEJBQU1pRixzQkFBTixHQUErQixDQUEvQjtBQUNIO0FBQ0Qsd0JBQUlJLDBCQUEwQixDQUE5QixFQUFpQztBQUM3QnJGLDhCQUFNdUYsaUJBQU4sR0FBMEJELFdBQTFCO0FBQ0gscUJBRkQsTUFFTztBQUNIdEYsOEJBQU11RixpQkFBTixHQUEwQixDQUExQjtBQUNIO0FBQ0o7QUFDSjs7QUFFRCxxQkFBUzVFLFFBQVQsQ0FBa0I5QyxTQUFsQixFQUE2QmdELENBQTdCLEVBQWdDO0FBQzVCLG9CQUFJQyxRQUFRLElBQUlsQyxLQUFKLENBQVVpQyxDQUFWLENBQVo7QUFBQSxvQkFDSUUsVUFBVSxJQUFJM0YsSUFBSixDQUFTeUMsU0FBVCxDQURkO0FBQUEsb0JBRUlTLElBQUksQ0FGUjtBQUdBeUMsd0JBQVFDLFFBQVIsQ0FBaUIsRUFBakIsRUFKNEIsQ0FJTjtBQUN0Qix1QkFBTzFDLElBQUl1QyxDQUFYLEVBQWM7QUFDVkMsMEJBQU14QyxHQUFOLElBQWE7QUFDVDFDLDhCQUFNLElBQUlSLElBQUosQ0FBUzJGLE9BQVQ7QUFERyxxQkFBYjtBQUdBQSw0QkFBUUUsT0FBUixDQUFnQkYsUUFBUXZELE9BQVIsS0FBb0IsQ0FBcEM7QUFDSDtBQUNELHVCQUFPc0QsS0FBUDtBQUNIOztBQUVELHFCQUFTMEUsaUJBQVQsQ0FBMkIzSCxTQUEzQixFQUFzQztBQUNsQyxvQkFBSTRILFFBQVEsRUFBWjtBQUFBLG9CQUNJaEUsR0FESjtBQUFBLG9CQUVJaUQsSUFGSjtBQUFBLG9CQUdJZ0IsY0FBYzdILFVBQVU4SCxRQUFWLEVBSGxCO0FBQUEsb0JBSUl4QixjQUFjdEcsVUFBVUwsT0FBVixFQUpsQjs7QUFNQSxxQkFBSyxJQUFJb0ksT0FBTyxDQUFoQixFQUFtQkEsT0FBTyxFQUExQixFQUE4QkEsUUFBUSxDQUF0QyxFQUF5QztBQUNyQ25FLDBCQUFNLEVBQU47QUFDQSx5QkFBSyxJQUFJb0UsTUFBTSxDQUFmLEVBQWtCQSxNQUFNLENBQXhCLEVBQTJCQSxPQUFPLENBQWxDLEVBQXFDO0FBQ2pDbkIsK0JBQU8sSUFBSXRKLElBQUosQ0FBU3lDLFVBQVVELE9BQVYsRUFBVCxDQUFQO0FBQ0E4Ryw2QkFBSzFELFFBQUwsQ0FBYzBFLGNBQWNFLElBQTVCO0FBQ0FsQiw2QkFBS3pELE9BQUwsQ0FBYWtELGNBQWMwQixHQUEzQjtBQUNBcEUsNEJBQUk3RSxJQUFKLENBQVM7QUFDTDhILGtDQUFNQTtBQURELHlCQUFUO0FBR0g7QUFDRGUsMEJBQU03SSxJQUFOLENBQVc2RSxHQUFYO0FBQ0g7QUFDRCx1QkFBT2dFLEtBQVA7QUFDSDs7QUFFRHpGLGtCQUFNa0IsTUFBTixHQUFlLFVBQVVVLFlBQVYsRUFBd0I7QUFDbkMsb0JBQUk1QixNQUFNRSxZQUFWLEVBQXdCO0FBQ3BCRiwwQkFBTUUsWUFBTixDQUFtQixFQUFDMEIsY0FBY0EsWUFBZixFQUFuQjtBQUNIO0FBQ0osYUFKRDs7QUFNQWxCLGlCQUFLNUQsYUFBTCxHQUFxQixZQUFZO0FBQzdCLG9CQUFJbEQsY0FBYzhHLEtBQUs5RyxXQUF2QjtBQUFBLG9CQUNJNEUsTUFBTTVFLGNBQWNBLFlBQVkrQyxNQUExQixHQUFtQyxDQUQ3QztBQUFBLG9CQUVJa0IsWUFBWTZDLEtBQUt2RSxLQUFMLENBQVcwQixTQUYzQjtBQUFBLG9CQUdJQyxVQUFVNEMsS0FBS3ZFLEtBQUwsQ0FBVzJCLE9BSHpCO0FBQUEsb0JBSUk4RSxlQUFlLElBQUl4SCxJQUFKLENBQVNBLEtBQUt5SCxHQUFMLENBQVNoRixVQUFVVixXQUFWLEVBQVQsRUFBa0NVLFVBQVVQLFFBQVYsRUFBbEMsRUFBd0RPLFVBQVVMLE9BQVYsRUFBeEQsQ0FBVCxDQUpuQjtBQUFBLG9CQUtJc0YsYUFBYSxJQUFJMUgsSUFBSixDQUFTQSxLQUFLeUgsR0FBTCxDQUFTL0UsUUFBUVgsV0FBUixFQUFULEVBQWdDVyxRQUFRUixRQUFSLEVBQWhDLEVBQW9EUSxRQUFRTixPQUFSLEVBQXBELENBQVQsQ0FMakI7QUFBQSxvQkFNSTRELE9BQU9wQixNQUFNb0IsSUFOakI7QUFBQSxvQkFPSU4sUUFBUWQsTUFBTWMsS0FQbEI7QUFBQSxvQkFRSWdGLFVBQVUsT0FSZDtBQUFBLG9CQVNJL0MsU0FBUyxRQVRiOztBQVVBO0FBQ0lDLHNCQUFNLEtBWFY7QUFBQSxvQkFZSVksUUFaSjtBQUFBLG9CQWFJbUMscUJBQXFCLEtBYnpCO0FBQUEsb0JBY0lDLHFCQUFxQixLQWR6QjtBQUFBLG9CQWVJSCxHQWZKO0FBQUEsb0JBZ0JJRCxJQWhCSjs7QUFrQkEsb0JBQUl4RSxLQUFLNkIsUUFBVCxFQUFtQjtBQUNmLHlCQUFLNEMsTUFBTSxDQUFYLEVBQWNBLE1BQU0sQ0FBcEIsRUFBdUJBLE9BQU8sQ0FBOUIsRUFBaUM7QUFDN0IsNkJBQUtELE9BQU8sQ0FBWixFQUFlQSxPQUFPLEVBQXRCLEVBQTBCQSxRQUFRLENBQWxDLEVBQXFDO0FBQ2pDLGdDQUFJeEUsS0FBS3dFLElBQUwsRUFBV0MsR0FBWCxFQUFnQnhILE1BQXBCLEVBQTRCO0FBQ3hCK0MscUNBQUt3RSxJQUFMLEVBQVdDLEdBQVgsRUFBZ0J4SCxNQUFoQixHQUF5QixJQUF6QjtBQUNIO0FBQ0o7QUFDSjtBQUNEK0MseUJBQUs2QixRQUFMLEdBQWdCLEtBQWhCO0FBQ0g7O0FBRUQsb0JBQUluQyxNQUFNbUMsUUFBVixFQUFvQjtBQUNoQix5QkFBSzRDLE1BQU0sQ0FBWCxFQUFjQSxNQUFNLENBQXBCLEVBQXVCQSxPQUFPLENBQTlCLEVBQWlDO0FBQzdCLDRCQUFJL0UsTUFBTStFLEdBQU4sRUFBV3hILE1BQWYsRUFBdUI7QUFDbkJ5QyxrQ0FBTStFLEdBQU4sRUFBV3hILE1BQVgsR0FBb0IsSUFBcEI7QUFDSDtBQUNKO0FBQ0R5QywwQkFBTW1DLFFBQU4sR0FBaUIsS0FBakI7QUFDSDs7QUFFRCxxQkFBSyxJQUFJM0UsSUFBSSxDQUFiLEVBQWdCQSxJQUFJRSxHQUFwQixFQUF5QkYsS0FBSyxDQUE5QixFQUFpQztBQUM3Qix3QkFBSVcsUUFBUXJGLFlBQVkwRSxDQUFaLENBQVo7QUFDQSx3QkFBSTRFLGlCQUFpQixJQUFJOUgsSUFBSixDQUFTNkQsTUFBTXBCLFNBQWYsQ0FBckI7QUFDQSx3QkFBSXNGLGVBQWUsSUFBSS9ILElBQUosQ0FBUzZELE1BQU1uQixPQUFmLENBQW5COztBQUVBLHdCQUFJbUIsTUFBTTBELE1BQVYsRUFBa0I7QUFDZCw0QkFBSVEsZ0JBQWdCUCxZQUFoQixJQUFnQ00sa0JBQWtCSixVQUF0RCxFQUFrRTtBQUM5RDtBQUNILHlCQUZELE1BRU87QUFDSGlELGlEQUFxQixJQUFyQjs7QUFFQSxnQ0FBSUUsZ0JBQUo7QUFDQSxnQ0FBSS9DLGtCQUFrQk4sWUFBdEIsRUFBb0M7QUFDaENxRCxtREFBbUIsQ0FBbkI7QUFDSCw2QkFGRCxNQUVPO0FBQ0hBLG1EQUFtQnZDLEtBQUtDLEtBQUwsQ0FBVyxDQUFDVCxpQkFBaUJOLFlBQWxCLElBQWtDRyxNQUE3QyxDQUFuQjtBQUNIOztBQUVELGdDQUFJbUQsY0FBSjtBQUNBLGdDQUFJL0MsZ0JBQWdCTCxVQUFwQixFQUFnQztBQUM1Qm9ELGlEQUFpQnhDLEtBQUt5QyxJQUFMLENBQVUsQ0FBQ3JELGFBQWFGLFlBQWQsSUFBOEJHLE1BQXhDLENBQWpCO0FBQ0gsNkJBRkQsTUFFTztBQUNIbUQsaURBQWlCeEMsS0FBS3lDLElBQUwsQ0FBVSxDQUFDaEQsZUFBZVAsWUFBaEIsSUFBZ0NHLE1BQTFDLENBQWpCO0FBQ0g7O0FBRUQsZ0NBQUlxRCxxQkFBcUI7QUFDckJuSCx1Q0FBT0EsS0FEYztBQUVyQmQsNENBQVk4SCxnQkFGUztBQUdyQi9ILDBDQUFVZ0k7QUFIVyw2QkFBekI7O0FBTUF0Qyx1Q0FBVzlDLE1BQU1tRixnQkFBTixFQUF3QjVILE1BQW5DO0FBQ0EsZ0NBQUl1RixRQUFKLEVBQWM7QUFDVkEseUNBQVNoSCxJQUFULENBQWN3SixrQkFBZDtBQUNILDZCQUZELE1BRU87QUFDSHhDLDJDQUFXLEVBQVg7QUFDQUEseUNBQVNoSCxJQUFULENBQWN3SixrQkFBZDtBQUNBdEYsc0NBQU1tRixnQkFBTixFQUF3QjVILE1BQXhCLEdBQWlDdUYsUUFBakM7QUFDSDtBQUNKO0FBQ0oscUJBbkNELE1BbUNPO0FBQ0gsNEJBQUlULGdCQUFnQnRGLFNBQWhCLElBQTZCcUYsa0JBQWtCcEYsT0FBbkQsRUFBNEQ7QUFDeEQ7QUFDSCx5QkFGRCxNQUVPO0FBQ0hrSSxpREFBcUIsSUFBckI7O0FBRUEsZ0NBQUkxQyxRQUFKO0FBQ0EsZ0NBQUlDLG1CQUFKO0FBQ0EsZ0NBQUlMLGtCQUFrQnJGLFNBQXRCLEVBQWlDO0FBQzdCMEYsc0RBQXNCLENBQXRCO0FBQ0gsNkJBRkQsTUFFTztBQUNIRCwyQ0FBV0osaUJBQWlCckYsU0FBakIsR0FBNkIsQ0FBQ3FGLGVBQWVNLGlCQUFmLEtBQXFDM0YsVUFBVTJGLGlCQUFWLEVBQXRDLElBQXVFLEtBQS9HO0FBQ0FELHNEQUFzQkQsV0FBV3dDLE9BQWpDO0FBQ0g7O0FBRUQsZ0NBQUlyQyxpQkFBSjtBQUNBLGdDQUFJTixnQkFBZ0JyRixPQUFwQixFQUE2QjtBQUN6QndGLDJDQUFXeEYsVUFBVUQsU0FBVixHQUFzQixDQUFDQyxRQUFRMEYsaUJBQVIsS0FBOEIzRixVQUFVMkYsaUJBQVYsRUFBL0IsSUFBZ0UsS0FBakc7QUFDQUMsb0RBQW9CSCxXQUFXd0MsT0FBL0I7QUFDSCw2QkFIRCxNQUdPO0FBQ0h4QywyQ0FBV0gsZUFBZXRGLFNBQWYsR0FBMkIsQ0FBQ3NGLGFBQWFLLGlCQUFiLEtBQW1DM0YsVUFBVTJGLGlCQUFWLEVBQXBDLElBQXFFLEtBQTNHO0FBQ0FDLG9EQUFvQkgsV0FBV3dDLE9BQS9CO0FBQ0g7O0FBRUQsZ0NBQUkzSCxhQUFhdUYsS0FBS0MsS0FBTCxDQUFXSixtQkFBWCxDQUFqQjtBQUNBLGdDQUFJckYsV0FBV3dGLEtBQUt5QyxJQUFMLENBQVUxQyxvQkFBb0JULEdBQTlCLENBQWY7QUFDQSxnQ0FBSXFELGdCQUFnQmxJLGFBQWEsRUFBakM7QUFDQSxnQ0FBSTJGLFdBQVdKLEtBQUtDLEtBQUwsQ0FBV3hGLGFBQWEsRUFBeEIsQ0FBZjtBQUNBLGdDQUFJbUksV0FBV3hDLFdBQVcsRUFBMUI7QUFDQSxnQ0FBSXlDLFdBQUo7O0FBRUEsK0JBQUc7QUFDQ0QsNENBQVksRUFBWjtBQUNBLG9DQUFJQSxZQUFZcEksUUFBaEIsRUFBMEI7QUFDdEJxSSxrREFBYyxFQUFkO0FBQ0gsaUNBRkQsTUFFTztBQUNIQSxrREFBY3JJLFdBQVcsRUFBekI7QUFDSDtBQUNELG9DQUFJc0ksZUFBZTtBQUNmdkgsMkNBQU9BLEtBRFE7QUFFZmQsZ0RBQVlrSSxhQUZHO0FBR2ZuSSw4Q0FBVXFJO0FBSEssaUNBQW5CO0FBS0EzQywyQ0FBV3hDLEtBQUtpRixhQUFMLEVBQW9CdkMsUUFBcEIsRUFBOEJ6RixNQUF6QztBQUNBLG9DQUFJdUYsUUFBSixFQUFjO0FBQ1ZBLDZDQUFTaEgsSUFBVCxDQUFjNEosWUFBZDtBQUNILGlDQUZELE1BRU87QUFDSDVDLCtDQUFXLEVBQVg7QUFDQUEsNkNBQVNoSCxJQUFULENBQWM0SixZQUFkO0FBQ0FwRix5Q0FBS2lGLGFBQUwsRUFBb0J2QyxRQUFwQixFQUE4QnpGLE1BQTlCLEdBQXVDdUYsUUFBdkM7QUFDSDtBQUNEeUMsZ0RBQWdCLENBQWhCO0FBQ0F2Qyw0Q0FBWSxDQUFaO0FBQ0gsNkJBdEJELFFBc0JTd0MsV0FBV3BJLFFBdEJwQjtBQXVCSDtBQUNKO0FBQ0o7O0FBRUQsb0JBQUk4SCxrQkFBSixFQUF3QjtBQUNwQix5QkFBS0gsTUFBTSxDQUFYLEVBQWNBLE1BQU0sQ0FBcEIsRUFBdUJBLE9BQU8sQ0FBOUIsRUFBaUM7QUFDN0IsNEJBQUk5RyxnQkFBZ0IsRUFBcEI7QUFDQSw2QkFBSzZHLE9BQU8sQ0FBWixFQUFlQSxPQUFPLEVBQXRCLEVBQTBCQSxRQUFRLENBQWxDLEVBQXFDO0FBQ2pDLGdDQUFJeEUsS0FBS3dFLElBQUwsRUFBV0MsR0FBWCxFQUFnQnhILE1BQXBCLEVBQTRCO0FBQ3hCVSxnREFBZ0JBLGNBQWMwSCxNQUFkLENBQXFCckYsS0FBS3dFLElBQUwsRUFBV0MsR0FBWCxFQUFnQnhILE1BQXJDLENBQWhCO0FBQ0g7QUFDSjtBQUNELDRCQUFJVSxjQUFjcEMsTUFBZCxHQUF1QixDQUEzQixFQUE4QjtBQUMxQnlFLGlDQUFLNkIsUUFBTCxHQUFnQixJQUFoQjtBQUNBdkMsaUNBQUtmLFdBQUwsQ0FBaUJaLGFBQWpCO0FBQ0g7QUFDSjtBQUNKOztBQUVELG9CQUFJZ0gsa0JBQUosRUFBd0I7QUFDcEIsd0JBQUlXLHNCQUFzQixFQUExQjtBQUNBLHlCQUFLYixNQUFNLENBQVgsRUFBY0EsTUFBTSxDQUFwQixFQUF1QkEsT0FBTyxDQUE5QixFQUFpQztBQUM3Qiw0QkFBSS9FLE1BQU0rRSxHQUFOLEVBQVd4SCxNQUFmLEVBQXVCO0FBQ25CcUksa0RBQXNCQSxvQkFBb0JELE1BQXBCLENBQTJCM0YsTUFBTStFLEdBQU4sRUFBV3hILE1BQXRDLENBQXRCO0FBQ0g7QUFDSjtBQUNELHdCQUFJcUksb0JBQW9CL0osTUFBcEIsR0FBNkIsQ0FBakMsRUFBb0M7QUFDaENtRSw4QkFBTW1DLFFBQU4sR0FBaUIsSUFBakI7QUFDQXZDLDZCQUFLZCxpQkFBTCxDQUF1QjhHLG1CQUF2QjtBQUNIO0FBQ0o7O0FBRUQ3Qix5QkFBUyxZQUFZO0FBQ2pCQztBQUNILGlCQUZEO0FBR0gsYUF4S0Q7O0FBMEtBcEUsaUJBQUtyRSxZQUFMLEdBQW9CLFlBQVk7QUFDNUIsb0JBQUlzSyxpQkFBaUJqRyxLQUFLdkUsS0FBTCxDQUFXMEIsU0FBaEM7QUFBQSxvQkFDSWlELFFBQVFILFNBQVNnRyxjQUFULEVBQXlCLENBQXpCLENBRFo7QUFBQSxvQkFFSUMsZUFGSjtBQUFBLG9CQUdJQyxvQkFBb0IsR0FIeEI7QUFBQSxvQkFJSTNFLEtBSko7O0FBTUFsQyxzQkFBTW9CLElBQU4sR0FBYW9FLGtCQUFrQm1CLGNBQWxCLENBQWI7QUFDQTNHLHNCQUFNYyxLQUFOLEdBQWNBLEtBQWQ7QUFDQThGLGtDQUFrQmxHLEtBQUt0SCxlQUFMLENBQXFCME4sT0FBckIsQ0FBNkJELGlCQUE3QixDQUFsQjtBQUNBM0Usd0JBQVEvSCxXQUFXd00sY0FBWCxFQUEyQmpHLEtBQUt0SCxlQUFoQyxDQUFSO0FBQ0Esb0JBQUl3TixvQkFBb0IsQ0FBQyxDQUF6QixFQUE0QjtBQUN4QjFFLDRCQUFRQSxNQUFNbkMsT0FBTixDQUFjOEcsaUJBQWQsRUFBaUN0RSxxQkFBcUJvRSxjQUFyQixDQUFqQyxDQUFSO0FBQ0g7QUFDRDNHLHNCQUFNbkYsT0FBTixDQUFjcUgsS0FBZCxHQUFzQkEsS0FBdEI7QUFDSCxhQWZEOztBQWlCQXhCLGlCQUFLdEUsU0FBTCxHQUFpQixTQUFTOEgsUUFBVCxDQUFrQkMsV0FBbEIsRUFBK0I7QUFDNUMsb0JBQUlqSCxPQUFPaUgsWUFBWWhILFdBQVosRUFBWDtBQUFBLG9CQUNJRSxRQUFROEcsWUFBWTdHLFFBQVosRUFEWjtBQUFBLG9CQUVJMUIsT0FBT3VJLFlBQVkzRyxPQUFaLEVBRlg7QUFBQSxvQkFHSXFJLE1BQU0xQixZQUFZRyxNQUFaLEVBSFY7QUFBQSxvQkFJSXFDLGlCQUFpQixJQUFJdkwsSUFBSixDQUFTOEIsSUFBVCxFQUFlRyxLQUFmLEVBQXNCekIsT0FBT2lLLEdBQTdCLENBSnJCO0FBQUEsb0JBS0kvSCxVQUFVLElBQUkxQyxJQUFKLENBQVM4QixJQUFULEVBQWVHLEtBQWYsRUFBc0J6QixPQUFPaUssR0FBUCxHQUFhLENBQW5DLENBTGQ7O0FBT0EsdUJBQU87QUFDSGhJLCtCQUFXOEksY0FEUjtBQUVIN0ksNkJBQVNBO0FBRk4saUJBQVA7QUFJSCxhQVpEOztBQWNBO0FBQ0EscUJBQVN5RSxvQkFBVCxDQUE4QjNHLElBQTlCLEVBQW9DO0FBQ2hDLG9CQUFJNkksWUFBWSxJQUFJckosSUFBSixDQUFTUSxJQUFULENBQWhCO0FBQ0E2SSwwQkFBVXhELE9BQVYsQ0FBa0J3RCxVQUFVakgsT0FBVixLQUFzQixDQUF0QixJQUEyQmlILFVBQVVILE1BQVYsTUFBc0IsQ0FBakQsQ0FBbEIsRUFGZ0MsQ0FFd0M7QUFDeEUsb0JBQUlJLE9BQU9ELFVBQVU3RyxPQUFWLEVBQVg7QUFDQTZHLDBCQUFVRSxRQUFWLENBQW1CLENBQW5CLEVBSmdDLENBSVQ7QUFDdkJGLDBCQUFVeEQsT0FBVixDQUFrQixDQUFsQjtBQUNBLHVCQUFPeUMsS0FBS0MsS0FBTCxDQUFXRCxLQUFLa0IsS0FBTCxDQUFXLENBQUNGLE9BQU9ELFNBQVIsSUFBcUIsUUFBaEMsSUFBNEMsQ0FBdkQsSUFBNEQsQ0FBbkU7QUFDSDs7QUFFRC9ELGlCQUFLekUsV0FBTDtBQUNIO0FBclNFLEtBQVA7QUF1U0gsQ0F6U3NCLENBMWhCdkIsRUFvMEJDNEQsU0FwMEJELENBbzBCVyxTQXAwQlgsRUFvMEJzQixDQUFDLFlBQUQsRUFBZSxVQUFmLEVBQTJCLFVBQVUxRixVQUFWLEVBQXNCMEssUUFBdEIsRUFBZ0M7QUFDN0U7O0FBQ0EsV0FBTztBQUNIL0Usa0JBQVUsSUFEUDtBQUVIQyxpQkFBUyxJQUZOO0FBR0huSCxxQkFBYSx1QkFIVjtBQUlIdUgsaUJBQVMsV0FKTjtBQUtIQyxjQUFNLFVBQVVKLEtBQVYsRUFBaUJLLE9BQWpCLEVBQTBCQyxLQUExQixFQUFpQ0ksSUFBakMsRUFBdUM7QUFDekNWLGtCQUFNekcsZ0JBQU4sR0FBeUJtSCxLQUFLbkgsZ0JBQTlCOztBQUVBc0wscUJBQVMsWUFBWTtBQUNqQkM7QUFDSCxhQUZEOztBQUlBcEUsaUJBQUt4RSxJQUFMLEdBQVk7QUFDUmUsc0JBQU0sRUFBQ1EsTUFBTSxDQUFQO0FBREUsYUFBWjs7QUFJQSxxQkFBU3FILGtCQUFULEdBQThCO0FBQzFCLG9CQUFJQyxXQUFXMUUsUUFBUTBFLFFBQVIsRUFBZjtBQUNBLG9CQUFJQyxrQkFBa0JELFNBQVMsQ0FBVCxFQUFZQSxRQUFaLENBQXFCLENBQXJCLENBQXRCO0FBQ0Esb0JBQUlFLHlCQUF5QkQsZ0JBQWdCRSxXQUFoQixHQUE4QkYsZ0JBQWdCRyxXQUEzRTtBQUNBLG9CQUFJQyxrQkFBa0JMLFNBQVMsQ0FBVCxDQUF0QjtBQUNBLG9CQUFJTSx5QkFBeUJELGdCQUFnQkYsV0FBaEIsR0FBOEJFLGdCQUFnQkQsV0FBM0U7QUFDQSxvQkFBSUcsY0FBY0wsMEJBQTBCSSxzQkFBMUIsSUFBb0QsQ0FBdEU7QUFDQSxvQkFBSUMsY0FBYyxDQUFsQixFQUFxQjtBQUNqQix3QkFBSUwsMEJBQTBCLENBQTlCLEVBQWlDO0FBQzdCakYsOEJBQU1pRixzQkFBTixHQUErQkssV0FBL0I7QUFDSCxxQkFGRCxNQUVPO0FBQ0h0Riw4QkFBTWlGLHNCQUFOLEdBQStCLENBQS9CO0FBQ0g7QUFDRCx3QkFBSUksMEJBQTBCLENBQTlCLEVBQWlDO0FBQzdCckYsOEJBQU11RixpQkFBTixHQUEwQkQsV0FBMUI7QUFDSCxxQkFGRCxNQUVPO0FBQ0h0Riw4QkFBTXVGLGlCQUFOLEdBQTBCLENBQTFCO0FBQ0g7QUFDSjtBQUNKOztBQUVELHFCQUFTQyxpQkFBVCxDQUEyQjNILFNBQTNCLEVBQXNDO0FBQ2xDLG9CQUFJdUQsT0FBTyxFQUFYO0FBQUEsb0JBQ0lzRCxJQURKO0FBQUEsb0JBRUlnQixjQUFjN0gsVUFBVThILFFBQVYsRUFGbEI7QUFBQSxvQkFHSXhCLGNBQWN0RyxVQUFVTCxPQUFWLEVBSGxCOztBQUtBLHFCQUFLLElBQUlvSSxPQUFPLENBQWhCLEVBQW1CQSxPQUFPLEVBQTFCLEVBQThCQSxRQUFRLENBQXRDLEVBQXlDO0FBQ3JDbEIsMkJBQU8sSUFBSXRKLElBQUosQ0FBU3lDLFVBQVVELE9BQVYsRUFBVCxDQUFQO0FBQ0E4Ryx5QkFBSzFELFFBQUwsQ0FBYzBFLGNBQWNFLElBQTVCO0FBQ0FsQix5QkFBS3pELE9BQUwsQ0FBYWtELFdBQWI7QUFDQS9DLHlCQUFLeEUsSUFBTCxDQUFVO0FBQ044SCw4QkFBTUE7QUFEQSxxQkFBVjtBQUdIO0FBQ0QsdUJBQU90RCxJQUFQO0FBRUg7O0FBRURwQixrQkFBTWtCLE1BQU4sR0FBZSxVQUFVVSxZQUFWLEVBQXdCO0FBQ25DLG9CQUFJNUIsTUFBTUUsWUFBVixFQUF3QjtBQUNwQkYsMEJBQU1FLFlBQU4sQ0FBbUIsRUFBQzBCLGNBQWNBLFlBQWYsRUFBbkI7QUFDSDtBQUNKLGFBSkQ7O0FBTUFsQixpQkFBSzVELGFBQUwsR0FBcUIsWUFBWTtBQUM3QixvQkFBSWxELGNBQWM4RyxLQUFLOUcsV0FBdkI7QUFBQSxvQkFDSTRFLE1BQU01RSxjQUFjQSxZQUFZK0MsTUFBMUIsR0FBbUMsQ0FEN0M7QUFBQSxvQkFFSWtCLFlBQVk2QyxLQUFLdkUsS0FBTCxDQUFXMEIsU0FGM0I7QUFBQSxvQkFHSUMsVUFBVTRDLEtBQUt2RSxLQUFMLENBQVcyQixPQUh6QjtBQUFBLG9CQUlJOEUsZUFBZSxJQUFJeEgsSUFBSixDQUFTQSxLQUFLeUgsR0FBTCxDQUFTaEYsVUFBVVYsV0FBVixFQUFULEVBQWtDVSxVQUFVUCxRQUFWLEVBQWxDLEVBQXdETyxVQUFVTCxPQUFWLEVBQXhELENBQVQsQ0FKbkI7QUFBQSxvQkFLSXNGLGFBQWEsSUFBSTFILElBQUosQ0FBU0EsS0FBS3lILEdBQUwsQ0FBUy9FLFFBQVFYLFdBQVIsRUFBVCxFQUFnQ1csUUFBUVIsUUFBUixFQUFoQyxFQUFvRFEsUUFBUU4sT0FBUixFQUFwRCxDQUFULENBTGpCO0FBQUEsb0JBTUk0RCxPQUFPcEIsTUFBTW9CLElBTmpCO0FBQUEsb0JBT0kyRixlQUFlLEVBUG5CO0FBQUEsb0JBUUlqQixVQUFVLE9BUmQ7QUFBQSxvQkFTSTlDLE1BQU0sS0FUVjtBQUFBLG9CQVVJWSxRQVZKO0FBQUEsb0JBV0lvQyxxQkFBcUIsS0FYekI7QUFBQSxvQkFZSUosSUFaSjs7QUFjQSxvQkFBSXhFLEtBQUs2QixRQUFULEVBQW1CO0FBQ2YseUJBQUsyQyxPQUFPLENBQVosRUFBZUEsT0FBTyxFQUF0QixFQUEwQkEsUUFBUSxDQUFsQyxFQUFxQztBQUNqQyw0QkFBSXhFLEtBQUt3RSxJQUFMLEVBQVd2SCxNQUFmLEVBQXVCO0FBQ25CK0MsaUNBQUt3RSxJQUFMLEVBQVd2SCxNQUFYLEdBQW9CLElBQXBCO0FBQ0g7QUFDSjtBQUNEK0MseUJBQUs2QixRQUFMLEdBQWdCLEtBQWhCO0FBQ0g7O0FBRUQscUJBQUssSUFBSTNFLElBQUksQ0FBYixFQUFnQkEsSUFBSUUsR0FBcEIsRUFBeUJGLEtBQUssQ0FBOUIsRUFBaUM7QUFDN0Isd0JBQUlXLFFBQVFyRixZQUFZMEUsQ0FBWixDQUFaO0FBQ0Esd0JBQUk0RSxpQkFBaUIsSUFBSTlILElBQUosQ0FBUzZELE1BQU1wQixTQUFmLENBQXJCO0FBQ0Esd0JBQUlzRixlQUFlLElBQUkvSCxJQUFKLENBQVM2RCxNQUFNbkIsT0FBZixDQUFuQjs7QUFFQSx3QkFBSW1CLE1BQU0wRCxNQUFWLEVBQWtCO0FBQ2QsNEJBQUlRLGdCQUFnQlAsWUFBaEIsSUFBZ0NNLGtCQUFrQkosVUFBdEQsRUFBa0U7QUFDOUQ7QUFDSCx5QkFGRCxNQUVPO0FBQ0hpRSx5Q0FBYW5LLElBQWIsQ0FBa0I7QUFDZHFDLHVDQUFPQTtBQURPLDZCQUFsQjtBQUdIO0FBQ0oscUJBUkQsTUFRTztBQUNILDRCQUFJa0UsZ0JBQWdCdEYsU0FBaEIsSUFBNkJxRixrQkFBa0JwRixPQUFuRCxFQUE0RDtBQUN4RDtBQUNILHlCQUZELE1BRU87QUFDSGtJLGlEQUFxQixJQUFyQjtBQUNIOztBQUVELDRCQUFJMUMsUUFBSjtBQUNBLDRCQUFJQyxtQkFBSjtBQUNBLDRCQUFJTCxrQkFBa0JyRixTQUF0QixFQUFpQztBQUM3QjBGLGtEQUFzQixDQUF0QjtBQUNILHlCQUZELE1BRU87QUFDSEQsdUNBQVdKLGlCQUFpQnJGLFNBQWpCLEdBQTZCLENBQUNxRixlQUFlTSxpQkFBZixLQUFxQzNGLFVBQVUyRixpQkFBVixFQUF0QyxJQUF1RSxLQUEvRztBQUNBRCxrREFBc0JELFdBQVd3QyxPQUFqQztBQUNIOztBQUVELDRCQUFJckMsaUJBQUo7QUFDQSw0QkFBSU4sZ0JBQWdCckYsT0FBcEIsRUFBNkI7QUFDekJ3Rix1Q0FBV3hGLFVBQVVELFNBQVYsR0FBc0IsQ0FBQ0MsUUFBUTBGLGlCQUFSLEtBQThCM0YsVUFBVTJGLGlCQUFWLEVBQS9CLElBQWdFLEtBQWpHO0FBQ0FDLGdEQUFvQkgsV0FBV3dDLE9BQS9CO0FBQ0gseUJBSEQsTUFHTztBQUNIeEMsdUNBQVdILGVBQWV0RixTQUFmLEdBQTJCLENBQUNzRixhQUFhSyxpQkFBYixLQUFtQzNGLFVBQVUyRixpQkFBVixFQUFwQyxJQUFxRSxLQUEzRztBQUNBQyxnREFBb0JILFdBQVd3QyxPQUEvQjtBQUNIOztBQUVELDRCQUFJM0gsYUFBYXVGLEtBQUtDLEtBQUwsQ0FBV0osbUJBQVgsQ0FBakI7QUFDQSw0QkFBSXJGLFdBQVd3RixLQUFLeUMsSUFBTCxDQUFVMUMsb0JBQW9CVCxHQUE5QixDQUFmOztBQUVBLDRCQUFJd0QsZUFBZTtBQUNmdkgsbUNBQU9BLEtBRFE7QUFFZmQsd0NBQVlBLFVBRkc7QUFHZkQsc0NBQVVBO0FBSEsseUJBQW5COztBQU1BMEYsbUNBQVd4QyxLQUFLakQsVUFBTCxFQUFpQkUsTUFBNUI7QUFDQSw0QkFBSXVGLFFBQUosRUFBYztBQUNWQSxxQ0FBU2hILElBQVQsQ0FBYzRKLFlBQWQ7QUFDSCx5QkFGRCxNQUVPO0FBQ0g1Qyx1Q0FBVyxFQUFYO0FBQ0FBLHFDQUFTaEgsSUFBVCxDQUFjNEosWUFBZDtBQUNBcEYsaUNBQUtqRCxVQUFMLEVBQWlCRSxNQUFqQixHQUEwQnVGLFFBQTFCO0FBQ0g7QUFDSjtBQUNKOztBQUVELG9CQUFJb0Msa0JBQUosRUFBd0I7QUFDcEIsd0JBQUlqSCxnQkFBZ0IsRUFBcEI7QUFDQSx5QkFBSzZHLE9BQU8sQ0FBWixFQUFlQSxPQUFPLEVBQXRCLEVBQTBCQSxRQUFRLENBQWxDLEVBQXFDO0FBQ2pDLDRCQUFJeEUsS0FBS3dFLElBQUwsRUFBV3ZILE1BQWYsRUFBdUI7QUFDbkJVLDRDQUFnQkEsY0FBYzBILE1BQWQsQ0FBcUJyRixLQUFLd0UsSUFBTCxFQUFXdkgsTUFBaEMsQ0FBaEI7QUFDSDtBQUNKO0FBQ0Qsd0JBQUlVLGNBQWNwQyxNQUFkLEdBQXVCLENBQTNCLEVBQThCO0FBQzFCeUUsNkJBQUs2QixRQUFMLEdBQWdCLElBQWhCO0FBQ0F2Qyw2QkFBS2YsV0FBTCxDQUFpQlosYUFBakI7QUFDSDtBQUNKOztBQUVEaUIsc0JBQU0rRyxZQUFOLEdBQXFCQSxZQUFyQjs7QUFFQWxDLHlCQUFTLFlBQVk7QUFDakJDO0FBQ0gsaUJBRkQ7QUFHSCxhQXBHRDs7QUFzR0FwRSxpQkFBS3JFLFlBQUwsR0FBb0IsWUFBWTtBQUM1QixvQkFBSTJLLGVBQWV0RyxLQUFLdkUsS0FBTCxDQUFXMEIsU0FBOUI7O0FBRUFtQyxzQkFBTW9CLElBQU4sR0FBYW9FLGtCQUFrQndCLFlBQWxCLENBQWI7QUFDQWhILHNCQUFNK0csWUFBTixHQUFxQixFQUFyQjtBQUNBL0csc0JBQU1jLEtBQU4sR0FBYyxDQUFDa0csWUFBRCxDQUFkO0FBQ0FoSCxzQkFBTW5GLE9BQU4sQ0FBY3FILEtBQWQsR0FBc0IvSCxXQUFXNk0sWUFBWCxFQUF5QnRHLEtBQUt2SCxjQUE5QixDQUF0QjtBQUNILGFBUEQ7O0FBU0F1SCxpQkFBS3RFLFNBQUwsR0FBaUIsU0FBUzhILFFBQVQsQ0FBa0JDLFdBQWxCLEVBQStCO0FBQzVDLG9CQUFJakgsT0FBT2lILFlBQVloSCxXQUFaLEVBQVg7QUFBQSxvQkFDSUUsUUFBUThHLFlBQVk3RyxRQUFaLEVBRFo7QUFBQSxvQkFFSTFCLE9BQU91SSxZQUFZM0csT0FBWixFQUZYO0FBQUEsb0JBR0lLLFlBQVksSUFBSXpDLElBQUosQ0FBUzhCLElBQVQsRUFBZUcsS0FBZixFQUFzQnpCLElBQXRCLENBSGhCO0FBQUEsb0JBSUlrQyxVQUFVLElBQUkxQyxJQUFKLENBQVM4QixJQUFULEVBQWVHLEtBQWYsRUFBc0J6QixPQUFPLENBQTdCLENBSmQ7O0FBTUEsdUJBQU87QUFDSGlDLCtCQUFXQSxTQURSO0FBRUhDLDZCQUFTQTtBQUZOLGlCQUFQO0FBSUgsYUFYRDs7QUFhQTRDLGlCQUFLekUsV0FBTDtBQUNIO0FBMUxFLEtBQVA7QUE0TEgsQ0E5THFCLENBcDBCdEI7QUFtZ0NKOUQsUUFBUUMsTUFBUixDQUFlLGtDQUFmLEVBQW1ELEVBQW5ELEVBQXVENk8sR0FBdkQsQ0FBMkQsQ0FBQyxnQkFBRCxFQUFtQixVQUFTQyxjQUFULEVBQXlCO0FBQ3JHQSxtQkFBZUMsR0FBZixDQUFtQixrQ0FBbkIsRUFDRSx1Q0FDQSwyQ0FEQSxHQUVBLDZDQUZBLEdBR0EsaUdBSEEsR0FJQSxnRkFKQSxHQUtBLGtCQUxBLEdBTUEsbUVBTkEsR0FPQSw4Q0FQQSxHQVFBLGdHQVJBLEdBU0EsaUZBVEEsR0FVQSxrQkFWQSxHQVdBLGNBWEEsR0FZQSxrREFaQSxHQWFBLHdEQWJBLEdBY0EscURBZEEsR0FlQSxVQWZBLEdBZ0JBLEVBakJGO0FBa0JELENBbkIwRCxDQUEzRDs7QUFxQkFoUCxRQUFRQyxNQUFSLENBQWUsNkJBQWYsRUFBOEMsRUFBOUMsRUFBa0Q2TyxHQUFsRCxDQUFzRCxDQUFDLGdCQUFELEVBQW1CLFVBQVNDLGNBQVQsRUFBeUI7QUFDaEdBLG1CQUFlQyxHQUFmLENBQW1CLDZCQUFuQixFQUNFLFlBQ0EsNENBREEsR0FFQSxnREFGQSxHQUdBLHVCQUhBLEdBSUEsa0JBSkEsR0FLQSwwREFMQSxHQU1BLG1GQU5BLEdBT0EsMkJBUEEsR0FRQSx3QkFSQSxHQVNBLHFHQVRBLEdBVUEsK0VBVkEsR0FXQSxvR0FYQSxHQVlBLHVGQVpBLEdBYUEsZ0dBYkEsR0FjQSxzR0FkQSxHQWVBLGtDQWZBLEdBZ0JBLDZCQWhCQSxHQWlCQSxzRkFqQkEsR0FrQkEsa0ZBbEJBLEdBbUJBLHlCQW5CQSxHQW9CQSw0QkFwQkEsR0FxQkEsd0JBckJBLEdBc0JBLGtCQXRCQSxHQXVCQSxjQXZCQSxHQXdCQSwwREF4QkEsR0F5QkEsOERBekJBLEdBMEJBLHVCQTFCQSxHQTJCQSw2REEzQkEsR0E0QkEsbUVBNUJBLEdBNkJBLDREQTdCQSxHQThCQSx5QkE5QkEsR0ErQkEsNkVBL0JBLEdBZ0NBLGlHQWhDQSxHQWlDQSxpR0FqQ0EsR0FrQ0EsdUZBbENBLEdBbUNBLDJOQW5DQSxHQW9DQSxzR0FwQ0EsR0FxQ0Esa0NBckNBLEdBc0NBLDhCQXRDQSxHQXVDQSx5QkF2Q0EsR0F3Q0EscUJBeENBLEdBeUNBLHdCQXpDQSxHQTBDQSxvQkExQ0EsR0EyQ0EsY0EzQ0EsR0E0Q0EsUUE3Q0Y7QUE4Q0QsQ0EvQ3FELENBQXREOztBQWlEQWhQLFFBQVFDLE1BQVIsQ0FBZSwrQkFBZixFQUFnRCxFQUFoRCxFQUFvRDZPLEdBQXBELENBQXdELENBQUMsZ0JBQUQsRUFBbUIsVUFBU0MsY0FBVCxFQUF5QjtBQUNsR0EsbUJBQWVDLEdBQWYsQ0FBbUIsK0JBQW5CLEVBQ0UsWUFDQSxrR0FEQSxHQUVBLG1CQUZBLEdBR0EsZ0JBSEEsR0FJQSwyRkFKQSxHQUtBLHdGQUxBLEdBTUEsNENBTkEsR0FPQSxxQkFQQSxHQVFBLGlCQVJBLEdBU0Esb0JBVEEsR0FVQSxtQkFWQSxHQVdBLDBEQVhBLEdBWUEscUZBWkEsR0FhQSxxRUFiQSxHQWNBLHFCQWRBLEdBZUEsc0hBZkEsR0FnQkEsMlJBaEJBLEdBaUJBLGtFQWpCQSxHQWtCQSxvQ0FsQkEsR0FtQkEsMEJBbkJBLEdBb0JBLHFCQXBCQSxHQXFCQSxpQkFyQkEsR0FzQkEsb0JBdEJBLEdBdUJBLGdCQXZCQSxHQXdCQSx3RUF4QkEsR0F5QkEsOERBekJBLEdBMEJBLGdGQTFCQSxHQTJCQSxpR0EzQkEsR0E0QkEsZ0lBNUJBLEdBNkJBLDZCQTdCQSxHQThCQSwyREE5QkEsR0ErQkEsNkJBL0JBLEdBZ0NBLDBHQWhDQSxHQWlDQSxpSEFqQ0EsR0FrQ0EseUJBbENBLEdBbUNBLHVHQW5DQSxHQW9DQSx3QkFwQ0EsR0FxQ0Esa0JBckNBLEdBc0NBLGNBdENBLEdBdUNBLFFBeENGO0FBeUNELENBMUN1RCxDQUF4RDs7QUE0Q0FoUCxRQUFRQyxNQUFSLENBQWUsOEJBQWYsRUFBK0MsRUFBL0MsRUFBbUQ2TyxHQUFuRCxDQUF1RCxDQUFDLGdCQUFELEVBQW1CLFVBQVNDLGNBQVQsRUFBeUI7QUFDakdBLG1CQUFlQyxHQUFmLENBQW1CLDhCQUFuQixFQUNFLFlBQ0EsMEVBREEsR0FFQSxtQkFGQSxHQUdBLGdCQUhBLEdBSUEsd0RBSkEsR0FLQSwwR0FMQSxHQU1BLDZDQU5BLEdBT0EscUJBUEEsR0FRQSxnSEFSQSxHQVNBLGlCQVRBLEdBVUEsb0JBVkEsR0FXQSxnQkFYQSxHQVlBLDZDQVpBLEdBYUEsaURBYkEsR0FjQSx1QkFkQSxHQWVBLGtCQWZBLEdBZ0JBLDJEQWhCQSxHQWlCQSxnR0FqQkEsR0FrQkEsMkJBbEJBLEdBbUJBLHdCQW5CQSxHQW9CQSxpR0FwQkEsR0FxQkEsc0dBckJBLEdBc0JBLGtGQXRCQSxHQXVCQSxzR0F2QkEsR0F3QkEsMkZBeEJBLEdBeUJBLHVLQXpCQSxHQTBCQSwwR0ExQkEsR0EyQkEsc0NBM0JBLEdBNEJBLGtDQTVCQSxHQTZCQSw2QkE3QkEsR0E4QkEsc0ZBOUJBLEdBK0JBLG1GQS9CQSxHQWdDQSx5QkFoQ0EsR0FpQ0EsNEJBakNBLEdBa0NBLHdCQWxDQSxHQW1DQSxrQkFuQ0EsR0FvQ0EsY0FwQ0EsR0FxQ0EsMERBckNBLEdBc0NBLDhEQXRDQSxHQXVDQSx1QkF2Q0EsR0F3Q0EsOERBeENBLEdBeUNBLG1FQXpDQSxHQTBDQSxnRUExQ0EsR0EyQ0EseUJBM0NBLEdBNENBLHNIQTVDQSxHQTZDQSxpR0E3Q0EsR0E4Q0EsaUdBOUNBLEdBK0NBLHVGQS9DQSxHQWdEQSwyTkFoREEsR0FpREEsc0dBakRBLEdBa0RBLGtDQWxEQSxHQW1EQSw4QkFuREEsR0FvREEseUJBcERBLEdBcURBLGdJQXJEQSxHQXNEQSxxQkF0REEsR0F1REEsd0JBdkRBLEdBd0RBLG9CQXhEQSxHQXlEQSxjQXpEQSxHQTBEQSxRQTNERjtBQTRERCxDQTdEc0QsQ0FBdkQ7QUN2bkNBalAsV0FBV2tQLE9BQVgsQ0FBbUIsYUFBbkIsRUFBa0MsQ0FBQyxPQUFELEVBQVUsVUFBU0MsS0FBVCxFQUFnQjtBQUMzRCxRQUFJQyxlQUFlLEVBQW5CO0FBQ0csV0FBTztBQUNIQywyQkFBbUIsWUFBVztBQUMxQixtQkFBT0YsTUFBTUcsR0FBTixDQUFVLGlDQUFWLEVBQTZDQyxJQUE3QyxDQUFrRCxVQUFTQyxJQUFULEVBQWU7QUFDcEUsdUJBQU9BLEtBQUtDLElBQVo7QUFDSCxhQUZNLENBQVA7QUFHSCxTQUxFO0FBTUhDLDRCQUFvQixZQUFXLENBRTlCLENBUkU7QUFTSEMsc0JBQWMsVUFBU0MsR0FBVCxFQUFjO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FSLDJCQUFlUSxHQUFmO0FBQ0FDLG9CQUFRQyxHQUFSLENBQVksYUFBWixFQUEwQlYsWUFBMUI7QUFDQTtBQUNILFNBcEJFO0FBcUJIVyx1QkFBZSxZQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLG1CQUFPWCxZQUFQO0FBQ0g7QUExQkUsS0FBUDtBQTRCSCxDQTlCaUMsQ0FBbEM7QUNBQXBQLFdBQVdXLFVBQVgsQ0FBc0IsZ0JBQXRCLEVBQXdDLENBQUMsUUFBRCxFQUFXLGFBQVgsRUFBMEIsVUFBU2lCLE1BQVQsRUFBaUJvTyxXQUFqQixFQUE4QjtBQUM1RixRQUFJQyxXQUFXLENBQWY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBck8sV0FBT3NPLE9BQVAsR0FBaUJGLFlBQVlELGFBQVosRUFBakI7QUFDQUYsWUFBUUMsR0FBUixDQUFZLFlBQVosRUFBeUJJLE9BQXpCOztBQUVBdE8sV0FBT29DLElBQVAsR0FBYyxNQUFkO0FBQ0FwQyxXQUFPRixXQUFQLEdBQXFCeU8sb0JBQXJCO0FBQ0F2TyxXQUFPNEgsUUFBUCxHQUFrQixDQUFsQjtBQUNBNUgsV0FBT29ILE1BQVAsR0FBZ0IsVUFBU3ZHLEtBQVQsRUFBZ0I7QUFDNUJiLGVBQU80SCxRQUFQLEdBQWtCL0csS0FBbEI7QUFDSCxLQUZEO0FBR0FiLFdBQU93TyxjQUFQLEdBQXdCLENBQUMsRUFBRSxRQUFRLFdBQVYsRUFBdUIsU0FBUyxXQUFoQyxFQUFELEVBQWdELEVBQUUsUUFBUSxLQUFWLEVBQWlCLFNBQVMsS0FBMUIsRUFBaEQsRUFBbUYsRUFBRSxRQUFRLE9BQVYsRUFBbUIsU0FBUyxlQUE1QixFQUFuRixFQUFrSSxFQUFFLFFBQVEsU0FBVixFQUFxQixTQUFTLGNBQTlCLEVBQWxJLENBQXhCOztBQUVBLGFBQVNELGtCQUFULEdBQThCO0FBQzFCLFlBQUloSyxTQUFTLEVBQWI7QUFDQSxhQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsSUFBSSxFQUFwQixFQUF3QkEsS0FBSyxDQUE3QixFQUFnQztBQUM1QixnQkFBSTFDLE9BQU8sSUFBSVIsSUFBSixFQUFYO0FBQ0EsZ0JBQUltTixZQUFZN0UsS0FBS0MsS0FBTCxDQUFXRCxLQUFLOEUsTUFBTCxLQUFnQixDQUEzQixDQUFoQjtBQUNBLGdCQUFJQyxXQUFXL0UsS0FBS0MsS0FBTCxDQUFXRCxLQUFLOEUsTUFBTCxLQUFnQixFQUEzQixJQUFpQyxFQUFoRDtBQUNBLGdCQUFJRSxTQUFTaEYsS0FBS0MsS0FBTCxDQUFXRCxLQUFLOEUsTUFBTCxLQUFnQixDQUEzQixJQUFnQ0MsUUFBN0M7QUFDQSxnQkFBSTVLLFNBQUo7QUFDQSxnQkFBSUMsT0FBSjtBQUNBLGdCQUFJeUssY0FBYyxDQUFsQixFQUFxQjtBQUNqQjFLLDRCQUFZLElBQUl6QyxJQUFKLENBQVNBLEtBQUt5SCxHQUFMLENBQVNqSCxLQUFLK00sY0FBTCxFQUFULEVBQWdDL00sS0FBS2dOLFdBQUwsRUFBaEMsRUFBb0RoTixLQUFLaU4sVUFBTCxLQUFvQkosUUFBeEUsQ0FBVCxDQUFaO0FBQ0Esb0JBQUlDLFdBQVdELFFBQWYsRUFBeUI7QUFDckJDLDhCQUFVLENBQVY7QUFDSDtBQUNENUssMEJBQVUsSUFBSTFDLElBQUosQ0FBU0EsS0FBS3lILEdBQUwsQ0FBU2pILEtBQUsrTSxjQUFMLEVBQVQsRUFBZ0MvTSxLQUFLZ04sV0FBTCxFQUFoQyxFQUFvRGhOLEtBQUtpTixVQUFMLEtBQW9CSCxNQUF4RSxDQUFULENBQVY7QUFDQXJLLHVCQUFPekIsSUFBUCxDQUFZO0FBQ1JzRiwyQkFBTyxlQUFlNUQsQ0FEZDtBQUVSVCwrQkFBV0EsU0FGSDtBQUdSQyw2QkFBU0EsT0FIRDtBQUlSNkUsNEJBQVE7QUFKQSxpQkFBWjtBQU1ILGFBWkQsTUFZTztBQUNILG9CQUFJbUcsY0FBY3BGLEtBQUtDLEtBQUwsQ0FBV0QsS0FBSzhFLE1BQUwsS0FBZ0IsRUFBaEIsR0FBcUIsRUFBaEMsQ0FBbEI7QUFDQSxvQkFBSU8sWUFBWXJGLEtBQUtDLEtBQUwsQ0FBV0QsS0FBSzhFLE1BQUwsS0FBZ0IsR0FBM0IsSUFBa0NNLFdBQWxEO0FBQ0FqTCw0QkFBWSxJQUFJekMsSUFBSixDQUFTUSxLQUFLdUIsV0FBTCxFQUFULEVBQTZCdkIsS0FBSzBCLFFBQUwsRUFBN0IsRUFBOEMxQixLQUFLNEIsT0FBTCxLQUFpQmlMLFFBQS9ELEVBQXlFLENBQXpFLEVBQTRFN00sS0FBS29OLFVBQUwsS0FBb0JGLFdBQWhHLENBQVo7QUFDQWhMLDBCQUFVLElBQUkxQyxJQUFKLENBQVNRLEtBQUt1QixXQUFMLEVBQVQsRUFBNkJ2QixLQUFLMEIsUUFBTCxFQUE3QixFQUE4QzFCLEtBQUs0QixPQUFMLEtBQWlCa0wsTUFBL0QsRUFBdUUsQ0FBdkUsRUFBMEU5TSxLQUFLb04sVUFBTCxLQUFvQkQsU0FBOUYsQ0FBVjtBQUNBMUssdUJBQU96QixJQUFQLENBQVk7QUFDUnNGLDJCQUFPNUQsSUFBSSxVQURIO0FBRVJULCtCQUFXQSxTQUZIO0FBR1JDLDZCQUFTQSxPQUhEO0FBSVI2RSw0QkFBUTtBQUpBLGlCQUFaO0FBTUg7QUFDSjtBQUNELGVBQU90RSxNQUFQO0FBQ0g7QUFDSixDQXJEdUMsQ0FBeEM7QUNBQW5HLFdBQVdXLFVBQVgsQ0FBc0IsZUFBdEIsRUFBdUMsQ0FBQyxRQUFELEVBQVUsUUFBVixFQUFtQixhQUFuQixFQUFrQyxVQUFVaUIsTUFBVixFQUFpQm1QLE1BQWpCLEVBQXdCZixXQUF4QixFQUFxQztBQUM3R3BPLFFBQU9vUCxVQUFQLEdBQW9CLEtBQXBCO0FBQ0FwUCxRQUFPcVAsU0FBUCxHQUFtQixJQUFuQjtBQUNBclAsUUFBT3NQLFNBQVAsR0FBbUIsS0FBbkI7QUFDQXRQLFFBQU91UCxPQUFQLEdBQWlCLEtBQWpCO0FBQ0F2UCxRQUFPd1AsT0FBUCxHQUFpQixLQUFqQjtBQUNBeFAsUUFBT3lQLFdBQVAsR0FBcUIsbUJBQXJCO0FBQ0F6UCxRQUFPMFAsWUFBUCxHQUFzQixpQkFBdEI7QUFDQSxLQUFJQyxhQUFhLEVBQWpCO0FBQ0EzUCxRQUFPNFAscUJBQVAsR0FBK0IsVUFBUzFPLEtBQVQsRUFBZTtBQUM3QyxNQUFHQSxTQUFTLE9BQVosRUFBb0I7QUFDbkIsT0FBR2xCLE9BQU82UCxLQUFQLEtBQWlCN1AsT0FBTzhQLFNBQTNCLEVBQXFDO0FBQ3BDOVAsV0FBT3NQLFNBQVAsR0FBbUIsSUFBbkI7QUFDQXRQLFdBQU8rUCxhQUFQLEdBQXVCLHFCQUF2QjtBQUNBLElBSEQsTUFHSztBQUNKL1AsV0FBT3NQLFNBQVAsR0FBbUIsS0FBbkI7QUFDQXRQLFdBQU8rUCxhQUFQLEdBQXVCLEVBQXZCO0FBQ0E7QUFDRCxHQVJELE1BUU0sSUFBRzdPLFNBQVEsS0FBWCxFQUFpQjtBQUN0QixPQUFHbEIsT0FBT2dRLElBQVAsS0FBZ0JoUSxPQUFPaVEsUUFBMUIsRUFBbUM7QUFDbENqUSxXQUFPa1EsUUFBUCxHQUFrQixJQUFsQjtBQUNBLElBRkQsTUFFSztBQUNKbFEsV0FBT2tRLFFBQVAsR0FBa0IsS0FBbEI7QUFDQTtBQUNEO0FBQ0QsRUFoQkQ7QUFpQkFsUSxRQUFPbVEsZUFBUCxHQUF5QixVQUFTcE8sT0FBVCxFQUFpQjtBQUN6QyxNQUFHQSxPQUFILEVBQVc7QUFDVi9CLFVBQU93UCxPQUFQLEdBQWlCLEtBQWpCO0FBQ0FHLGNBQVdTLElBQVgsR0FBa0JwUSxPQUFPcVEsS0FBUCxHQUFjLEdBQWQsR0FBbUJyUSxPQUFPc1EsS0FBNUM7QUFDQSxPQUFHdFEsT0FBTzZQLEtBQVAsSUFBZ0I3UCxPQUFPOFAsU0FBMUIsRUFBb0M7QUFDbkNILGVBQVdFLEtBQVgsR0FBbUI3UCxPQUFPNlAsS0FBMUI7QUFDQSxJQUZELE1BRUs7QUFDSjdQLFdBQU9zUCxTQUFQLEdBQW1CLElBQW5CO0FBQ0E7QUFDRCxPQUFHdFAsT0FBT2dRLElBQVAsSUFBZWhRLE9BQU9pUSxRQUF6QixFQUFrQztBQUNqQ04sZUFBV1ksUUFBWCxHQUFzQnZRLE9BQU9nUSxJQUE3QjtBQUNBLElBRkQsTUFFSztBQUNKaFEsV0FBT2tRLFFBQVAsR0FBa0IsSUFBbEI7QUFDQTtBQUNELE9BQUcsQ0FBQ2xRLE9BQU9rUSxRQUFSLElBQW9CLENBQUNsUSxPQUFPc1AsU0FBL0IsRUFBeUM7QUFDeEN0UCxXQUFPb1AsVUFBUCxHQUFvQixJQUFwQjtBQUNBcFAsV0FBT3FQLFNBQVAsR0FBbUIsS0FBbkI7QUFDQTtBQUNELEdBakJELE1BaUJPLElBQUcsQ0FBQ3ROLE9BQUosRUFBWTtBQUNsQi9CLFVBQU93UCxPQUFQLEdBQWlCLElBQWpCO0FBQ0E7QUFDRCxFQXJCRDs7QUF1QkF4UCxRQUFPd1EsYUFBUCxHQUF1QixVQUFTek8sT0FBVCxFQUFpQjtBQUN2QyxNQUFHQSxPQUFILEVBQVc7QUFDVi9CLFVBQU93UCxPQUFQLEdBQWlCLEtBQWpCO0FBQ0FHLGNBQVdjLE9BQVgsR0FBcUJ6USxPQUFPMFEsUUFBUCxHQUFrQixHQUFsQixHQUF3QjFRLE9BQU8yUSxRQUFwRDtBQUNBaEIsY0FBV2lCLEdBQVgsR0FBaUI1USxPQUFPNlEsT0FBeEI7QUFDQWxCLGNBQVdtQixJQUFYLEdBQWtCOVEsT0FBTzhRLElBQXpCO0FBQ0FuQixjQUFXL1EsS0FBWCxHQUFtQm9CLE9BQU9wQixLQUExQjtBQUNBK1EsY0FBV29CLE1BQVgsR0FBb0IvUSxPQUFPZ1IsUUFBM0I7QUFDQXJCLGNBQVdzQixXQUFYLEdBQXlCalIsT0FBT2tSLFVBQWhDO0FBQ0F2QixjQUFXd0IsR0FBWCxHQUFpQm5SLE9BQU9vUixTQUF4QjtBQUNBekIsY0FBVzBCLE1BQVgsR0FBb0JyUixPQUFPc1IsU0FBM0I7QUFDQWxELGVBQVlMLFlBQVosQ0FBeUI0QixVQUF6QjtBQUNBUixVQUFPb0MsRUFBUCxDQUFVLHlCQUFWLEVBWFUsQ0FXMkI7QUFDckM7QUFDQTtBQUNBO0FBQ0EsR0FmRCxNQWVPLElBQUcsQ0FBQ3hQLE9BQUosRUFBWTtBQUNsQi9CLFVBQU93UCxPQUFQLEdBQWlCLElBQWpCO0FBQ0E7QUFDRCxFQW5CRDtBQW9CQSxDQXJFc0MsQ0FBdkM7QUNBQXBSLFdBQVdXLFVBQVgsQ0FBc0Isa0JBQXRCLEVBQTBDLENBQUMsUUFBRCxFQUFXLFVBQVVpQixNQUFWLEVBQWtCLENBRXRFLENBRnlDLENBQTFDO0FDQUEzQixRQUFRQyxNQUFSLENBQWUsa0JBQWYsRUFBbUMsRUFBbkMsRUFDS3lILFNBREwsQ0FDZSxPQURmLEVBQ3dCLFlBQVc7QUFDM0IsV0FBTztBQUNIQyxrQkFBVSxJQURQO0FBRUhFLGVBQU87QUFDSHNMLGtCQUFNLEdBREg7QUFFSEMsb0JBQVE7QUFGTCxTQUZKO0FBTUhDLGtCQUFVLDJNQU5QOztBQVFIcEwsY0FBTSxVQUFTdEcsTUFBVCxFQUFpQjJSLFFBQWpCLEVBQTJCMVIsTUFBM0IsRUFBbUMyUixLQUFuQyxFQUEwQztBQUM1QztBQUNIO0FBVkUsS0FBUDtBQVlILENBZEw7O0FBZ0JBdlQsUUFBUUMsTUFBUixDQUFlLG9CQUFmLEVBQXFDLEVBQXJDLEVBQ015SCxTQUROLENBQ2dCLDBCQURoQixFQUM0QyxZQUFXO0FBQy9DLFdBQU8sVUFBU0csS0FBVCxFQUFnQkssT0FBaEIsRUFBeUJDLEtBQXpCLEVBQWdDOztBQUVuQyxZQUFJLENBQUNOLE1BQU1uRixPQUFOLENBQWM4USxXQUFuQixFQUFnQzs7QUFFNUIsZ0JBQUkzTCxNQUFNNEwsVUFBTixJQUFvQjVMLE1BQU00TCxVQUFOLENBQWlCalAsTUFBakIsSUFBeUIsQ0FBN0MsSUFBa0RxRCxNQUFNNkwsS0FBeEQsSUFBaUUsQ0FBQzdMLE1BQU1uRixPQUFOLENBQWNpUixXQUFwRixFQUFpRztBQUM3RjlMLHNCQUFNbkYsT0FBTixDQUFjaVIsV0FBZCxHQUE0QixDQUE1QjtBQUNBOUwsc0JBQU0rTCxRQUFOLENBQWU7QUFDWCw0QkFBUTtBQUNKQyw0QkFBSWhNLE1BQU00TCxVQUFOLENBQWlCLENBQWpCLENBREE7QUFFSjFCLDhCQUFNbEssTUFBTTJILElBQU4sQ0FBVzNILE1BQU1pTSxNQUFOLENBQWFuRixPQUFiLENBQXFCOUcsTUFBTTRMLFVBQU4sQ0FBaUIsQ0FBakIsQ0FBckIsQ0FBWCxFQUFzRDFCLElBRnhEO0FBR0pnQyxxQ0FBYWxNLE1BQU00TCxVQUhmO0FBSUpPLGlDQUFTLElBSkw7QUFLSkMsK0JBQU87QUFMSDtBQURHLGlCQUFmO0FBU0g7QUFDSjtBQUNEO0FBQ0gsS0FsQkQ7QUFtQkgsQ0FyQkwsRUFxQk92TSxTQXJCUCxDQXFCaUIsU0FyQmpCLEVBcUI0QixZQUFXO0FBQy9CLFdBQU87QUFDSEMsa0JBQVUsR0FEUDtBQUVIdU0sb0JBQVksSUFGVDtBQUdIdE0saUJBQVMsSUFITjtBQUlIQyxlQUFPO0FBQ0gsb0JBQVEsR0FETDtBQUVILDBCQUFjLEdBRlg7QUFHSCwwQkFBYyxHQUhYO0FBSUgseUJBQWEsR0FKVjtBQUtILHdCQUFZLGtCQUxUO0FBTUgsMkJBQWUsR0FOWjtBQU9ILDBCQUFjLEdBUFg7QUFRSCxzQkFBVTtBQVJQLFNBSko7O0FBZUg7QUFDQXdMLGtCQUFVLHlXQWhCUDs7QUFrQkhwTCxjQUFNLFVBQVNKLEtBQVQsRUFBZ0JzTSxRQUFoQixFQUEwQkMsS0FBMUIsRUFBaUNDLFdBQWpDLEVBQThDO0FBQ2hEeE0sa0JBQU04TCxXQUFOLEdBQW9CLENBQXBCO0FBQ0E5TCxrQkFBTXlNLE1BQU4sR0FBZSxFQUFmO0FBQ0F6TSxrQkFBTWlNLE1BQU4sR0FBZSxFQUFmO0FBQ0EsZ0JBQUlqTSxNQUFNMkgsSUFBVixFQUFnQjtBQUNaM0gsc0JBQU0ySCxJQUFOLENBQVdsTixPQUFYLENBQW1CLFVBQVNpUyxDQUFULEVBQVk7QUFDM0IxTSwwQkFBTWlNLE1BQU4sQ0FBYXJQLElBQWIsQ0FBa0I4UCxFQUFFVixFQUFwQjtBQUNILGlCQUZEO0FBR0g7QUFDRGhNLGtCQUFNUyxHQUFOLENBQVUsUUFBVixFQUFvQixVQUFTeEIsS0FBVCxFQUFnQjBOLFFBQWhCLEVBQTBCQyxJQUExQixFQUFnQztBQUNoRCxvQkFBSUMsU0FBSjtBQUNBLG9CQUFJRCxJQUFKLEVBQVU7QUFDTkMsZ0NBQVk3TSxNQUFNMkgsSUFBTixDQUFXM0gsTUFBTWlNLE1BQU4sQ0FBYW5GLE9BQWIsQ0FBcUI4RixJQUFyQixDQUFYLENBQVo7QUFDSCxpQkFGRCxNQUVPO0FBQ0hDLGdDQUFZN00sTUFBTTJILElBQU4sQ0FBVzNILE1BQU04TSxNQUFqQixDQUFaO0FBQ0g7O0FBRUQ5TSxzQkFBTStNLFNBQU4sQ0FBZ0I7QUFDWiw0QkFBUUY7QUFESSxpQkFBaEI7QUFHSCxhQVhEO0FBWUE3TSxrQkFBTVMsR0FBTixDQUFVLFVBQVYsRUFBcUIsVUFBU3hCLEtBQVQsRUFBZStNLEVBQWYsRUFBa0IsQ0FFdEMsQ0FGRDs7QUFJQWhNLGtCQUFNZ04sUUFBTixHQUFpQixVQUFTQyxRQUFULEVBQW1CO0FBQ2hDLG9CQUFJak4sTUFBTThNLE1BQU4sR0FBZVIsU0FBU1ksSUFBVCxDQUFjLElBQWQsRUFBb0J2USxNQUF2QyxFQUErQztBQUMzQywyQkFBT3FELE1BQU04TSxNQUFOLEtBQWlCRyxRQUF4QjtBQUNILGlCQUZELE1BRU87QUFDSGpOLDBCQUFNOE0sTUFBTixHQUFlLENBQWY7QUFDQTtBQUNIO0FBQ0osYUFQRDs7QUFTQTlNLGtCQUFNK00sU0FBTixHQUFrQixVQUFTSSxLQUFULEVBQWdCO0FBQzlCLG9CQUFJM1EsTUFBTSxFQUFWO0FBQ0F3RCxzQkFBTW9OLElBQU4sR0FBYWIsS0FBYjs7QUFFQSxvQkFBSVksTUFBTUUsSUFBTixDQUFXQyxhQUFmLEVBQThCO0FBQzFCO0FBQ0E7QUFDSDs7QUFFRHROLHNCQUFNdU4sY0FBTixDQUFxQkosS0FBckI7O0FBRUFuTixzQkFBTStMLFFBQU4sQ0FBZTtBQUNYLDRCQUFRO0FBQ0pDLDRCQUFJbUIsTUFBTUUsSUFBTixDQUFXckIsRUFEWDtBQUVKOUIsOEJBQU1pRCxNQUFNRSxJQUFOLENBQVduRCxJQUZiO0FBR0pnQyxxQ0FBYWxNLE1BQU00TCxVQUhmO0FBSUpPLGlDQUFTZ0IsTUFBTUUsSUFBTixDQUFXbEI7QUFKaEI7QUFERyxpQkFBZjtBQVFILGFBbkJEOztBQXNCQW5NLGtCQUFNdU4sY0FBTixHQUF1QixVQUFTQyxDQUFULEVBQVk7QUFBRTtBQUNqQyxvQkFBSXhCLEtBQUt3QixFQUFFSCxJQUFGLENBQU9yQixFQUFoQjtBQUNBaE0sc0JBQU00TCxVQUFOLEdBQW1CNUwsTUFBTTRMLFVBQU4sSUFBb0IsRUFBdkM7QUFDQSxvQkFBSTVMLE1BQU1vTixJQUFOLENBQVd6QixXQUFmLEVBQTRCO0FBQ3hCLHdCQUFJaFIsUUFBUXFGLE1BQU00TCxVQUFOLENBQWlCOUUsT0FBakIsQ0FBeUJrRixFQUF6QixDQUFaO0FBQ0Esd0JBQUlyUixTQUFTLENBQUMsQ0FBZCxFQUFpQjtBQUNicUYsOEJBQU00TCxVQUFOLENBQWlCaFAsSUFBakIsQ0FBc0JvUCxFQUF0QjtBQUNBaE0sOEJBQU15TSxNQUFOLENBQWFULEVBQWIsSUFBbUJ3QixFQUFFSCxJQUFGLENBQU9uRCxJQUExQjtBQUNBc0QsMEJBQUVILElBQUYsQ0FBT2xCLE9BQVAsR0FBaUIsSUFBakI7QUFDSCxxQkFKRCxNQUlPO0FBQ0huTSw4QkFBTTRMLFVBQU4sQ0FBaUIvTyxNQUFqQixDQUF3QmxDLEtBQXhCLEVBQStCLENBQS9CO0FBQ0EsK0JBQU9xRixNQUFNeU0sTUFBTixDQUFhVCxFQUFiLENBQVA7QUFDQXdCLDBCQUFFSCxJQUFGLENBQU9sQixPQUFQLEdBQWlCLEtBQWpCO0FBQ0g7QUFFSixpQkFaRCxNQVlPO0FBQ0huTSwwQkFBTTRMLFVBQU4sR0FBbUIsRUFBbkI7QUFDQTVMLDBCQUFNNEwsVUFBTixDQUFpQmhQLElBQWpCLENBQXNCb1AsRUFBdEI7QUFDQTtBQUNIO0FBQ0osYUFwQkQ7QUFzQkg7QUFoR0UsS0FBUDtBQWtHSCxDQXhITDs7QUEwSEE3VCxRQUFRQyxNQUFSLENBQWUsbUJBQWYsRUFBb0MsQ0FBQyxvQkFBRCxFQUF1QixrQkFBdkIsQ0FBcEMsRUFFQ3lILFNBRkQsQ0FFVyxRQUZYLEVBRXFCLENBQUMsV0FBRCxFQUFjLFVBQVM0TixTQUFULEVBQW9CO0FBQ25EO0FBQ0EsV0FBTztBQUNIek4sZUFBTztBQUNIME4sb0JBQVEsR0FETDtBQUVIM0Isc0JBQVUsaUJBRlA7QUFHSHBFLGtCQUFNLEdBSEg7QUFJSGlFLHdCQUFZLEdBSlQ7QUFLSCtCLGlCQUFLO0FBTEYsU0FESjtBQVFIO0FBQ0E3TixrQkFBVSxHQVRQLEVBU1k7QUFDZjBMLGtCQUFVLHVCQUNOLHNCQURNLEdBRU4sdUJBRk0sR0FHTix3Q0FITSxHQUlOLDJCQUpNLEdBS04sNERBTE0sR0FNTiw0SUFOTSxHQU9OLFFBUE0sR0FRTixPQVJNLEdBU04sT0FUTSxHQVVOLFFBVk0sR0FXTixxQ0FYTSxHQVlOLGdNQVpNLEdBYU4sK0NBYk0sR0FjTixZQWRNLEdBZU4sUUFmTSxHQWdCTixRQTFCRDtBQTJCSHpMLGlCQUFTLElBM0JOO0FBNEJIc00sb0JBQVksSUE1QlQ7QUE2Qkh1QixpQkFBUyxVQUFTQyxRQUFULEVBQW1CQyxNQUFuQixFQUEyQjtBQUNoQyxnQkFBSUMsY0FBYztBQUNkQywyQkFBVztBQUNQQyxpQ0FBYTtBQUROOztBQURHLGFBQWxCO0FBTUEsbUJBQU8sU0FBU0MsT0FBVCxDQUFpQmxPLEtBQWpCLEVBQXdCbU8sSUFBeEIsRUFBOEJDLE1BQTlCLEVBQXNDdlYsVUFBdEMsRUFBa0Q7QUFDckRtSCxzQkFBTXFPLFdBQU4sR0FBb0IsQ0FBcEI7QUFDQTtBQUNBO0FBQ0FGLHFCQUFLakIsSUFBTCxDQUFVLE9BQVYsRUFBbUJvQixFQUFuQixDQUFzQixTQUF0QixFQUFpQyxVQUFTQyxHQUFULEVBQWM7QUFDM0Msd0JBQUlDLE1BQUo7QUFDQSw0QkFBUUQsSUFBSUUsS0FBWjtBQUNJLDZCQUFLLENBQUw7QUFDSSxnQ0FBSXpPLE1BQU0wTyxZQUFOLElBQXNCLEVBQTFCLEVBQThCO0FBQzFCMU8sc0NBQU0yTyxJQUFOLEdBQWEsSUFBYjtBQUNIO0FBQ0QzTyxrQ0FBTTRPLE9BQU47QUFDQTtBQUNKLDZCQUFLLENBQUw7QUFDSTVPLGtDQUFNNk8sT0FBTjtBQUNBO0FBQ0osNkJBQUssRUFBTDtBQUNJTixnQ0FBSU8sZUFBSjtBQUNBOU8sa0NBQU0rTyxVQUFOLENBQWlCLFFBQWpCLEVBQTJCLElBQTNCO0FBQ0EvTyxrQ0FBTTRPLE9BQU47QUFDQTtBQUNKLDZCQUFLLEVBQUw7QUFDSTVPLGtDQUFNMkgsSUFBTixDQUFXM0gsTUFBTXFPLFdBQWpCLEVBQThCdkIsTUFBOUIsR0FBdUMsS0FBdkM7QUFDQTlNLGtDQUFNcU8sV0FBTjtBQUNBck8sa0NBQU0ySCxJQUFOLENBQVczSCxNQUFNcU8sV0FBakIsRUFBOEJ2QixNQUE5QixHQUF1QyxJQUF2QztBQUNBOU0sa0NBQU00TyxPQUFOO0FBQ0E7QUFDSiw2QkFBSyxFQUFMO0FBQ0k1TyxrQ0FBTTJILElBQU4sQ0FBVzNILE1BQU1xTyxXQUFqQixFQUE4QnZCLE1BQTlCLEdBQXVDLEtBQXZDO0FBQ0E5TSxrQ0FBTXFPLFdBQU47QUFDQXJPLGtDQUFNMkgsSUFBTixDQUFXM0gsTUFBTXFPLFdBQWpCLEVBQThCdkIsTUFBOUIsR0FBdUMsSUFBdkM7QUFDQTlNLGtDQUFNNE8sT0FBTjtBQUNBO0FBMUJSO0FBNEJILGlCQTlCRDtBQStCQTVPLHNCQUFNZ1AsT0FBTixHQUFnQjdXLFFBQVE4VyxLQUFSLENBQWNsQixXQUFkLEVBQTJCL04sTUFBTTBOLE1BQWpDLENBQWhCO0FBQ0ExTixzQkFBTXNMLElBQU4sR0FBYSxFQUFiO0FBQ0E2QyxxQkFBS2pCLElBQUwsQ0FBVSxPQUFWLEVBQW1CRSxJQUFuQixDQUF3QnBOLE1BQU1nUCxPQUFOLENBQWNoQixTQUF0QztBQUNBOzs7OztBQUtBaE8sc0JBQU0yTixHQUFOLEdBQVk7QUFDUnVCLGlDQUFhLFlBQVc7QUFDcEI7QUFDQWxQLDhCQUFNME8sWUFBTixHQUFxQixFQUFyQixFQUNBMU8sTUFBTTRMLFVBQU4sR0FBbUIsRUFEbkI7QUFFSCxxQkFMTztBQU1SdUQsZ0NBQVksVUFBU25ELEVBQVQsRUFBYTtBQUNyQiw0QkFBR29ELE9BQU9DLFNBQVAsQ0FBaUJDLFFBQWpCLENBQTBCQyxJQUExQixDQUFnQ3ZELEVBQWhDLE1BQXlDLGdCQUE1QyxFQUE2RDtBQUNyRGhNLGtDQUFNK08sVUFBTixDQUFpQixRQUFqQixFQUEwQixJQUExQixFQUErQi9DLEVBQS9CO0FBQ1AseUJBRkQsTUFFSztBQUNMaE0sa0NBQU0rTyxVQUFOLENBQWlCLFFBQWpCLEVBQTJCLElBQTNCLEVBQWlDL0MsRUFBakM7QUFDSDtBQUNBO0FBWk8saUJBQVo7QUFjQWhNLHNCQUFNd1AsZUFBTixHQUF3QixVQUFTQyxNQUFULEVBQWlCO0FBQ3JDLHdCQUFJQyxTQUFTO0FBQ1QxRCw0QkFBSXlELE9BQU96RCxFQURGO0FBRVQ5Qiw4QkFBTXVGLE9BQU92RjtBQUZKLHFCQUFiO0FBSUFsSywwQkFBTTJQLFNBQU4sQ0FBZ0JELE1BQWhCLEVBQXdCRCxPQUFPdEQsT0FBL0I7QUFDSCxpQkFORDs7QUFRQW5NLHNCQUFNMlAsU0FBTixHQUFrQixVQUFTQyxNQUFULEVBQWlCekQsT0FBakIsRUFBMEI7QUFDeEMsd0JBQUluTSxNQUFNME4sTUFBTixDQUFhbUMsV0FBakIsRUFBOEI7QUFDMUIsNEJBQUkxRCxPQUFKLEVBQWE7QUFDVG5NLGtDQUFNc0wsSUFBTixDQUFXMU8sSUFBWCxDQUFnQmdULE1BQWhCO0FBQ0gseUJBRkQsTUFFTztBQUNILGdDQUFJalYsUUFBUXFGLE1BQU1zTCxJQUFOLENBQVd4RSxPQUFYLENBQW1COEksTUFBbkIsQ0FBWjtBQUNBNVAsa0NBQU1zTCxJQUFOLENBQVd6TyxNQUFYLENBQWtCbEMsS0FBbEIsRUFBeUIsQ0FBekI7QUFDSDtBQUNKLHFCQVBELE1BT087QUFDSHFGLDhCQUFNME8sWUFBTixHQUFxQmtCLE9BQU8xRixJQUE1QjtBQUNBbEssOEJBQU0yTyxJQUFOLEdBQWEsS0FBYjtBQUNBM08sOEJBQU0rTCxRQUFOLENBQWU7QUFDZixvQ0FBUTZEO0FBRE8seUJBQWY7QUFHSDs7QUFFRCx3QkFBSTNRLEtBQUosRUFBVztBQUNQQSw4QkFBTTZQLGVBQU47QUFDSDtBQUNKLGlCQW5CRDtBQW9CQTs7O0FBR0E5TyxzQkFBTThQLFFBQU4sR0FBaUIsWUFBVztBQUN4Qjs7QUFFQTtBQUNJOVAsMEJBQU0rUCxZQUFOLEdBQXFCL1AsTUFBTTBPLFlBQTNCO0FBQ0ExTywwQkFBTTBPLFlBQU4sR0FBcUIsRUFBckI7QUFDQTFPLDBCQUFNMk8sSUFBTixHQUFhLElBQWI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0gsaUJBWkQ7O0FBZ0JBOzs7QUFHQTNPLHNCQUFNZ1EsYUFBTixHQUFzQixZQUFXO0FBQzdCaFEsMEJBQU1zTCxJQUFOLEdBQWEsRUFBYjtBQUNBLHdCQUFJdEwsTUFBTTBOLE1BQU4sQ0FBYW1DLFdBQWpCLEVBQThCO0FBQzFCLDZCQUFLdlIsSUFBSSxDQUFULEVBQVlBLElBQUkwQixNQUFNNEwsVUFBTixDQUFpQmpQLE1BQWpDLEVBQXlDMkIsR0FBekMsRUFBOEM7QUFDMUMsZ0NBQUkzRCxRQUFRcUYsTUFBTTJILElBQU4sQ0FBV2IsT0FBWCxDQUFtQjlHLE1BQU00TCxVQUFOLENBQWlCdE4sQ0FBakIsQ0FBbkIsQ0FBWjtBQUNBMEIsa0NBQU0ySCxJQUFOLENBQVdoTixLQUFYLEVBQWtCd1IsT0FBbEIsR0FBNEIsS0FBNUI7QUFDSDtBQUNKLHFCQUxELE1BS087QUFDSG5NLDhCQUFNME8sWUFBTixHQUFxQixFQUFyQjtBQUNIO0FBQ0osaUJBVkQ7O0FBWUExTyxzQkFBTTZPLE9BQU4sR0FBZ0IsWUFBVztBQUN2Qix3QkFBSW9CLFVBQVU7QUFDVmpFLDRCQUFJLEVBRE07QUFFVjlCLDhCQUFNbEssTUFBTTBPLFlBRkY7QUFHVnZDLGlDQUFTO0FBQ1Q7QUFKVSxxQkFBZDtBQU1Bbk0sMEJBQU13UCxlQUFOLENBQXNCUyxPQUF0QjtBQUNILGlCQVJEO0FBU0E7OztBQUdBeEMsMEJBQVVhLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLFVBQVNyUCxLQUFULEVBQWdCO0FBQ2xDLHdCQUFJLENBQUM5RyxRQUFRa0ksT0FBUixDQUFnQnBCLE1BQU11UCxNQUF0QixFQUE4QjBCLFFBQTlCLENBQXVDLFNBQXZDLENBQUwsRUFBd0Q7QUFDcERsUSw4QkFBTTJPLElBQU4sR0FBYSxLQUFiO0FBQ0EsNEJBQUczTyxNQUFNME8sWUFBTixJQUFzQixFQUF6QixFQUE0QjtBQUN4QjFPLGtDQUFNME8sWUFBTixHQUFxQjFPLE1BQU0rUCxZQUEzQjtBQUNIO0FBQ0g7QUFFRCxxQkFQRCxNQU9PLENBRU47QUFDRC9QLDBCQUFNbVEsTUFBTjtBQUNILGlCQVpEO0FBYUgsYUFoSkQ7QUFpSkg7QUFyTEUsS0FBUDtBQXVMSCxDQXpMb0IsQ0FGckI7QUMxSUFqWSxXQUFXVyxVQUFYLENBQXNCLGdCQUF0QixFQUF3QyxDQUFDLFFBQUQsRUFBVyxVQUFVaUIsTUFBVixFQUFrQjtBQUNwRSxLQUFJc1csT0FBTyxDQUFDLEVBQUMsUUFBTyxPQUFSLEVBQUQsRUFBa0IsRUFBQyxRQUFPLE9BQVIsRUFBbEIsRUFBbUMsRUFBQyxRQUFPLFNBQVIsRUFBbkMsQ0FBWDtBQUNBdFcsUUFBT2tWLE9BQVAsR0FBaUIsRUFBakI7QUFDQWxWLFFBQU9rVixPQUFQLEdBQWlCO0FBQ2hCckgsUUFBS3lJLElBRFc7QUFFaEJQLGVBQVksSUFGSTtBQUdoQlEsYUFBVztBQUhLLEVBQWpCO0FBS0N2VyxRQUFPNk4sSUFBUCxHQUFjLENBQUMsRUFBQyxRQUFPLE9BQVIsRUFBRCxFQUFrQixFQUFDLFFBQU8sT0FBUixFQUFsQixFQUFtQyxFQUFDLFFBQU8sU0FBUixFQUFuQyxDQUFkO0FBQ003TixRQUFPOFIsVUFBUCxHQUFvQixFQUFwQjtBQUNBOVIsUUFBT3dXLFdBQVAsR0FBcUIsVUFBU0MsSUFBVCxFQUFlO0FBQ2hDO0FBQ0Z4SSxVQUFRQyxHQUFSLENBQVl1SSxJQUFaO0FBQ0QsRUFIRDtBQUlBelcsUUFBTzZULEdBQVAsR0FBYSxFQUFiO0FBQ1AsQ0FmdUMsQ0FBeEM7QUNBQXpWLFdBQVdXLFVBQVgsQ0FBc0IsWUFBdEIsRUFBb0MsQ0FBQyxRQUFELEVBQVUsYUFBVixFQUF5QixVQUFVaUIsTUFBVixFQUFpQm9PLFdBQWpCLEVBQThCO0FBQzFGQSxhQUFZWCxpQkFBWixHQUFnQ0UsSUFBaEMsQ0FBcUMsVUFBU0UsSUFBVCxFQUFjO0FBQ2xESSxVQUFRQyxHQUFSLENBQVlMLElBQVo7QUFDQTdOLFNBQU8wVyxVQUFQLEdBQW9CN0ksSUFBcEI7QUFDQSxFQUhEO0FBSUEsQ0FMbUMsQ0FBcEMiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBzcGVjaWFsaXN0ID0gYW5ndWxhci5tb2R1bGUoJ3NwZWNpYWxpc3QnLCBbJ3VpLnJvdXRlciddKVxuLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywnJGxvY2F0aW9uUHJvdmlkZXInLCckdXJsUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsJGxvY2F0aW9uUHJvdmlkZXIsJHVybFJvdXRlclByb3ZpZGVyKSB7XG5cdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblx0JHN0YXRlUHJvdmlkZXJcblx0LnN0YXRlKCdob21lJywge1xuXHRcdHVybDonLycsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvbWFpbi5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnbWFpbkNvbnRyb2xsZXInXG5cdH0pXG5cdC5zdGF0ZSgnc2VhcmNoJywge1xuXHRcdHVybDonL3NlYXJjaCcsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvc2VhcmNoLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdTZWFyY2hDdHJsJ1xuXHR9KVxuXHQuc3RhdGUoJ2RvY3RvclBvcnRhbCcsIHtcblx0XHR1cmw6Jy9kb2N0b3JQb3J0YWwnLFxuXHRcdHRlbXBsYXRlVXJsOiAnLi9idWlsZC9odG1sL2RvY3RvclBvcnRhbC5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnZG9jdG9yUG9ydGFsQ3RybCdcblx0fSlcblx0LnN0YXRlKCdxdWVzJywge1xuXHRcdHVybDonL3F1ZXMnLFxuXHRcdHRlbXBsYXRlVXJsOiAnLi9idWlsZC9odG1sL3F1ZXNhbnMuaHRtbCcsXG5cdFx0Ly9jb250cm9sbGVyOiAnUXVlc0N0cmwnXG5cdH0pXG5cdC5zdGF0ZSgnZG9jU2lnbnVwJywge1xuXHRcdHVybDonL2RvY1NpZ251cCcsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvZG9jU2lnbnVwLmh0bWwnLFxuXHRcdGNvbnRyb2xsZXI6ICdkb2NTaWdudXBDdHJsJ1xuXHR9KVxuXHQuc3RhdGUoJ2RvY3RvclByb2ZpbGUnLCB7XG5cdFx0dXJsOicvZG9jdG9yUHJvZmlsZScsXG5cdFx0dGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvZG9jUHJvZmlsZS5odG1sJyxcblx0XHRjb250cm9sbGVyOiAnZG9jUHJvZmlsZUN0cmwnLFxuXHRcdGFic3RyYWN0OiB0cnVlXG5cdH0pXG5cdC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5kYXNoYm9hcmQnLCB7XG4gICAgICAgIHVybDogJycsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9idWlsZC9odG1sL2RvY3Byb2ZpbGVEYXNoYm9hcmQuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5mYXEnLCB7XG4gICAgICAgIHVybDogJy9mYXEnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJy4vYnVpbGQvaHRtbC9kb2NGYXEuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5wbGFucycsIHtcbiAgICAgICAgdXJsOiAnL3BsYW5zJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvZG9jUGxhbnMuaHRtbCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnZG9jdG9yUHJvZmlsZS5wcm9maWxlJywge1xuICAgICAgICB1cmw6ICcvcHJvZmlsZScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi9idWlsZC9odG1sL2RvY1VzZXJQcm9maWxlLmh0bWwnXG4gICAgfSlcblx0JGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xufV0pOyIsIi8vYW5ndWxhci5tb2R1bGUoXCJ1aS5yQ2FsZW5kYXIudHBsc1wiLCBbXCIuLi90ZW1wbGF0ZS9yY2FsZW5kYXIvY2FsZW5kZXIuaHRtbFwiLFwiLi4vdGVtcGxhdGUvcmNhbGVuZGFyL2RheS5odG1sXCIsXCIuLi90ZW1wbGF0ZS9yY2FsZW5kYXIvbW9udGguaHRtbFwiLFwiLi4vdGVtcGxhdGUvcmNhbGVuZGFyL3dlZWsuaHRtbFwiXSk7XG4vL2FuZ3VsYXIubW9kdWxlKCd1aS5yQ2FsZW5kYXInLCBbXSlcbiAgICBzcGVjaWFsaXN0LmNvbnN0YW50KCdjYWxlbmRhckNvbmZpZycsIHtcbiAgICAgICAgZm9ybWF0RGF5OiAnZGQnLFxuICAgICAgICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxuICAgICAgICBmb3JtYXREYXlUaXRsZTogJ01NTU0gZGQsIHl5eXknLFxuICAgICAgICBmb3JtYXRXZWVrVGl0bGU6ICdNTU1NIHl5eXksIFdlZWsgdycsXG4gICAgICAgIGZvcm1hdE1vbnRoVGl0bGU6ICdNTU1NIHl5eXknLFxuICAgICAgICBmb3JtYXRXZWVrVmlld0RheUhlYWRlcjogJ0VFRSBkJyxcbiAgICAgICAgZm9ybWF0SG91ckNvbHVtbjogJ2hhJyxcbiAgICAgICAgY2FsZW5kYXJNb2RlOiAnbW9udGgnLFxuICAgICAgICBzaG93V2Vla3M6IGZhbHNlLFxuICAgICAgICBzaG93RXZlbnREZXRhaWw6IHRydWUsXG4gICAgICAgIHN0YXJ0aW5nRGF5OiAwLFxuICAgICAgICBldmVudFNvdXJjZTogbnVsbCxcbiAgICAgICAgcXVlcnlNb2RlOiAnbG9jYWwnXG4gICAgfSlcbiAgICAuY29udHJvbGxlcigndWkuckNhbGVuZGFyLkNhbGVuZGFyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGludGVycG9sYXRlJywgJyRsb2cnLCAnZGF0ZUZpbHRlcicsICdjYWxlbmRhckNvbmZpZycsIGZ1bmN0aW9uICgkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkaW50ZXJwb2xhdGUsICRsb2csIGRhdGVGaWx0ZXIsIGNhbGVuZGFyQ29uZmlnKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgbmdNb2RlbEN0cmwgPSB7JHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wfTsgLy8gbnVsbE1vZGVsQ3RybDtcblxuICAgICAgICAvLyBDb25maWd1cmF0aW9uIGF0dHJpYnV0ZXNcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKFsnZm9ybWF0RGF5JywgJ2Zvcm1hdERheUhlYWRlcicsICdmb3JtYXREYXlUaXRsZScsICdmb3JtYXRXZWVrVGl0bGUnLCAnZm9ybWF0TW9udGhUaXRsZScsICdmb3JtYXRXZWVrVmlld0RheUhlYWRlcicsICdmb3JtYXRIb3VyQ29sdW1uJyxcbiAgICAgICAgICAgICdzaG93V2Vla3MnLCAnc2hvd0V2ZW50RGV0YWlsJywgJ3N0YXJ0aW5nRGF5JywgJ2V2ZW50U291cmNlJywgJ3F1ZXJ5TW9kZSddLCBmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgICAgICAgICAgc2VsZltrZXldID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzW2tleV0pID8gKGluZGV4IDwgNyA/ICRpbnRlcnBvbGF0ZSgkYXR0cnNba2V5XSkoJHNjb3BlLiRwYXJlbnQpIDogJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzW2tleV0pKSA6IGNhbGVuZGFyQ29uZmlnW2tleV07XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkYXR0cnMuZXZlbnRTb3VyY2UsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc2VsZi5vbkV2ZW50U291cmNlQ2hhbmdlZCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5jYWxlbmRhck1vZGUgPSAkc2NvcGUuY2FsZW5kYXJNb2RlIHx8IGNhbGVuZGFyQ29uZmlnLmNhbGVuZGFyTW9kZTtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5pbml0RGF0ZSkpIHtcbiAgICAgICAgICAgIHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSA9ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLmN1cnJlbnRDYWxlbmRhckRhdGUpIHtcbiAgICAgICAgICAgIHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBpZiAoJGF0dHJzLm5nTW9kZWwgJiYgISRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5uZ01vZGVsKSkge1xuICAgICAgICAgICAgICAgICRwYXJzZSgkYXR0cnMubmdNb2RlbCkuYXNzaWduKCRzY29wZS4kcGFyZW50LCBzZWxmLmN1cnJlbnRDYWxlbmRhckRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24gKG5nTW9kZWxDdHJsXykge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG5cbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9ICFpc05hTihkYXRlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENhbGVuZGFyRGF0ZSA9IGRhdGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5lcnJvcignXCJuZy1tb2RlbFwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdkYXRlJywgaXNWYWxpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hWaWV3KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5yZWZyZXNoVmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlID0gdGhpcy5fZ2V0UmFuZ2UodGhpcy5jdXJyZW50Q2FsZW5kYXJEYXRlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWZyZXNoVmlldygpO1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VDaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU3BsaXQgYXJyYXkgaW50byBzbWFsbGVyIGFycmF5c1xuICAgICAgICBzZWxmLnNwbGl0ID0gZnVuY3Rpb24gKGFyciwgc2l6ZSkge1xuICAgICAgICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgICAgICAgd2hpbGUgKGFyci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJyYXlzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYub25FdmVudFNvdXJjZUNoYW5nZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNlbGYuZXZlbnRTb3VyY2UgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChzZWxmLl9vbkRhdGFMb2FkZWQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9vbkRhdGFMb2FkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUubW92ZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBzdGVwID0gc2VsZi5tb2RlLnN0ZXAsXG4gICAgICAgICAgICAgICAgY3VycmVudENhbGVuZGFyRGF0ZSA9IHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSxcbiAgICAgICAgICAgICAgICB5ZWFyID0gY3VycmVudENhbGVuZGFyRGF0ZS5nZXRGdWxsWWVhcigpICsgZGlyZWN0aW9uICogKHN0ZXAueWVhcnMgfHwgMCksXG4gICAgICAgICAgICAgICAgbW9udGggPSBjdXJyZW50Q2FsZW5kYXJEYXRlLmdldE1vbnRoKCkgKyBkaXJlY3Rpb24gKiAoc3RlcC5tb250aHMgfHwgMCksXG4gICAgICAgICAgICAgICAgZGF0ZSA9IGN1cnJlbnRDYWxlbmRhckRhdGUuZ2V0RGF0ZSgpICsgZGlyZWN0aW9uICogKHN0ZXAuZGF5cyB8fCAwKSxcbiAgICAgICAgICAgICAgICBmaXJzdERheUluTmV4dE1vbnRoO1xuXG4gICAgICAgICAgICBjdXJyZW50Q2FsZW5kYXJEYXRlLnNldEZ1bGxZZWFyKHllYXIsIG1vbnRoLCBkYXRlKTtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY2FsZW5kYXJNb2RlID09PSAnbW9udGgnKSB7XG4gICAgICAgICAgICAgICAgZmlyc3REYXlJbk5leHRNb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoICsgMSwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0RGF5SW5OZXh0TW9udGguZ2V0VGltZSgpIDw9IGN1cnJlbnRDYWxlbmRhckRhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5SW5OZXh0TW9udGggLSAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGYuY3VycmVudENhbGVuZGFyRGF0ZSk7XG4gICAgICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5tb3ZlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgJHNjb3BlLm1vdmUoZGlyZWN0aW9uKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLnJhbmdlQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLnF1ZXJ5TW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLmV2ZW50U291cmNlICYmIHNlbGYuX29uRGF0YUxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9vbkRhdGFMb2FkZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYucXVlcnlNb2RlID09PSAncmVtb3RlJykge1xuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmFuZ2VDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yYW5nZUNoYW5nZWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiB0aGlzLnJhbmdlLnN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IHRoaXMucmFuZ2UuZW5kVGltZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gb3ZlcmxhcChldmVudDEsIGV2ZW50Mikge1xuICAgICAgICAgICAgcmV0dXJuICEoZXZlbnQxLmVuZEluZGV4IDw9IGV2ZW50Mi5zdGFydEluZGV4IHx8IGV2ZW50Mi5lbmRJbmRleCA8PSBldmVudDEuc3RhcnRJbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVQb3NpdGlvbihldmVudHMpIHtcbiAgICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgbGVuID0gZXZlbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtYXhDb2x1bW4gPSAwLFxuICAgICAgICAgICAgICAgIGNvbCxcbiAgICAgICAgICAgICAgICBpc0ZvcmJpZGRlbiA9IG5ldyBBcnJheShsZW4pO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbCA9IDA7IGNvbCA8IG1heENvbHVtbjsgY29sICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNGb3JiaWRkZW5bY29sXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgaTsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvdmVybGFwKGV2ZW50c1tpXSwgZXZlbnRzW2pdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNGb3JiaWRkZW5bZXZlbnRzW2pdLnBvc2l0aW9uXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb2wgPSAwOyBjb2wgPCBtYXhDb2x1bW47IGNvbCArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNGb3JiaWRkZW5bY29sXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbCA8IG1heENvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICBldmVudHNbaV0ucG9zaXRpb24gPSBjb2w7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzW2ldLnBvc2l0aW9uID0gbWF4Q29sdW1uKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlV2lkdGgob3JkZXJlZEV2ZW50cykge1xuICAgICAgICAgICAgdmFyIGNlbGxzID0gbmV3IEFycmF5KDI0KSxcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgIGosXG4gICAgICAgICAgICAgICAgbGVuLFxuICAgICAgICAgICAgICAgIGV2ZW50Q291bnRJbkNlbGwsXG4gICAgICAgICAgICAgICAgY3VycmVudEV2ZW50SW5DZWxsO1xuXG4gICAgICAgICAgICAvL3NvcnQgYnkgcG9zaXRpb24gaW4gZGVzY2VuZGluZyBvcmRlciwgdGhlIHJpZ2h0IG1vc3QgY29sdW1ucyBzaG91bGQgYmUgY2FsY3VsYXRlZCBmaXJzdFxuICAgICAgICAgICAgb3JkZXJlZEV2ZW50cy5zb3J0KGZ1bmN0aW9uIChldmVudEEsIGV2ZW50Qikge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudEIucG9zaXRpb24gLSBldmVudEEucG9zaXRpb247XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgY2VsbHNbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBldmVudHM6IFtdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxlbiA9IG9yZGVyZWRFdmVudHMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBvcmRlcmVkRXZlbnRzW2ldO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZXZlbnQuc3RhcnRJbmRleDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPCBldmVudC5lbmRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjZWxsc1tpbmRleF0uZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gb3JkZXJlZEV2ZW50c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50Lm92ZXJsYXBOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG92ZXJsYXBOdW1iZXIgPSBldmVudC5wb3NpdGlvbiArIDE7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lm92ZXJsYXBOdW1iZXIgPSBvdmVybGFwTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRRdWV1ZSA9IFtldmVudF07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoZXZlbnQgPSBldmVudFF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGV2ZW50LnN0YXJ0SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPCBldmVudC5lbmRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2VsbHNbaW5kZXhdLmNhbGN1bGF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbHNbaW5kZXhdLmNhbGN1bGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbHNbaW5kZXhdLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRDb3VudEluQ2VsbCA9IGNlbGxzW2luZGV4XS5ldmVudHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGV2ZW50Q291bnRJbkNlbGw7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFdmVudEluQ2VsbCA9IGNlbGxzW2luZGV4XS5ldmVudHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50RXZlbnRJbkNlbGwub3ZlcmxhcE51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RXZlbnRJbkNlbGwub3ZlcmxhcE51bWJlciA9IG92ZXJsYXBOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50UXVldWUucHVzaChjdXJyZW50RXZlbnRJbkNlbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYucGxhY2VFdmVudHMgPSBmdW5jdGlvbiAob3JkZXJlZEV2ZW50cykge1xuICAgICAgICAgICAgY2FsY3VsYXRlUG9zaXRpb24ob3JkZXJlZEV2ZW50cyk7XG4gICAgICAgICAgICBjYWxjdWxhdGVXaWR0aChvcmRlcmVkRXZlbnRzKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLnBsYWNlQWxsRGF5RXZlbnRzID0gZnVuY3Rpb24gKG9yZGVyZWRFdmVudHMpIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZVBvc2l0aW9uKG9yZGVyZWRFdmVudHMpO1xuICAgICAgICB9O1xuICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ2NhbGVuZGFyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4vYnVpbGQvaHRtbC9jYWxlbmRlci5odG1sJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgY2FsZW5kYXJNb2RlOiAnPScsXG4gICAgICAgICAgICAgICAgcmFuZ2VDaGFuZ2VkOiAnJicsXG4gICAgICAgICAgICAgICAgZXZlbnRTZWxlY3RlZDogJyYnLFxuICAgICAgICAgICAgICAgIHRpbWVTZWxlY3RlZDogJyYnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZTogWydjYWxlbmRhcicsICc/Xm5nTW9kZWwnXSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1aS5yQ2FsZW5kYXIuQ2FsZW5kYXJDb250cm9sbGVyJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhbGVuZGFyQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5nTW9kZWxDdHJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyQ3RybC5pbml0KG5nTW9kZWxDdHJsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS4kb24oJ2NoYW5nZURhdGUnLCBmdW5jdGlvbiAoZXZlbnQsIGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjYWxlbmRhckN0cmwubW92ZShkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUuJG9uKCdldmVudFNvdXJjZUNoYW5nZWQnLCBmdW5jdGlvbiAoZXZlbnQsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGVuZGFyQ3RybC5vbkV2ZW50U291cmNlQ2hhbmdlZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSlcbiAgICAuZGlyZWN0aXZlKCdtb250aHZpZXcnLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbiAoZGF0ZUZpbHRlcikge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4vYnVpbGQvaHRtbC9tb250aC5odG1sJyxcbiAgICAgICAgICAgIHJlcXVpcmU6IFsnXmNhbGVuZGFyJywgJz9ebmdNb2RlbCddLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3RybCA9IGN0cmxzWzBdLFxuICAgICAgICAgICAgICAgICAgICBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgICAgICAgICAgIHNjb3BlLnNob3dXZWVrcyA9IGN0cmwuc2hvd1dlZWtzO1xuICAgICAgICAgICAgICAgIHNjb3BlLnNob3dFdmVudERldGFpbCA9IGN0cmwuc2hvd0V2ZW50RGV0YWlsO1xuXG4gICAgICAgICAgICAgICAgY3RybC5tb2RlID0ge1xuICAgICAgICAgICAgICAgICAgICBzdGVwOiB7bW9udGhzOiAxfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXREYXRlcyhzdGFydERhdGUsIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVzID0gbmV3IEFycmF5KG4pLCBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnREYXRlKSwgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuc2V0SG91cnMoMTIpOyAvLyBQcmV2ZW50IHJlcGVhdGVkIGRhdGVzIGJlY2F1c2Ugb2YgdGltZXpvbmUgYnVnXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXNbaSsrXSA9IG5ldyBEYXRlKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5zZXREYXRlKGN1cnJlbnQuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uIChzZWxlY3RlZERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd3MgPSBzY29wZS5yb3dzO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDYWxlbmRhckRhdGUgPSBjdHJsLmN1cnJlbnRDYWxlbmRhckRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudE1vbnRoID0gY3VycmVudENhbGVuZGFyRGF0ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRZZWFyID0gY3VycmVudENhbGVuZGFyRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkTW9udGggPSBzZWxlY3RlZERhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZFllYXIgPSBzZWxlY3RlZERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRZZWFyID09PSBzZWxlY3RlZFllYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1vbnRoICE9PSBzZWxlY3RlZE1vbnRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IGN1cnJlbnRNb250aCA8IHNlbGVjdGVkTW9udGggPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBjdXJyZW50WWVhciA8IHNlbGVjdGVkWWVhciA/IDEgOiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5jdXJyZW50Q2FsZW5kYXJEYXRlID0gc2VsZWN0ZWREYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5nTW9kZWxDdHJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShzZWxlY3RlZERhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IDY7IHJvdyArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRhdGUgPSAwOyBkYXRlIDwgNzsgZGF0ZSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBjdHJsLmNvbXBhcmUoc2VsZWN0ZWREYXRlLCByb3dzW3Jvd11bZGF0ZV0uZGF0ZSkgPT09IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzW3Jvd11bZGF0ZV0uc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkRGF0ZSA9IHJvd3Nbcm93XVtkYXRlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUudGltZVNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudGltZVNlbGVjdGVkKHtzZWxlY3RlZFRpbWU6IHNlbGVjdGVkRGF0ZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnREYXRlID0gY3RybC5yYW5nZS5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gc3RhcnREYXRlLmdldERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gKHN0YXJ0RGF0ZS5nZXRNb250aCgpICsgKGRhdGUgIT09IDEgPyAxIDogMCkpICUgMTIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gc3RhcnREYXRlLmdldEZ1bGxZZWFyKCkgKyAoZGF0ZSAhPT0gMSAmJiBtb250aCA9PT0gMCA/IDEgOiAwKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5cyA9IGdldERhdGVzKHN0YXJ0RGF0ZSwgNDIpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheXNbaV0gPSBhbmd1bGFyLmV4dGVuZChjcmVhdGVEYXRlT2JqZWN0KGRheXNbaV0sIGN0cmwuZm9ybWF0RGF5KSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeTogZGF5c1tpXS5nZXRNb250aCgpICE9PSBtb250aFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5sYWJlbHMgPSBuZXcgQXJyYXkoNyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNzsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5sYWJlbHNbal0gPSBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgY3RybC5mb3JtYXREYXlIZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlckRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQudGl0bGUgPSBkYXRlRmlsdGVyKGhlYWRlckRhdGUsIGN0cmwuZm9ybWF0TW9udGhUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KGRheXMsIDcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5zaG93V2Vla3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLndlZWtOdW1iZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGh1cnNkYXlJbmRleCA9ICg0ICsgNyAtIGN0cmwuc3RhcnRpbmdEYXkpICUgNyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1XZWVrcyA9IHNjb3BlLnJvd3MubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY3VyV2VlayA9IDA7IGN1cldlZWsgPCBudW1XZWVrczsgY3VyV2VlaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUud2Vla051bWJlcnMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0SVNPODYwMVdlZWtOdW1iZXIoc2NvcGUucm93c1tjdXJXZWVrXVt0aHVyc2RheUluZGV4XS5kYXRlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGF0ZU9iamVjdChkYXRlLCBmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZGF0ZUZpbHRlcihkYXRlLCBmb3JtYXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGN0cmwuY29tcGFyZShkYXRlLCBjdHJsLmN1cnJlbnRDYWxlbmRhckRhdGUpID09PSAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudDogY3RybC5jb21wYXJlKGRhdGUsIG5ldyBEYXRlKCkpID09PSAwXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY29tcGFyZUV2ZW50KGV2ZW50MSwgZXZlbnQyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudDEuYWxsRGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudDIuYWxsRGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGV2ZW50MS5zdGFydFRpbWUuZ2V0VGltZSgpIC0gZXZlbnQyLnN0YXJ0VGltZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3RybC5fb25EYXRhTG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRTb3VyY2UgPSBjdHJsLmV2ZW50U291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gZXZlbnRTb3VyY2UgPyBldmVudFNvdXJjZS5sZW5ndGggOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gY3RybC5yYW5nZS5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gY3RybC5yYW5nZS5lbmRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXRjU3RhcnRUaW1lID0gbmV3IERhdGUoRGF0ZS5VVEMoc3RhcnRUaW1lLmdldEZ1bGxZZWFyKCksIHN0YXJ0VGltZS5nZXRNb250aCgpLCBzdGFydFRpbWUuZ2V0RGF0ZSgpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGNFbmRUaW1lID0gbmV3IERhdGUoRGF0ZS5VVEMoZW5kVGltZS5nZXRGdWxsWWVhcigpLCBlbmRUaW1lLmdldE1vbnRoKCksIGVuZFRpbWUuZ2V0RGF0ZSgpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzID0gc2NvcGUucm93cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZURheSA9IDg2NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXBzID0gMC4wMDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXZlbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocm93cy5oYXNFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChyb3cgPSAwOyByb3cgPCA2OyByb3cgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZGF0ZSA9IDA7IGRhdGUgPCA3OyBkYXRlICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3Nbcm93XVtkYXRlXS5oYXNFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tyb3ddW2RhdGVdLmV2ZW50cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzW3Jvd11bZGF0ZV0uaGFzRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50U291cmNlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50U3RhcnRUaW1lID0gbmV3IERhdGUoZXZlbnQuc3RhcnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudEVuZFRpbWUgPSBuZXcgRGF0ZShldmVudC5lbmRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPD0gdXRjU3RhcnRUaW1lIHx8IGV2ZW50U3RhcnRUaW1lID49IHV0Y0VuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3QgPSB1dGNTdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV0ID0gdXRjRW5kVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPD0gc3RhcnRUaW1lIHx8IGV2ZW50U3RhcnRUaW1lID49IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3QgPSBzdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV0ID0gZW5kVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZmVyZW5jZVN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U3RhcnRUaW1lIDw9IHN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VTdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZXZlbnRTdGFydFRpbWUgLSBzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighZXZlbnQuYWxsRGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gdGltZURpZmYgLSAoZXZlbnRTdGFydFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0LmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlU3RhcnQgPSB0aW1lRGlmZiAvIG9uZURheTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVEaWZmZXJlbmNlRW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50RW5kVGltZSA+PSBldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZXQgLSBzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighZXZlbnQuYWxsRGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gdGltZURpZmYgLSAoZXQuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0LmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlRW5kID0gdGltZURpZmYgLyBvbmVEYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZXZlbnRFbmRUaW1lIC0gc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWV2ZW50LmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IHRpbWVEaWZmIC0gKGV2ZW50RW5kVGltZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gc3QuZ2V0VGltZXpvbmVPZmZzZXQoKSkgKiA2MDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VFbmQgPSB0aW1lRGlmZiAvIG9uZURheTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gTWF0aC5mbG9vcih0aW1lRGlmZmVyZW5jZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudFNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpbmRleCA8IHRpbWVEaWZmZXJlbmNlRW5kIC0gZXBzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvd0luZGV4ID0gTWF0aC5mbG9vcihpbmRleCAvIDcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXlJbmRleCA9IE1hdGguZmxvb3IoaW5kZXggJSA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzW3Jvd0luZGV4XVtkYXlJbmRleF0uaGFzRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0ID0gcm93c1tyb3dJbmRleF1bZGF5SW5kZXhdLmV2ZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQucHVzaChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQucHVzaChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3Nbcm93SW5kZXhdW2RheUluZGV4XS5ldmVudHMgPSBldmVudFNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAocm93ID0gMDsgcm93IDwgNjsgcm93ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZGF0ZSA9IDA7IGRhdGUgPCA3OyBkYXRlICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93c1tyb3ddW2RhdGVdLmhhc0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tyb3ddW2RhdGVdLmV2ZW50cy5zb3J0KGNvbXBhcmVFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJvd3MuaGFzRXZlbnQgPSBoYXNFdmVudDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZmluZFNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvciAocm93ID0gMDsgcm93IDwgNjsgcm93ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZGF0ZSA9IDA7IGRhdGUgPCA3OyBkYXRlICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93c1tyb3ddW2RhdGVdLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkRGF0ZSA9IHJvd3Nbcm93XVtkYXRlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZFNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmRTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uIChkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpLCBkYXRlMS5nZXREYXRlKCkpIC0gbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSwgZGF0ZTIuZ2V0RGF0ZSgpKSApO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLl9nZXRSYW5nZSA9IGZ1bmN0aW9uIGdldFJhbmdlKGN1cnJlbnREYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0RGF5T2ZNb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZlcmVuY2UgPSBjdHJsLnN0YXJ0aW5nRGF5IC0gZmlyc3REYXlPZk1vbnRoLmdldERheSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPSAoZGlmZmVyZW5jZSA+IDApID8gNyAtIGRpZmZlcmVuY2UgOiAtZGlmZmVyZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5T2ZNb250aCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmREYXRlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZS5zZXREYXRlKC1udW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGVuZERhdGUuc2V0RGF0ZShlbmREYXRlLmdldERhdGUoKSArIDQyKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiBlbmREYXRlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldElTTzg2MDFXZWVrTnVtYmVyKGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpICsgNCAtIChjaGVja0RhdGUuZ2V0RGF5KCkgfHwgNykpOyAvLyBUaHVyc2RheVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IGNoZWNrRGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRGF0ZS5zZXRNb250aCgwKTsgLy8gQ29tcGFyZSB3aXRoIEphbiAxXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJvdW5kKCh0aW1lIC0gY2hlY2tEYXRlKSAvIDg2NDAwMDAwKSAvIDcpICsgMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfV0pXG4gICAgLmRpcmVjdGl2ZSgnd2Vla3ZpZXcnLCBbJ2RhdGVGaWx0ZXInLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoZGF0ZUZpbHRlciwgJHRpbWVvdXQpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2J1aWxkL2h0bWwvd2Vlay5odG1sJyxcbiAgICAgICAgICAgIHJlcXVpcmU6ICdeY2FsZW5kYXInLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcm1hdFdlZWtWaWV3RGF5SGVhZGVyID0gY3RybC5mb3JtYXRXZWVrVmlld0RheUhlYWRlcjtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JtYXRIb3VyQ29sdW1uID0gY3RybC5mb3JtYXRIb3VyQ29sdW1uO1xuXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTY3JvbGxHdXR0ZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGN0cmwubW9kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcDoge2RheXM6IDd9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbEd1dHRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsRGF5RXZlbnRCb2R5ID0gY2hpbGRyZW5bMV0uY2hpbGRyZW5bMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGxEYXlFdmVudEd1dHRlcldpZHRoID0gYWxsRGF5RXZlbnRCb2R5Lm9mZnNldFdpZHRoIC0gYWxsRGF5RXZlbnRCb2R5LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsRXZlbnRCb2R5ID0gY2hpbGRyZW5bMl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBub3JtYWxFdmVudEd1dHRlcldpZHRoID0gbm9ybWFsRXZlbnRCb2R5Lm9mZnNldFdpZHRoIC0gbm9ybWFsRXZlbnRCb2R5LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3V0dGVyV2lkdGggPSBhbGxEYXlFdmVudEd1dHRlcldpZHRoIHx8IG5vcm1hbEV2ZW50R3V0dGVyV2lkdGggfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGd1dHRlcldpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZ3V0dGVyV2lkdGggPSBndXR0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxEYXlFdmVudEd1dHRlcldpZHRoIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hbGxEYXlFdmVudEd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmFsbERheUV2ZW50R3V0dGVyV2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vcm1hbEV2ZW50R3V0dGVyV2lkdGggPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm5vcm1hbEd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm5vcm1hbEd1dHRlcldpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0VGltZSwgbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZXMgPSBuZXcgQXJyYXkobiksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnRUaW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnNldEhvdXJzKDEyKTsgLy8gUHJldmVudCByZXBlYXRlZCBkYXRlcyBiZWNhdXNlIG9mIHRpbWV6b25lIGJ1Z1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVzW2krK10gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoY3VycmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnNldERhdGUoY3VycmVudC5nZXREYXRlKCkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGF0ZU9iamVjdHMoc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRIb3VyID0gc3RhcnRUaW1lLmdldEhvdXJzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSA9IHN0YXJ0VGltZS5nZXREYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaG91ciA9IDA7IGhvdXIgPCAyNDsgaG91ciArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3cgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRheSA9IDA7IGRheSA8IDc7IGRheSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IG5ldyBEYXRlKHN0YXJ0VGltZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2V0SG91cnMoY3VycmVudEhvdXIgKyBob3VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNldERhdGUoY3VycmVudERhdGUgKyBkYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXMucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aW1lcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbiAoc2VsZWN0ZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS50aW1lU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRpbWVTZWxlY3RlZCh7c2VsZWN0ZWRUaW1lOiBzZWxlY3RlZFRpbWV9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLl9vbkRhdGFMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudFNvdXJjZSA9IGN0cmwuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZW4gPSBldmVudFNvdXJjZSA/IGV2ZW50U291cmNlLmxlbmd0aCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBjdHJsLnJhbmdlLnN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBjdHJsLnJhbmdlLmVuZFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGNTdGFydFRpbWUgPSBuZXcgRGF0ZShEYXRlLlVUQyhzdGFydFRpbWUuZ2V0RnVsbFllYXIoKSwgc3RhcnRUaW1lLmdldE1vbnRoKCksIHN0YXJ0VGltZS5nZXREYXRlKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0Y0VuZFRpbWUgPSBuZXcgRGF0ZShEYXRlLlVUQyhlbmRUaW1lLmdldEZ1bGxZZWFyKCksIGVuZFRpbWUuZ2V0TW9udGgoKSwgZW5kVGltZS5nZXREYXRlKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MgPSBzY29wZS5yb3dzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXMgPSBzY29wZS5kYXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZUhvdXIgPSAzNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25lRGF5ID0gODY0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIC8vYWRkIGFsbGRheSBlcHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwcyA9IDAuMDE2LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXlFdmVudEluUmFuZ2UgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbEV2ZW50SW5SYW5nZSA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocm93cy5oYXNFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChkYXkgPSAwOyBkYXkgPCA3OyBkYXkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaG91ciA9IDA7IGhvdXIgPCAyNDsgaG91ciArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzW2hvdXJdW2RheV0uZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzW2hvdXJdW2RheV0uZXZlbnRzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MuaGFzRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlcy5oYXNFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChkYXkgPSAwOyBkYXkgPCA3OyBkYXkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRlc1tkYXldLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlc1tkYXldLmV2ZW50cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXMuaGFzRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50U291cmNlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50U3RhcnRUaW1lID0gbmV3IERhdGUoZXZlbnQuc3RhcnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudEVuZFRpbWUgPSBuZXcgRGF0ZShldmVudC5lbmRUaW1lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmFsbERheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPD0gdXRjU3RhcnRUaW1lIHx8IGV2ZW50U3RhcnRUaW1lID49IHV0Y0VuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5RXZlbnRJblJhbmdlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxsRGF5U3RhcnRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U3RhcnRUaW1lIDw9IHV0Y1N0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5U3RhcnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXlTdGFydEluZGV4ID0gTWF0aC5mbG9vcigoZXZlbnRTdGFydFRpbWUgLSB1dGNTdGFydFRpbWUpIC8gb25lRGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxEYXlFbmRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50RW5kVGltZSA+PSB1dGNFbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXlFbmRJbmRleCA9IE1hdGguY2VpbCgodXRjRW5kVGltZSAtIHV0Y1N0YXJ0VGltZSkgLyBvbmVEYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGF5RW5kSW5kZXggPSBNYXRoLmNlaWwoKGV2ZW50RW5kVGltZSAtIHV0Y1N0YXJ0VGltZSkgLyBvbmVEYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlBbGxEYXlFdmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXg6IGFsbERheVN0YXJ0SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRJbmRleDogYWxsRGF5RW5kSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IGRhdGVzW2FsbERheVN0YXJ0SW5kZXhdLmV2ZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldC5wdXNoKGRpc3BsYXlBbGxEYXlFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQucHVzaChkaXNwbGF5QWxsRGF5RXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXNbYWxsRGF5U3RhcnRJbmRleF0uZXZlbnRzID0gZXZlbnRTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPD0gc3RhcnRUaW1lIHx8IGV2ZW50U3RhcnRUaW1lID49IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsRXZlbnRJblJhbmdlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZURpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZmVyZW5jZVN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRTdGFydFRpbWUgPD0gc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZVN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZXZlbnRTdGFydFRpbWUgLSBzdGFydFRpbWUgLSAoZXZlbnRTdGFydFRpbWUuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0VGltZS5nZXRUaW1lem9uZU9mZnNldCgpKSAqIDYwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VTdGFydCA9IHRpbWVEaWZmIC8gb25lSG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZmVyZW5jZUVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50RW5kVGltZSA+PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGVuZFRpbWUgLSBzdGFydFRpbWUgLSAoZW5kVGltZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gc3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZUVuZCA9IHRpbWVEaWZmIC8gb25lSG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZXZlbnRFbmRUaW1lIC0gc3RhcnRUaW1lIC0gKGV2ZW50RW5kVGltZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gc3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZmVyZW5jZUVuZCA9IHRpbWVEaWZmIC8gb25lSG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gTWF0aC5mbG9vcih0aW1lRGlmZmVyZW5jZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZEluZGV4ID0gTWF0aC5jZWlsKHRpbWVEaWZmZXJlbmNlRW5kIC0gZXBzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0Um93SW5kZXggPSBzdGFydEluZGV4ICUgMjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXlJbmRleCA9IE1hdGguZmxvb3Ioc3RhcnRJbmRleCAvIDI0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZE9mRGF5ID0gZGF5SW5kZXggKiAyNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFJvd0luZGV4O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZE9mRGF5ICs9IDI0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZE9mRGF5IDw9IGVuZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kUm93SW5kZXggPSAyNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kUm93SW5kZXggPSBlbmRJbmRleCAlIDI0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlFdmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleDogc3RhcnRSb3dJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRJbmRleDogZW5kUm93SW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldCA9IHJvd3Nbc3RhcnRSb3dJbmRleF1bZGF5SW5kZXhdLmV2ZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudFNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LnB1c2goZGlzcGxheUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNldC5wdXNoKGRpc3BsYXlFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tzdGFydFJvd0luZGV4XVtkYXlJbmRleF0uZXZlbnRzID0gZXZlbnRTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFJvd0luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheUluZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGVuZE9mRGF5IDwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxFdmVudEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZGF5ID0gMDsgZGF5IDwgNzsgZGF5ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJlZEV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaG91ciA9IDA7IGhvdXIgPCAyNDsgaG91ciArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzW2hvdXJdW2RheV0uZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmVkRXZlbnRzID0gb3JkZXJlZEV2ZW50cy5jb25jYXQocm93c1tob3VyXVtkYXldLmV2ZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyZWRFdmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzLmhhc0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGFjZUV2ZW50cyhvcmRlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsRGF5RXZlbnRJblJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJlZEFsbERheUV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChkYXkgPSAwOyBkYXkgPCA3OyBkYXkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRlc1tkYXldLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcmVkQWxsRGF5RXZlbnRzID0gb3JkZXJlZEFsbERheUV2ZW50cy5jb25jYXQoZGF0ZXNbZGF5XS5ldmVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcmVkQWxsRGF5RXZlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlcy5oYXNFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGFjZUFsbERheUV2ZW50cyhvcmRlcmVkQWxsRGF5RXZlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVNjcm9sbEd1dHRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdERheU9mV2VlayA9IGN0cmwucmFuZ2Uuc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXMgPSBnZXREYXRlcyhmaXJzdERheU9mV2VlaywgNyksXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrTnVtYmVySW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWVrRm9ybWF0UGF0dGVybiA9ICd3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlO1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJvd3MgPSBjcmVhdGVEYXRlT2JqZWN0cyhmaXJzdERheU9mV2Vlayk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGVzID0gZGF0ZXM7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtOdW1iZXJJbmRleCA9IGN0cmwuZm9ybWF0V2Vla1RpdGxlLmluZGV4T2Yod2Vla0Zvcm1hdFBhdHRlcm4pO1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGRhdGVGaWx0ZXIoZmlyc3REYXlPZldlZWssIGN0cmwuZm9ybWF0V2Vla1RpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdlZWtOdW1iZXJJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZSh3ZWVrRm9ybWF0UGF0dGVybiwgZ2V0SVNPODYwMVdlZWtOdW1iZXIoZmlyc3REYXlPZldlZWspKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50LnRpdGxlID0gdGl0bGU7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN0cmwuX2dldFJhbmdlID0gZnVuY3Rpb24gZ2V0UmFuZ2UoY3VycmVudERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IGN1cnJlbnREYXRlLmdldERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheSA9IGN1cnJlbnREYXRlLmdldERheSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSAtIGRheSksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUgLSBkYXkgKyA3KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6IGVuZFRpbWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy9UaGlzIGNhbiBiZSBkZWNvbWlzc2lvbmVkIHdoZW4gdXBncmFkZSB0byBBbmd1bGFyIDEuM1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldElTTzg2MDFXZWVrTnVtYmVyKGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpICsgNCAtIChjaGVja0RhdGUuZ2V0RGF5KCkgfHwgNykpOyAvLyBUaHVyc2RheVxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IGNoZWNrRGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRGF0ZS5zZXRNb250aCgwKTsgLy8gQ29tcGFyZSB3aXRoIEphbiAxXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJvdW5kKCh0aW1lIC0gY2hlY2tEYXRlKSAvIDg2NDAwMDAwKSAvIDcpICsgMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfV0pXG4gICAgLmRpcmVjdGl2ZSgnZGF5dmlldycsIFsnZGF0ZUZpbHRlcicsICckdGltZW91dCcsIGZ1bmN0aW9uIChkYXRlRmlsdGVyLCAkdGltZW91dCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy4vYnVpbGQvaHRtbC9kYXkuaHRtbCcsXG4gICAgICAgICAgICByZXF1aXJlOiAnXmNhbGVuZGFyJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JtYXRIb3VyQ29sdW1uID0gY3RybC5mb3JtYXRIb3VyQ29sdW1uO1xuXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTY3JvbGxHdXR0ZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGN0cmwubW9kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcDoge2RheXM6IDF9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbEd1dHRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsRGF5RXZlbnRCb2R5ID0gY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGxEYXlFdmVudEd1dHRlcldpZHRoID0gYWxsRGF5RXZlbnRCb2R5Lm9mZnNldFdpZHRoIC0gYWxsRGF5RXZlbnRCb2R5LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsRXZlbnRCb2R5ID0gY2hpbGRyZW5bMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBub3JtYWxFdmVudEd1dHRlcldpZHRoID0gbm9ybWFsRXZlbnRCb2R5Lm9mZnNldFdpZHRoIC0gbm9ybWFsRXZlbnRCb2R5LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3V0dGVyV2lkdGggPSBhbGxEYXlFdmVudEd1dHRlcldpZHRoIHx8IG5vcm1hbEV2ZW50R3V0dGVyV2lkdGggfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGd1dHRlcldpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbERheUV2ZW50R3V0dGVyV2lkdGggPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmFsbERheUV2ZW50R3V0dGVyV2lkdGggPSBndXR0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9ybWFsRXZlbnRHdXR0ZXJXaWR0aCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubm9ybWFsR3V0dGVyV2lkdGggPSBndXR0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubm9ybWFsR3V0dGVyV2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGF0ZU9iamVjdHMoc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEhvdXIgPSBzdGFydFRpbWUuZ2V0SG91cnMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlID0gc3RhcnRUaW1lLmdldERhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBob3VyID0gMDsgaG91ciA8IDI0OyBob3VyICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBuZXcgRGF0ZShzdGFydFRpbWUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2V0SG91cnMoY3VycmVudEhvdXIgKyBob3VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2V0RGF0ZShjdXJyZW50RGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dzO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24gKHNlbGVjdGVkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUudGltZVNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS50aW1lU2VsZWN0ZWQoe3NlbGVjdGVkVGltZTogc2VsZWN0ZWRUaW1lfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY3RybC5fb25EYXRhTG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRTb3VyY2UgPSBjdHJsLmV2ZW50U291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gZXZlbnRTb3VyY2UgPyBldmVudFNvdXJjZS5sZW5ndGggOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gY3RybC5yYW5nZS5zdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gY3RybC5yYW5nZS5lbmRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXRjU3RhcnRUaW1lID0gbmV3IERhdGUoRGF0ZS5VVEMoc3RhcnRUaW1lLmdldEZ1bGxZZWFyKCksIHN0YXJ0VGltZS5nZXRNb250aCgpLCBzdGFydFRpbWUuZ2V0RGF0ZSgpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGNFbmRUaW1lID0gbmV3IERhdGUoRGF0ZS5VVEMoZW5kVGltZS5nZXRGdWxsWWVhcigpLCBlbmRUaW1lLmdldE1vbnRoKCksIGVuZFRpbWUuZ2V0RGF0ZSgpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzID0gc2NvcGUucm93cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERheUV2ZW50cyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25lSG91ciA9IDM2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcHMgPSAwLjAxNixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsRXZlbnRJblJhbmdlID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dzLmhhc0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGhvdXIgPSAwOyBob3VyIDwgMjQ7IGhvdXIgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzW2hvdXJdLmV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzW2hvdXJdLmV2ZW50cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5oYXNFdmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRTb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRTdGFydFRpbWUgPSBuZXcgRGF0ZShldmVudC5zdGFydFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50RW5kVGltZSA9IG5ldyBEYXRlKGV2ZW50LmVuZFRpbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuYWxsRGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50RW5kVGltZSA8PSB1dGNTdGFydFRpbWUgfHwgZXZlbnRTdGFydFRpbWUgPj0gdXRjRW5kVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXlFdmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRFbmRUaW1lIDw9IHN0YXJ0VGltZSB8fCBldmVudFN0YXJ0VGltZSA+PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbEV2ZW50SW5SYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVEaWZmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZmVyZW5jZVN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudFN0YXJ0VGltZSA8PSBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmZlcmVuY2VTdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZURpZmYgPSBldmVudFN0YXJ0VGltZSAtIHN0YXJ0VGltZSAtIChldmVudFN0YXJ0VGltZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gc3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlU3RhcnQgPSB0aW1lRGlmZiAvIG9uZUhvdXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVEaWZmZXJlbmNlRW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEVuZFRpbWUgPj0gZW5kVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lRGlmZiA9IGVuZFRpbWUgLSBzdGFydFRpbWUgLSAoZW5kVGltZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gc3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlRW5kID0gdGltZURpZmYgLyBvbmVIb3VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmID0gZXZlbnRFbmRUaW1lIC0gc3RhcnRUaW1lIC0gKGV2ZW50RW5kVGltZS5nZXRUaW1lem9uZU9mZnNldCgpIC0gc3RhcnRUaW1lLmdldFRpbWV6b25lT2Zmc2V0KCkpICogNjAwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVEaWZmZXJlbmNlRW5kID0gdGltZURpZmYgLyBvbmVIb3VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gTWF0aC5mbG9vcih0aW1lRGlmZmVyZW5jZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5kSW5kZXggPSBNYXRoLmNlaWwodGltZURpZmZlcmVuY2VFbmQgLSBlcHMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlFdmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEluZGV4OiBzdGFydEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRJbmRleDogZW5kSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQgPSByb3dzW3N0YXJ0SW5kZXhdLmV2ZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTZXQucHVzaChkaXNwbGF5RXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2V0LnB1c2goZGlzcGxheUV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93c1tzdGFydEluZGV4XS5ldmVudHMgPSBldmVudFNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm9ybWFsRXZlbnRJblJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJlZEV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChob3VyID0gMDsgaG91ciA8IDI0OyBob3VyICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93c1tob3VyXS5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZEV2ZW50cyA9IG9yZGVyZWRFdmVudHMuY29uY2F0KHJvd3NbaG91cl0uZXZlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJlZEV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cy5oYXNFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGFjZUV2ZW50cyhvcmRlcmVkRXZlbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmFsbERheUV2ZW50cyA9IGFsbERheUV2ZW50cztcblxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVTY3JvbGxHdXR0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRpbmdEYXRlID0gY3RybC5yYW5nZS5zdGFydFRpbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucm93cyA9IGNyZWF0ZURhdGVPYmplY3RzKHN0YXJ0aW5nRGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmFsbERheUV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRlcyA9IFtzdGFydGluZ0RhdGVdO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50LnRpdGxlID0gZGF0ZUZpbHRlcihzdGFydGluZ0RhdGUsIGN0cmwuZm9ybWF0RGF5VGl0bGUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjdHJsLl9nZXRSYW5nZSA9IGZ1bmN0aW9uIGdldFJhbmdlKGN1cnJlbnREYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSBjdXJyZW50RGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUgKyAxKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XSk7XG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JjYWxlbmRhci9jYWxlbmRhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcmNhbGVuZGFyL2NhbGVuZGFyLmh0bWxcIixcbiAgICBcIjxkaXYgbmctc3dpdGNoPVxcXCJjYWxlbmRhck1vZGVcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJyb3cgY2FsZW5kYXItbmF2YmFyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcIm5hdi1sZWZ0IGNvbC14cy0yXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCI+PGlcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYWxlbmRhci1oZWFkZXIgY29sLXhzLThcXFwiPnt7dGl0bGV9fTwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwibmF2LXJpZ2h0IGNvbC14cy0yXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIj48aVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGF5dmlldyBuZy1zd2l0Y2gtd2hlbj1cXFwiZGF5XFxcIj48L2RheXZpZXc+XFxuXCIgK1xuICAgIFwiICAgIDxtb250aHZpZXcgbmctc3dpdGNoLXdoZW49XFxcIm1vbnRoXFxcIj48L21vbnRodmlldz5cXG5cIiArXG4gICAgXCIgICAgPHdlZWt2aWV3IG5nLXN3aXRjaC13aGVuPVxcXCJ3ZWVrXFxcIj48L3dlZWt2aWV3PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9yY2FsZW5kYXIvZGF5Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9yY2FsZW5kYXIvZGF5Lmh0bWxcIixcbiAgICBcIjxkaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImRheXZpZXctYWxsZGF5LXRhYmxlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcImRheXZpZXctYWxsZGF5LWxhYmVsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICBhbGwgZGF5XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcImRheXZpZXctYWxsZGF5LWNvbnRlbnQtd3JhcHBlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCBkYXl2aWV3LWFsbGRheS1jb250ZW50LXRhYmxlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcImNhbGVuZGFyLWNlbGxcXFwiIG5nLWNsYXNzPVxcXCJ7J2NhbGVuZGFyLWV2ZW50LXdyYXAnOmFsbERheUV2ZW50c31cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgbmctc3R5bGU9XFxcIntoZWlnaHQ6IDI1KmFsbERheUV2ZW50cy5sZW5ndGgrJ3B4J31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctcmVwZWF0PVxcXCJkaXNwbGF5RXZlbnQgaW4gYWxsRGF5RXZlbnRzXFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItZXZlbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwiZXZlbnRTZWxlY3RlZCh7ZXZlbnQ6ZGlzcGxheUV2ZW50LmV2ZW50fSlcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1zdHlsZT1cXFwie3RvcDogMjUqJGluZGV4KydweCcsd2lkdGg6ICcxMDAlJyxoZWlnaHQ6JzI1cHgnfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyLWV2ZW50LWlubmVyXFxcIj57e2Rpc3BsYXlFdmVudC5ldmVudC50aXRsZX19PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPHRkIG5nLWlmPVxcXCJhbGxEYXlFdmVudEd1dHRlcldpZHRoPjBcXFwiIGNsYXNzPVxcXCJndXR0ZXItY29sdW1uXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIG5nLXN0eWxlPVxcXCJ7d2lkdGg6YWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCsncHgnfVxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC90Ym9keT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3RhYmxlPlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJzY3JvbGxhYmxlXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiA0MDBweFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWZpeGVkXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cXFwidG0gaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcImNhbGVuZGFyLWhvdXItY29sdW1uIHRleHQtY2VudGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIHt7dG0udGltZSB8IGRhdGU6IGZvcm1hdEhvdXJDb2x1bW59fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcImNhbGVuZGFyLWNlbGxcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QodG0udGltZSlcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1jbGFzcz1cXFwieydjYWxlbmRhci1ldmVudC13cmFwJzogdG0uZXZlbnRzfVxcXCIgbmctaWY9XFxcInRtLmV2ZW50c1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XFxcImRpc3BsYXlFdmVudCBpbiB0bS5ldmVudHNcXFwiIGNsYXNzPVxcXCJjYWxlbmRhci1ldmVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJldmVudFNlbGVjdGVkKHtldmVudDpkaXNwbGF5RXZlbnQuZXZlbnR9KVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXN0eWxlPVxcXCJ7bGVmdDogMTAwL2Rpc3BsYXlFdmVudC5vdmVybGFwTnVtYmVyKmRpc3BsYXlFdmVudC5wb3NpdGlvbisnJScsIHdpZHRoOiAxMDAvZGlzcGxheUV2ZW50Lm92ZXJsYXBOdW1iZXIrJyUnLCBoZWlnaHQ6IDM3KihkaXNwbGF5RXZlbnQuZW5kSW5kZXgtZGlzcGxheUV2ZW50LnN0YXJ0SW5kZXgpKydweCd9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FsZW5kYXItZXZlbnQtaW5uZXJcXFwiPnt7ZGlzcGxheUV2ZW50LmV2ZW50LnRpdGxlfX08L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90Ym9keT5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvdGFibGU+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9yY2FsZW5kYXIvbW9udGguaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3JjYWxlbmRhci9tb250aC5odG1sXCIsXG4gICAgXCI8ZGl2PlxcblwiICtcbiAgICBcIiAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWZpeGVkIG1vbnRodmlldy1kYXRldGFibGUgbW9udGh2aWV3LWRhdGV0YWJsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRoIG5nLXNob3c9XFxcInNob3dXZWVrc1xcXCIgY2xhc3M9XFxcImNhbGVuZGFyLXdlZWstY29sdW1uIHRleHQtY2VudGVyXFxcIj4jPC90aD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGggbmctcmVwZWF0PVxcXCJsYWJlbCBpbiBsYWJlbHMgdHJhY2sgYnkgJGluZGV4XFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8c21hbGw+e3tsYWJlbH19PC9zbWFsbD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3RoPlxcblwiICtcbiAgICBcIiAgICAgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJjYWxlbmRhci13ZWVrLWNvbHVtbiB0ZXh0LWNlbnRlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDxzbWFsbD48ZW0+e3sgd2Vla051bWJlcnNbJGluZGV4XSB9fTwvZW0+PC9zbWFsbD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwibW9udGh2aWV3LWRhdGVDZWxsXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICBuZy1jbGFzcz1cXFwieyd0ZXh0LWNlbnRlcic6dHJ1ZSwgJ21vbnRodmlldy1jdXJyZW50JzogZHQuY3VycmVudCYmIWR0LnNlbGVjdGVkJiYhZHQuaGFzRXZlbnQsJ21vbnRodmlldy1zZWNvbmRhcnktd2l0aC1ldmVudCc6IGR0LnNlY29uZGFyeSYmZHQuaGFzRXZlbnQsICdtb250aHZpZXctcHJpbWFyeS13aXRoLWV2ZW50JzohZHQuc2Vjb25kYXJ5JiZkdC5oYXNFdmVudCYmIWR0LnNlbGVjdGVkLCAnbW9udGh2aWV3LXNlbGVjdGVkJzogZHQuc2VsZWN0ZWR9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPGRpdiBuZy1jbGFzcz1cXFwieyd0ZXh0LW11dGVkJzpkdC5zZWNvbmRhcnl9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIHt7ZHQubGFiZWx9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDwvdGFibGU+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgbmctaWY9XFxcInNob3dFdmVudERldGFpbFxcXCIgY2xhc3M9XFxcImV2ZW50LWRldGFpbC1jb250YWluZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwic2Nyb2xsYWJsZVxcXCIgc3R5bGU9XFxcImhlaWdodDogMjAwcHhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtc3RyaXBlZCB0YWJsZS1maXhlZFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcImV2ZW50IGluIHNlbGVjdGVkRGF0ZS5ldmVudHNcXFwiIG5nLWlmPVxcXCJzZWxlY3RlZERhdGUuZXZlbnRzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDx0ZCBuZy1pZj1cXFwiIWV2ZW50LmFsbERheVxcXCIgY2xhc3M9XFxcIm1vbnRodmlldy1ldmVudGRldGFpbC10aW1lY29sdW1uXFxcIj57e2V2ZW50LnN0YXJ0VGltZXxkYXRlOiAnSEg6bW0nfX1cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAtXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAge3tldmVudC5lbmRUaW1lfGRhdGU6ICdISDptbSd9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDx0ZCBuZy1pZj1cXFwiZXZlbnQuYWxsRGF5XFxcIiBjbGFzcz1cXFwibW9udGh2aWV3LWV2ZW50ZGV0YWlsLXRpbWVjb2x1bW5cXFwiPkFsbCBkYXk8L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJldmVudC1kZXRhaWxcXFwiIG5nLWNsaWNrPVxcXCJldmVudFNlbGVjdGVkKHtldmVudDpldmVudH0pXFxcIj57e2V2ZW50LnRpdGxlfX08L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8dHIgbmctaWY9XFxcIiFzZWxlY3RlZERhdGUuZXZlbnRzXFxcIj48dGQgY2xhc3M9XFxcIm5vLWV2ZW50LWxhYmVsXFxcIj5ObyBFdmVudHM8L3RkPjwvdHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90YWJsZT5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcmNhbGVuZGFyL3dlZWsuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3JjYWxlbmRhci93ZWVrLmh0bWxcIixcbiAgICBcIjxkaXY+XFxuXCIgK1xuICAgIFwiICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtZml4ZWQgd2Vla3ZpZXctaGVhZGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGggY2xhc3M9XFxcImNhbGVuZGFyLWhvdXItY29sdW1uXFxcIj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0aCBuZy1yZXBlYXQ9XFxcImR0IGluIGRhdGVzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXIgd2Vla3ZpZXctaGVhZGVyLWxhYmVsXFxcIj57e2R0LmRhdGV8IGRhdGU6XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIGZvcm1hdFdlZWtWaWV3RGF5SGVhZGVyfX1cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3RoPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDx0aCBuZy1pZj1cXFwiZ3V0dGVyV2lkdGg+MFxcXCIgY2xhc3M9XFxcImd1dHRlci1jb2x1bW5cXFwiIG5nLXN0eWxlPVxcXCJ7d2lkdGg6IGd1dHRlcldpZHRoKydweCd9XFxcIj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdGFibGU+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcIndlZWt2aWV3LWFsbGRheS10YWJsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3ZWVrdmlldy1hbGxkYXktbGFiZWxcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIGFsbCBkYXlcXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwid2Vla3ZpZXctYWxsZGF5LWNvbnRlbnQtd3JhcHBlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1maXhlZCB3ZWVrdmlldy1hbGxkYXktY29udGVudC10YWJsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZGF5IGluIGRhdGVzIHRyYWNrIGJ5IGRheS5kYXRlXFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItY2VsbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1jbGFzcz1cXFwieydjYWxlbmRhci1ldmVudC13cmFwJzogZGF5LmV2ZW50c31cXFwiIG5nLWlmPVxcXCJkYXkuZXZlbnRzXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctc3R5bGU9XFxcIntoZWlnaHQ6IDI1KmRheS5ldmVudHMubGVuZ3RoKydweCd9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XFxcImRpc3BsYXlFdmVudCBpbiBkYXkuZXZlbnRzXFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItZXZlbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XFxcImV2ZW50U2VsZWN0ZWQoe2V2ZW50OmRpc3BsYXlFdmVudC5ldmVudH0pXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXN0eWxlPVxcXCJ7dG9wOiAyNSpkaXNwbGF5RXZlbnQucG9zaXRpb24rJ3B4Jywgd2lkdGg6IDEwMCooZGlzcGxheUV2ZW50LmVuZEluZGV4LWRpc3BsYXlFdmVudC5zdGFydEluZGV4KSsnJScsIGhlaWdodDogJzI1cHgnfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYWxlbmRhci1ldmVudC1pbm5lclxcXCI+e3tkaXNwbGF5RXZlbnQuZXZlbnQudGl0bGV9fTwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8dGQgbmctaWY9XFxcImFsbERheUV2ZW50R3V0dGVyV2lkdGg+MFxcXCIgY2xhc3M9XFxcImd1dHRlci1jb2x1bW5cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgbmctc3R5bGU9XFxcInt3aWR0aDogYWxsRGF5RXZlbnRHdXR0ZXJXaWR0aCsncHgnfVxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC90Ym9keT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L3RhYmxlPlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJzY3JvbGxhYmxlXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiA0MDBweFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWZpeGVkXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJjYWxlbmRhci1ob3VyLWNvbHVtbiB0ZXh0LWNlbnRlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICB7e3Jvd1swXS50aW1lIHwgZGF0ZTogZm9ybWF0SG91ckNvbHVtbn19XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcInRtIGluIHJvdyB0cmFjayBieSB0bS50aW1lXFxcIiBjbGFzcz1cXFwiY2FsZW5kYXItY2VsbFxcXCIgbmctY2xpY2s9XFxcInNlbGVjdCh0bS50aW1lKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLWNsYXNzPVxcXCJ7J2NhbGVuZGFyLWV2ZW50LXdyYXAnOiB0bS5ldmVudHN9XFxcIiBuZy1pZj1cXFwidG0uZXZlbnRzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cXFwiZGlzcGxheUV2ZW50IGluIHRtLmV2ZW50c1xcXCIgY2xhc3M9XFxcImNhbGVuZGFyLWV2ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XFxcImV2ZW50U2VsZWN0ZWQoe2V2ZW50OmRpc3BsYXlFdmVudC5ldmVudH0pXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctc3R5bGU9XFxcIntsZWZ0OiAxMDAvZGlzcGxheUV2ZW50Lm92ZXJsYXBOdW1iZXIqZGlzcGxheUV2ZW50LnBvc2l0aW9uKyclJywgd2lkdGg6IDEwMC9kaXNwbGF5RXZlbnQub3ZlcmxhcE51bWJlcisnJScsIGhlaWdodDogMzcqKGRpc3BsYXlFdmVudC5lbmRJbmRleC1kaXNwbGF5RXZlbnQuc3RhcnRJbmRleCkrJ3B4J31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYWxlbmRhci1ldmVudC1pbm5lclxcXCI+e3tkaXNwbGF5RXZlbnQuZXZlbnQudGl0bGV9fTwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIDx0ZCBuZy1pZj1cXFwibm9ybWFsR3V0dGVyV2lkdGg+MFxcXCIgY2xhc3M9XFxcImd1dHRlci1jb2x1bW5cXFwiIG5nLXN0eWxlPVxcXCJ7d2lkdGg6IG5vcm1hbEd1dHRlcldpZHRoKydweCd9XFxcIj48L3RkPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC90Ym9keT5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvdGFibGU+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTsiLCJzcGVjaWFsaXN0LmZhY3RvcnkoJ2RhdGFTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cdHZhciBzaWduVXBEb2NPYmogPSB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRGdWxsRG9jdG9yTGlzdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdodHRwOi8vMC4wLjAuMDo4MDgwL2RvY3Rvci9saXN0JykudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3AuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja1VzZXJFeGlzdGFuY2U6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25VcERvY3RvcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gJGh0dHAucG9zdCgnaHR0cDovLzAuMC4wLjA6ODA4MC9kb2N0b3IvYWRkJyxvYmopLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG4gICAgICAgICAgICAvLyBcdHJldHVybiByZXNwO1xuICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgIC8vIHZhciBvYmogPSB7XG4gICAgICAgICAgICAvLyAgICAgJ3Nlc3Npb25JZCc6ICcyMzQ1ODg2MycsXG4gICAgICAgICAgICAvLyAgICAgJ2RvY0RhdGEnOiB7ICduYW1lJzogJ25pdGluJywgJ2VtYWlsJzogJ250bmdpcmlAZ21haWwuY29tJywgJ2FkZHJlc3MnOiAna3NqZG52IHNrdm5qJywgJ2NpdHknOiAnR3VyZ2FvbicsICdzdGF0ZSc6ICdoYXJ5YW5hJywgJ21vYic6ICc3MDQxMjk5Mjg3MycsICdjbGluaWMnOiAna3NqYmQnLCAnZmVlJzogJzY5OScsICdodl9mZWUnOiAnNzM2NScgfVxuICAgICAgICAgICAgLy8gfTtcbiAgICAgICAgICAgIHNpZ25VcERvY09iaiA9IG9iajtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhU2VydmljZScsc2lnblVwRG9jT2JqKTtcbiAgICAgICAgICAgIC8vcmV0dXJuIHNpZ25VcERvY09iajtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RG9jdG9yRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gJGh0dHAuZ2V0KCdodHRwOi8vMC4wLjAuMDo4MDgwL2RvY3Rvci8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3Ape1xuICAgICAgICAgICAgLy8gXHRyZXR1cm4gcmVzcC5kYXRhO1xuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICByZXR1cm4gc2lnblVwRG9jT2JqO1xuICAgICAgICB9XG4gICAgfTtcbn1dKVxuIiwic3BlY2lhbGlzdC5jb250cm9sbGVyKCdkb2NQcm9maWxlQ3RybCcsIFsnJHNjb3BlJywgJ2RhdGFTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCBkYXRhU2VydmljZSkge1xuICAgIHZhciBkb2N0b3JJZCA9IDQ7XG4gICAgLy8gZGF0YVNlcnZpY2UuZ2V0RG9jdG9yRGF0YShkb2N0b3JJZCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIC8vICAgICAkc2NvcGUuZG9jdG9yRGF0YSA9IGRhdGFbMF07XG4gICAgLy8gfSk7XG4gICAgJHNjb3BlLmRvY0pzb24gPSBkYXRhU2VydmljZS5nZXREb2N0b3JEYXRhKCk7XG4gICAgY29uc29sZS5sb2coJ2RvY3Byb2ZpbGUnLGRvY0pzb24pO1xuXG4gICAgJHNjb3BlLm1vZGUgPSAnd2Vlayc7XG4gICAgJHNjb3BlLmV2ZW50U291cmNlID0gY3JlYXRlUmFuZG9tRXZlbnRzKCk7XG4gICAgJHNjb3BlLnNlbGVjdGVkID0gMDtcbiAgICAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gaW5kZXg7XG4gICAgfVxuICAgICRzY29wZS5uYXZQcm9maWxlTGlzdCA9IFt7ICdzcmVmJzogJ2Rhc2hib2FyZCcsICd0aXRsZSc6ICdEYXNoYm9hcmQnIH0sIHsgJ3NyZWYnOiAnZmFxJywgJ3RpdGxlJzogJ0ZBUScgfSwgeyAnc3JlZic6ICdwbGFucycsICd0aXRsZSc6ICdQcmljaW5nIFBsYW5zJyB9LCB7ICdzcmVmJzogJ3Byb2ZpbGUnLCAndGl0bGUnOiAnVXNlciBBY2NvdW50JyB9XTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmRvbUV2ZW50cygpIHtcbiAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDUwOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcbiAgICAgICAgICAgIHZhciBzdGFydERheSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDkwKSAtIDQ1O1xuICAgICAgICAgICAgdmFyIGVuZERheSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpICsgc3RhcnREYXk7XG4gICAgICAgICAgICB2YXIgc3RhcnRUaW1lO1xuICAgICAgICAgICAgdmFyIGVuZFRpbWU7XG4gICAgICAgICAgICBpZiAoZXZlbnRUeXBlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gbmV3IERhdGUoRGF0ZS5VVEMoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCBkYXRlLmdldFVUQ01vbnRoKCksIGRhdGUuZ2V0VVRDRGF0ZSgpICsgc3RhcnREYXkpKTtcbiAgICAgICAgICAgICAgICBpZiAoZW5kRGF5ID09PSBzdGFydERheSkge1xuICAgICAgICAgICAgICAgICAgICBlbmREYXkgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZW5kVGltZSA9IG5ldyBEYXRlKERhdGUuVVRDKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwgZGF0ZS5nZXRVVENNb250aCgpLCBkYXRlLmdldFVUQ0RhdGUoKSArIGVuZERheSkpO1xuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdBbGwgRGF5IC0gJyArIGksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lLFxuICAgICAgICAgICAgICAgICAgICBhbGxEYXk6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0TWludXRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjQgKiA2MCk7XG4gICAgICAgICAgICAgICAgdmFyIGVuZE1pbnV0ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE4MCkgKyBzdGFydE1pbnV0ZTtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkgKyBzdGFydERheSwgMCwgZGF0ZS5nZXRNaW51dGVzKCkgKyBzdGFydE1pbnV0ZSk7XG4gICAgICAgICAgICAgICAgZW5kVGltZSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSArIGVuZERheSwgMCwgZGF0ZS5nZXRNaW51dGVzKCkgKyBlbmRNaW51dGUpO1xuICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGkgKyAnTXIgTml0aW4nLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZSxcbiAgICAgICAgICAgICAgICAgICAgYWxsRGF5OiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudHM7XG4gICAgfVxufV0pO1xuIiwic3BlY2lhbGlzdC5jb250cm9sbGVyKCdkb2NTaWdudXBDdHJsJywgWyckc2NvcGUnLCckc3RhdGUnLCdkYXRhU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsJHN0YXRlLGRhdGFTZXJ2aWNlKSB7XG5cdCRzY29wZS5zZWNvbmRGb3JtID0gZmFsc2U7XG5cdCRzY29wZS5maXJzdEZvcm0gPSB0cnVlO1xuXHQkc2NvcGUuZW1haWxfZXJyID0gZmFsc2U7XG5cdCRzY29wZS5wd2RfZXJyID0gZmFsc2U7XG5cdCRzY29wZS5lcnJfbXNnID0gZmFsc2U7XG5cdCRzY29wZS5tb2JpbGVSZWdFeCA9IFwiL15bMC05XXsxMCwxMH0kLztcIjtcblx0JHNjb3BlLnBpbkNvZGVSZWdFeCA9IFwiL15bMC05XXs2LDZ9JC87XCI7XG5cdHZhciBzaWduVXBEYXRhID0ge307XG5cdCRzY29wZS5jaGVja0VtYWlsUHdkVmFsaWRpdHkgPSBmdW5jdGlvbih2YWx1ZSl7XG5cdFx0aWYodmFsdWUgPT0gJ2VtYWlsJyl7XG5cdFx0XHRpZigkc2NvcGUuZW1haWwgIT09ICRzY29wZS5jb25mRW1haWwpe1xuXHRcdFx0XHQkc2NvcGUuZW1haWxfZXJyID0gdHJ1ZTtcblx0XHRcdFx0JHNjb3BlLmVtYWlsX2Vycl9tc2cgPSAnRW1haWwgZGlkIG5vdCBtYXRjaCc7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0JHNjb3BlLmVtYWlsX2VyciA9IGZhbHNlO1xuXHRcdFx0XHQkc2NvcGUuZW1haWxfZXJyX21zZyA9ICcnO1xuXHRcdFx0fVxuXHRcdH1lbHNlIGlmKHZhbHVlID09J3B3ZCcpe1xuXHRcdFx0aWYoJHNjb3BlLnBhc3MgIT09ICRzY29wZS5jb25mUGFzcyl7XG5cdFx0XHRcdCRzY29wZS5wYXNzX2VyciA9IHRydWU7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0JHNjb3BlLnBhc3NfZXJyID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVx0XHRcblx0fTtcblx0JHNjb3BlLmJyaW5nU2Vjb25kRm9ybSA9IGZ1bmN0aW9uKGlzVmFsaWQpe1xuXHRcdGlmKGlzVmFsaWQpe1xuXHRcdFx0JHNjb3BlLmVycl9tc2cgPSBmYWxzZTtcblx0XHRcdHNpZ25VcERhdGEubmFtZSA9ICRzY29wZS5mbmFtZSArXCIgXCIrICRzY29wZS5sbmFtZTtcblx0XHRcdGlmKCRzY29wZS5lbWFpbCA9PSAkc2NvcGUuY29uZkVtYWlsKXtcblx0XHRcdFx0c2lnblVwRGF0YS5lbWFpbCA9ICRzY29wZS5lbWFpbDtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkc2NvcGUuZW1haWxfZXJyID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGlmKCRzY29wZS5wYXNzID09ICRzY29wZS5jb25mUGFzcyl7XG5cdFx0XHRcdHNpZ25VcERhdGEucGFzc3dvcmQgPSAkc2NvcGUucGFzcztcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkc2NvcGUucGFzc19lcnIgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYoISRzY29wZS5wYXNzX2VyciAmJiAhJHNjb3BlLmVtYWlsX2Vycil7XG5cdFx0XHRcdCRzY29wZS5zZWNvbmRGb3JtID0gdHJ1ZTtcblx0XHRcdFx0JHNjb3BlLmZpcnN0Rm9ybSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZighaXNWYWxpZCl7XG5cdFx0XHQkc2NvcGUuZXJyX21zZyA9IHRydWU7XG5cdFx0fVxuXHR9O1xuXG5cdCRzY29wZS5zZW5kU2lnbnVwRG9jID0gZnVuY3Rpb24oaXNWYWxpZCl7XG5cdFx0aWYoaXNWYWxpZCl7XG5cdFx0XHQkc2NvcGUuZXJyX21zZyA9IGZhbHNlO1xuXHRcdFx0c2lnblVwRGF0YS5hZGRyZXNzID0gJHNjb3BlLmFkZHJlc3MxICsgJyAnICsgJHNjb3BlLmFkZHJlc3MyO1xuXHRcdFx0c2lnblVwRGF0YS5waW4gPSAkc2NvcGUucGluQ29kZTtcblx0XHRcdHNpZ25VcERhdGEuY2l0eSA9ICRzY29wZS5jaXR5O1xuXHRcdFx0c2lnblVwRGF0YS5zdGF0ZSA9ICRzY29wZS5zdGF0ZTtcblx0XHRcdHNpZ25VcERhdGEubW9iaWxlID0gJHNjb3BlLm1vYmlsZU5vO1xuXHRcdFx0c2lnblVwRGF0YS5jbGluaWNfbmFtZSA9ICRzY29wZS5jbGluaWNOYW1lO1xuXHRcdFx0c2lnblVwRGF0YS5mZWUgPSAkc2NvcGUuY2xpbmljRmVlO1xuXHRcdFx0c2lnblVwRGF0YS5odl9mZWUgPSAkc2NvcGUuaG9tZVZpc2l0O1xuXHRcdFx0ZGF0YVNlcnZpY2Uuc2lnblVwRG9jdG9yKHNpZ25VcERhdGEpO1xuXHRcdFx0JHN0YXRlLmdvKCdkb2N0b3JQcm9maWxlLmRhc2hib2FyZCcpOy8vdG8gYmUgcmVtb3ZlZFxuXHRcdFx0Ly8gZGF0YVNlcnZpY2Uuc2lnblVwRG9jdG9yKHNpZ25VcERhdGEpLnRoZW4oZnVuY3Rpb24ocmVzcCl7XG5cdFx0XHQvLyBcdCRzdGF0ZS5nbygnZG9jdG9yUHJvZmlsZS5kYXNoYm9hcmQnKTtcblx0XHRcdC8vIH0pO1xuXHRcdH0gZWxzZSBpZighaXNWYWxpZCl7XG5cdFx0XHQkc2NvcGUuZXJyX21zZyA9IHRydWU7XG5cdFx0fVxuXHR9O1xufV0pOyIsInNwZWNpYWxpc3QuY29udHJvbGxlcignZG9jdG9yUG9ydGFsQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24gKCRzY29wZSkge1xuXHRcbn1dKSIsImFuZ3VsYXIubW9kdWxlKCdzcGVjaWFsaXN0LnRhZ2l0JywgW10pXG4gICAgLmRpcmVjdGl2ZSgndGFnSXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICB0YWdzOiBcIj1cIixcbiAgICAgICAgICAgICAgICByZW1vdmU6IFwiJlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2Pjx1bCBjbGFzcz1cInRhZ3NcIj48bGkgIGNsYXNzPVwidGFnaXRcIiBuZy1yZXBlYXQ9XCJ0YWcgaW4gdGFncyBcIj48c3BhbiBjbGFzcz1cInRhZ1RleHRcIj57ezo6dGFnLm5hbWV9fTwvc3Bhbj48YSAgbmctY2xpY2s9XCJyZW1vdmUoe2lkeDp0YWcuaWR9KVwiIGNsYXNzPVwiZENyb3NzXCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPng8L2E+PC9saT48L3VsPjwvZGl2PicsXG5cbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJGN0cmwpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygkc2NvcGUsICRhdHRycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuYW5ndWxhci5tb2R1bGUoJ3NwZWNpYWxpc3QubGlzdGluZycsIFtdKVxuICAgICAuZGlyZWN0aXZlKCduZ1JlcGVhdERvbmVOb3RpZmljYXRpb24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG4gICAgICAgICAgICBpZiAoIXNjb3BlLiRwYXJlbnQubXVsdGlTZWxlY3QpIHtcblxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5zZWxlY3RlZElkICYmIHNjb3BlLnNlbGVjdGVkSWQubGVuZ3RoIT0wICYmIHNjb3BlLiRsYXN0ICYmICFzY29wZS4kcGFyZW50LmZpcnN0UmVhcGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRwYXJlbnQuZmlyc3RSZWFwZXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5jYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaXRlbSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogc2NvcGUuc2VsZWN0ZWRJZFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzY29wZS5kYXRhW3Njb3BlLmlkSGFzaC5pbmRleE9mKHNjb3BlLnNlbGVjdGVkSWRbMF0pXS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbGVjdGVkOiBzY29wZS5zZWxlY3RlZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhzY29wZS4kcGFyZW50LmlkSGFzaCk7XG4gICAgICAgIH07XG4gICAgfSkuZGlyZWN0aXZlKCdsaXN0aW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgICdkYXRhJzogJz0nLFxuICAgICAgICAgICAgICAgICd0dXBsZUNvdW50JzogJ0AnLFxuICAgICAgICAgICAgICAgICdzZWxlY3RlZElkJzogJz0nLFxuICAgICAgICAgICAgICAgICdtYXhIZWlnaHQnOiAnQCcsXG4gICAgICAgICAgICAgICAgJ2NhbGxiYWNrJzogJyZsaXN0aW5nQ2FsbGJhY2snLFxuICAgICAgICAgICAgICAgICdtdWx0aVNlbGVjdCc6ICdAJyxcbiAgICAgICAgICAgICAgICAnZmlsdGVyTmFtZSc6IFwiPVwiLFxuICAgICAgICAgICAgICAgICdhY3RpdmUnOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXG4gICAgICAgICAgICAvL3RlbXBsYXRlOiAnPHVsPjxsaSBuZy1yZXBlYXQ9XCJpdGVtIGluIGRhdGF8bGltaXRUbzp0dXBsZUNvdW50XCIgbmctcmVwZWF0LWRvbmUtbm90aWZpY2F0aW9uPXt7aXRlbS5pZH19IG5nLWNsaWNrPVwiY2hlY2tJdGVtKHRoaXMpXCI+PGlucHV0IG5nLWlmPVwibXVsdGlTZWxlY3RcIiB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1pdGVtLmNoZWNrZWQ+PGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrO1wiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+PC9saT48L3VsPicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzx1bD48bGkgbmctcmVwZWF0PVwiaXRlbSBpbiBkYXRhXCIgbmctcmVwZWF0LWRvbmUtbm90aWZpY2F0aW9uPXt7aXRlbS5pZH19IG5nLWNsaWNrPVwiY2hlY2tJdGVtKHRoaXMpXCIgbmctY2xhc3M9XCJ7YWN0aXZlOml0ZW0uYWN0aXZlLCBub3RTZWxlY3RhYmxlOml0ZW0ubm90U2VsZWN0YWJsZX1cIj48aW5wdXQgbmctaWY9XCJtdWx0aVNlbGVjdCA9PSBcXCd0cnVlXFwnICYmICFpdGVtLm5vdFNlbGVjdGFibGVcIiB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1pdGVtLmNoZWNrZWQ+e3tzZWxlY3RlZE5hbWV9fTxkaXYgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jazsgd2lkdGg6YXV0bztcIiBuZy10cmFuc2NsdWRlPjwvZGl2PjwvbGk+PC91bD4nLFxuXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgaUVsZW1lbnQsIGlBdHRyLCBjb250cm9sbGVycykge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZpcnN0UmVhcGV0ID0gMDtcbiAgICAgICAgICAgICAgICBzY29wZS5zZWxPYmogPSB7fTtcbiAgICAgICAgICAgICAgICBzY29wZS5pZEhhc2ggPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhLmZvckVhY2goZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaWRIYXNoLnB1c2goeC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNjb3BlLiRvbignc2VsZWN0JywgZnVuY3Rpb24oZXZlbnQsIHNvbWVEYXRhLCBmbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtVG9TZWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtVG9TZWwgPSBzY29wZS5kYXRhW3Njb3BlLmlkSGFzaC5pbmRleE9mKGZsYWcpXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1Ub1NlbCA9IHNjb3BlLmRhdGFbc2NvcGUuYWN0aXZlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNoZWNrSXRlbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaXRlbSc6IGVsZW1Ub1NlbFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzY29wZS4kb24oJ2RlU2VsZWN0JyxmdW5jdGlvbihldmVudCxpZCl7XG5cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihtYXRjaElkeCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuYWN0aXZlIDwgaUVsZW1lbnQuZmluZCgnbGknKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS5hY3RpdmUgPT09IG1hdGNoSWR4O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICByZXR1cm4gc2NvcGUuYWN0aXZlID09PSBtYXRjaElkeDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBzY29wZS5jaGVja0l0ZW0gPSBmdW5jdGlvbihfdGhpcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmF0dHIgPSBpQXR0cjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXRlbS5ub3RTZWxlY3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lFbGVtZW50LmFkZENsYXNzKCdub3RTZWxlY3RhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzY29wZS5jaGVja1NlbGVjdGlvbihfdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2l0ZW0nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzLml0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogX3RoaXMuaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbGVjdGVkOiBzY29wZS5zZWxlY3RlZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzLml0ZW0uY2hlY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgICAgICBzY29wZS5jaGVja1NlbGVjdGlvbiA9IGZ1bmN0aW9uKHQpIHsgLy8gYXJyYXkgYW5kIHNlbGVjdGVkSWQgd2lsbCBiZSB0aGUgc2FtZSBhZnRlciB0aGlzLCBcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gdC5pdGVtLmlkO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZElkID0gc2NvcGUuc2VsZWN0ZWRJZCB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLmF0dHIubXVsdGlTZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHNjb3BlLnNlbGVjdGVkSWQuaW5kZXhPZihpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZElkLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbE9ialtpZF0gPSB0Lml0ZW0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lml0ZW0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkSWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NvcGUuc2VsT2JqW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Lml0ZW0uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZElkID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZElkLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy90Lml0ZW0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnc3BlY2lhbGlzdC5kcm9vcGUnLCBbJ3NwZWNpYWxpc3QubGlzdGluZycsICdzcGVjaWFsaXN0LnRhZ2l0J10pXG5cbi5kaXJlY3RpdmUoJ2Ryb29wZScsIFtcIiRkb2N1bWVudFwiLCBmdW5jdGlvbigkZG9jdW1lbnQpIHtcbiAgICAvLyBSdW5zIGR1cmluZyBjb21waWxlXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIG9wdGlvbjogXCI9XCIsXG4gICAgICAgICAgICBjYWxsYmFjazogXCImZHJvb3BlQ2FsbGJhY2tcIixcbiAgICAgICAgICAgIGRhdGE6IFwiPVwiLFxuICAgICAgICAgICAgc2VsZWN0ZWRJZDogXCI9XCIsXG4gICAgICAgICAgICBhcGk6IFwiPVwiXG4gICAgICAgIH0sXG4gICAgICAgIC8vIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJHRyYW5zY2x1ZGUpIHt9LFxuICAgICAgICByZXN0cmljdDogJ0UnLCAvLyBFID0gRWxlbWVudCwgQSA9IEF0dHJpYnV0ZSwgQyA9IENsYXNzLCBNID0gQ29tbWVudFxuICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJkZHduXCI+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIkREd3JhcFwiPicgK1xuICAgICAgICAgICAgJzx1bCBjbGFzcz1cIkREc2VhcmNoXCI+JyArXG4gICAgICAgICAgICAnPGxpIGNsYXNzPVwiZnJzdFwiIHN0eWxlPVwiZmxvYXQ6IG5vbmU7XCI+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIkREaW5wdXRXcmFwXCI+JyArXG4gICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJkZEljb24gc3JjaFR4dFwiIG5nLWNsaWNrPVwic2hvd0Ryb3AoKVwiPjwvc3Bhbj4nICtcbiAgICAgICAgICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1jbGljaz1cInNob3dEcm9wKClcIiBpZD1cIlwiIGNsYXNzPVwic3JjaFR4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIHN0eWxlPVwiY29sb3I6IHJnYig2OCwgNjgsIDY4KTtcIiBuZy1tb2RlbD1cInNlbGVjdGVkTmFtZVwiPicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzwvbGk+JyArXG4gICAgICAgICAgICAnPC91bD4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZGRfZHduXCIgbmctc2hvdz1cInNob3dcIj4nICtcbiAgICAgICAgICAgICc8bGlzdGluZyB0dXBsZWNvdW50PVwiMTBcIiBtdWx0aS1zZWxlY3Q9XCJ7e29wdGlvbi5tdWx0aXNlbGVjdH19XCIgYWN0aXZlPVwiYWN0aXZlSW5kZXhcIiBzZWxlY3RlZC1pZCA9XCJzZWxlY3RlZElkXCIgbGlzdGluZy1jYWxsYmFjaz1cImxpc3RpbmdDYWxsYmFjayhpdGVtKVwiIGRhdGE9XCJkYXRhXCIgZmlsdGVyLW5hbWU9XCJzZWxlY3RlZE5hbWVcIj4nICtcbiAgICAgICAgICAgICc8ZGl2PjxzcGFuPnt7JHBhcmVudC5pdGVtLm5hbWV9fTwvc3Bhbj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2xpc3Rpbmc+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICAgICAgdmFyIF9fb3B0aW9uc19fID0ge1xuICAgICAgICAgICAgICAgIGZpZWxkQXR0cjoge1xuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0VudGVyIHlvdXIgVmFsdWVzJ1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5raW5nKHNjb3BlLCBpRWxtLCBpQXR0cnMsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5hY3RpdmVJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpRWxtKTtcbiAgICAgICAgICAgICAgICAvL2JpbmQga2V5Ym9hcmQgZXZlbnRzOiBhcnJvd3MgdXAoMzgpIC8gZG93big0MCksIGVudGVyKDEzKSBhbmQgdGFiKDkpLCBlc2MoMjcpXG4gICAgICAgICAgICAgICAgaUVsbS5maW5kKCdpbnB1dCcpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZ0LndoaWNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnNlbGVjdGVkTmFtZSA9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuYmx1ck91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnc2VsZWN0JywgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhW3Njb3BlLmFjdGl2ZUluZGV4XS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hY3RpdmVJbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGFbc2NvcGUuYWN0aXZlSW5kZXhdLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhW3Njb3BlLmFjdGl2ZUluZGV4XS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5hY3RpdmVJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGFbc2NvcGUuYWN0aXZlSW5kZXhdLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucyA9IGFuZ3VsYXIubWVyZ2UoX19vcHRpb25zX18sIHNjb3BlLm9wdGlvbik7XG4gICAgICAgICAgICAgICAgc2NvcGUudGFncyA9IFtdO1xuICAgICAgICAgICAgICAgIGlFbG0uZmluZCgnaW5wdXQnKS5hdHRyKHNjb3BlLm9wdGlvbnMuZmllbGRBdHRyKVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFtmdW5jdGlvbiBjYWxsZWQgb24gbGlzdCBjbGljay0gYWZ0ZXIgbGlzdGluZyBjYWxsYmFja11cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gIHtbdHlwZV19IHJldE9iaiBbb2JqZWN0IGZyb20gbGlzdGluZyBjYWxsYmFja11cbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW3RhZ3Mgb2JqZWN0IHVwZGF0ZWRdXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc2NvcGUuYXBpID0ge1xuICAgICAgICAgICAgICAgICAgICByZXNldERyb29wZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Njb3BlLmFjdGl2ZSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWROYW1lID0gXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdGVkSWQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0SXRlbTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCggaWQgKSA9PT0gJ1tvYmplY3QgQXJyYXldJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ3NlbGVjdCcsdGhpcyxpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ3NlbGVjdCcsIHRoaXMsIGlkKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2NvcGUubGlzdGluZ0NhbGxiYWNrID0gZnVuY3Rpb24ocmV0T2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdUYWcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcmV0T2JqLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcmV0T2JqLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUudGFnVXBkYXRlKG5ld1RhZywgcmV0T2JqLmNoZWNrZWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLnRhZ1VwZGF0ZSA9IGZ1bmN0aW9uKHRhZ09iaiwgY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUub3B0aW9uLm11bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRhZ3MucHVzaCh0YWdPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBzY29wZS50YWdzLmluZGV4T2YodGFnT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS50YWdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3RlZE5hbWUgPSB0YWdPYmoubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXRlbVwiOiB0YWdPYmpcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBbY2FsbGVkIG9uIGlucHV0IGZvY3VzIC0gd2lsbCBzaG93IHRoZSBsaXN0XVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNjb3BlLnNob3dEcm9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChzY29wZS5vcHRpb24ubXVsdGlzZWxlY3QpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubGFzdFNlbGVjdGVkID0gc2NvcGUuc2VsZWN0ZWROYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWROYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBwYXJFbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVyYUREJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBzY3JvbGxDb250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RkX2R3bicpO1xuICAgICAgICAgICAgICAgICAgICAvLyB2YXIgZnN0RWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RkX2R3bicpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIilbMF07XG4gICAgICAgICAgICAgICAgICAgIC8vIHNjb3BlLnNjcm9sbEhhbmRsZXIocGFyRWxtLCBzY3JvbGxDb250LCBmc3RFbG0sIGZzdEVsbSk7XG4gICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFtyZW1vdmluZyBhbGwgdGFnc11cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzY29wZS5yZW1vdmVBbGxUYWdzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLm9wdGlvbi5tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNjb3BlLnNlbGVjdGVkSWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBzY29wZS5kYXRhLmluZGV4T2Yoc2NvcGUuc2VsZWN0ZWRJZFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZGF0YVtpbmRleF0uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWROYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5ibHVyT3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBibHVyT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzY29wZS5zZWxlY3RlZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiAnbm8nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgc2NvcGUuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUubGlzdGluZ0NhbGxiYWNrKGJsdXJPYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBbaGlkZSBsaXN0IGRyb3Agb24gZG9jdW1lbnQgY2xpY2tdXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVsZW1lbnQoZXZlbnQudGFyZ2V0KS5oYXNDbGFzcygnc3JjaFR4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihzY29wZS5zZWxlY3RlZE5hbWUgPT0gXCJcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWROYW1lID0gc2NvcGUubGFzdFNlbGVjdGVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIC8vICBzY29wZS5ibHVyT3V0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufV0pOyIsInNwZWNpYWxpc3QuY29udHJvbGxlcignbWFpbkNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcblx0dmFyIGpzb24gPSBbeyduYW1lJzonRGVsaGknfSx7J25hbWUnOidOb2lkYSd9LHsnbmFtZSc6J0d1cmdhb24nfV1cblx0JHNjb3BlLm9wdGlvbnMgPSB7fTtcblx0JHNjb3BlLm9wdGlvbnMgPSB7XG5cdFx0ZGF0YTpqc29uLFxuXHRcdG11bHRpc2VsZWN0OnRydWUsXG5cdFx0bWF4SGVpZ2h0OiAyNTBcblx0fTtcblx0XHQkc2NvcGUuZGF0YSA9IFt7J25hbWUnOidEZWxoaSd9LHsnbmFtZSc6J05vaWRhJ30seyduYW1lJzonR3VyZ2Fvbid9XVxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJZCA9IFtdO1xuICAgICAgICAkc2NvcGUub25DbGlja0Z1bmMgPSBmdW5jdGlvbihvYmoxKSB7XG4gICAgICAgICAgICAvLyRzY29wZS5jYk9iaiA9IG9iajtcbiAgICAgICAgICBjb25zb2xlLmxvZyhvYmoxKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuYXBpID0ge307XG59XSkiLCJzcGVjaWFsaXN0LmNvbnRyb2xsZXIoJ1NlYXJjaEN0cmwnLCBbJyRzY29wZScsJ2RhdGFTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSxkYXRhU2VydmljZSkge1xuXHRkYXRhU2VydmljZS5nZXRGdWxsRG9jdG9yTGlzdCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG5cdFx0Y29uc29sZS5sb2coZGF0YSk7XG5cdFx0JHNjb3BlLmRvY3Rvckxpc3QgPSBkYXRhO1xuXHR9KTtcbn1dKSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
